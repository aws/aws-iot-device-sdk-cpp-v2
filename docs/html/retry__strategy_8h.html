<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device SDK C++ v2: crt/aws-crt-cpp/crt/aws-c-io/include/aws/io/retry_strategy.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device SDK C++ v2<span id="projectnumber">&#160;1.14.0</span>
   </div>
   <div id="projectbrief">AWS IoT Device SDK C++ v2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_affb495f978f3575eca2eeb81eb7736b.html">crt</a></li><li class="navelem"><a class="el" href="dir_eb065311872385a3a1227a6ede2c108c.html">aws-crt-cpp</a></li><li class="navelem"><a class="el" href="dir_c68d83f7493c97e50c45ec06f21e3081.html">crt</a></li><li class="navelem"><a class="el" href="dir_38639adb496917e811387c759039569e.html">aws-c-io</a></li><li class="navelem"><a class="el" href="dir_3d644dac8e4d2dce5360ef05f3ab5379.html">include</a></li><li class="navelem"><a class="el" href="dir_af0f76d25aa9860856673da2c593123b.html">aws</a></li><li class="navelem"><a class="el" href="dir_97e3bcfcca9fc5343cdc91da3e39aeed.html">io</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">retry_strategy.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_source.html">aws/io/exports.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="atomics_8h_source.html">aws/common/atomics.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="byte__buf_8h_source.html">aws/common/byte_buf.h</a>&gt;</code><br />
</div>
<p><a href="retry__strategy_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__retry__strategy__vtable.html">aws_retry_strategy_vtable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__retry__token.html">aws_retry_token</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__exponential__backoff__retry__options.html">aws_exponential_backoff_retry_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__standard__retry__options.html">aws_standard_retry_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a840055993c2a9788207792f45db2e27f"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a840055993c2a9788207792f45db2e27f">aws_retry_strategy_on_retry_token_acquired_fn</a>(struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *retry_strategy, int error_code, struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token, void *user_data)</td></tr>
<tr class="separator:a840055993c2a9788207792f45db2e27f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4a870a92bb428e8688ec1c07273220"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#ade4a870a92bb428e8688ec1c07273220">aws_retry_strategy_on_retry_ready_fn</a>(struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token, int error_code, void *user_data)</td></tr>
<tr class="separator:ade4a870a92bb428e8688ec1c07273220"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:af89c6cafd32c7015ca7157a0c36ecb0c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0c">aws_retry_error_type</a> { <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0caac26e05a8ef7994a7690b1482dda89ac">AWS_RETRY_ERROR_TYPE_TRANSIENT</a>
, <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0ca5020ebb2f91809211f484b6e8b94f3f4">AWS_RETRY_ERROR_TYPE_THROTTLING</a>
, <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0ca3df5173a0d4dcb0a9fee714754587f94">AWS_RETRY_ERROR_TYPE_SERVER_ERROR</a>
, <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0ca47b0edab8d75d0678f4743ef36529cfa">AWS_RETRY_ERROR_TYPE_CLIENT_ERROR</a>
 }</td></tr>
<tr class="separator:af89c6cafd32c7015ca7157a0c36ecb0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314f9a25f2e99a18e52c65ffd320b6c4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a314f9a25f2e99a18e52c65ffd320b6c4">aws_exponential_backoff_jitter_mode</a> { <a class="el" href="retry__strategy_8h.html#a314f9a25f2e99a18e52c65ffd320b6c4a1bf3d8c55077d0c42566172ea773e29d">AWS_EXPONENTIAL_BACKOFF_JITTER_DEFAULT</a>
, <a class="el" href="retry__strategy_8h.html#a314f9a25f2e99a18e52c65ffd320b6c4ad35c426b5f1d38b9d73e269d5d3469a5">AWS_EXPONENTIAL_BACKOFF_JITTER_NONE</a>
, <a class="el" href="retry__strategy_8h.html#a314f9a25f2e99a18e52c65ffd320b6c4a25b62d772d46662fe44cc1e48219ad6f">AWS_EXPONENTIAL_BACKOFF_JITTER_FULL</a>
, <a class="el" href="retry__strategy_8h.html#a314f9a25f2e99a18e52c65ffd320b6c4afa14159a985f45394ef1837c1bf2d866">AWS_EXPONENTIAL_BACKOFF_JITTER_DECORRELATED</a>
 }</td></tr>
<tr class="separator:a314f9a25f2e99a18e52c65ffd320b6c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a873944178f109ca1607525dd96011cb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="macros_8h.html#ab6f66af8231eba5da061b9ada0d29bad">AWS_EXTERN_C_BEGIN</a> <a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a873944178f109ca1607525dd96011cb9">aws_retry_strategy_acquire</a> (struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *retry_strategy)</td></tr>
<tr class="separator:a873944178f109ca1607525dd96011cb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622bfe5602501414d1aed990a4b6e0ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a622bfe5602501414d1aed990a4b6e0ad">aws_retry_strategy_release</a> (struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *retry_strategy)</td></tr>
<tr class="separator:a622bfe5602501414d1aed990a4b6e0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5b94bc4256a8cdc498481176fe9a32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a9e5b94bc4256a8cdc498481176fe9a32">aws_retry_strategy_acquire_retry_token</a> (struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *retry_strategy, const struct <a class="el" href="structaws__byte__cursor.html">aws_byte_cursor</a> *partition_id, <a class="el" href="retry__strategy_8h.html#a840055993c2a9788207792f45db2e27f">aws_retry_strategy_on_retry_token_acquired_fn</a> *on_acquired, void *user_data, uint64_t timeout_ms)</td></tr>
<tr class="separator:a9e5b94bc4256a8cdc498481176fe9a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae54ea9ff39ddd2a21c87f4ef3e6111d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#ae54ea9ff39ddd2a21c87f4ef3e6111d5">aws_retry_strategy_schedule_retry</a> (struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token, enum <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0c">aws_retry_error_type</a> error_type, <a class="el" href="retry__strategy_8h.html#ade4a870a92bb428e8688ec1c07273220">aws_retry_strategy_on_retry_ready_fn</a> *retry_ready, void *user_data)</td></tr>
<tr class="separator:ae54ea9ff39ddd2a21c87f4ef3e6111d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f32fa855a56b5234d8abd40fa9922e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a19f32fa855a56b5234d8abd40fa9922e">aws_retry_token_record_success</a> (struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token)</td></tr>
<tr class="separator:a19f32fa855a56b5234d8abd40fa9922e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d2534a49d742270a24a7483e176da9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a7d2534a49d742270a24a7483e176da9a">aws_retry_token_acquire</a> (struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token)</td></tr>
<tr class="separator:a7d2534a49d742270a24a7483e176da9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f18334e9edacf4b6d0e67e28c87955"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a99f18334e9edacf4b6d0e67e28c87955">aws_retry_token_release</a> (struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token)</td></tr>
<tr class="separator:a99f18334e9edacf4b6d0e67e28c87955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4d5f38922a24014a74b58998527ef1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#add4d5f38922a24014a74b58998527ef1">aws_retry_strategy_new_exponential_backoff</a> (struct <a class="el" href="structaws__allocator.html">aws_allocator</a> *allocator, const struct <a class="el" href="structaws__exponential__backoff__retry__options.html">aws_exponential_backoff_retry_options</a> *config)</td></tr>
<tr class="separator:add4d5f38922a24014a74b58998527ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ad1815c4d84da1651ef5d69ded9b3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="retry__strategy_8h.html#a97ad1815c4d84da1651ef5d69ded9b3c">aws_retry_strategy_new_standard</a> (struct <a class="el" href="structaws__allocator.html">aws_allocator</a> *allocator, const struct <a class="el" href="structaws__standard__retry__options.html">aws_standard_retry_options</a> *config)</td></tr>
<tr class="separator:a97ad1815c4d84da1651ef5d69ded9b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ade4a870a92bb428e8688ec1c07273220" name="ade4a870a92bb428e8688ec1c07273220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4a870a92bb428e8688ec1c07273220">&#9670;&nbsp;</a></span>aws_retry_strategy_on_retry_ready_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() aws_retry_strategy_on_retry_ready_fn(struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token, int error_code, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Invoked after a successful call to <a class="el" href="retry__strategy_8h.html#ae54ea9ff39ddd2a21c87f4ef3e6111d5">aws_retry_strategy_schedule_retry()</a>. This function will always be invoked if and only if <a class="el" href="retry__strategy_8h.html#ae54ea9ff39ddd2a21c87f4ef3e6111d5">aws_retry_strategy_schedule_retry()</a> returns AWS_OP_SUCCESS. It will never be invoked synchronously from <a class="el" href="retry__strategy_8h.html#ae54ea9ff39ddd2a21c87f4ef3e6111d5">aws_retry_strategy_schedule_retry()</a>. After attempting the operation, either call <a class="el" href="retry__strategy_8h.html#ae54ea9ff39ddd2a21c87f4ef3e6111d5">aws_retry_strategy_schedule_retry()</a> with an aws_retry_error_type or call <a class="el" href="retry__strategy_8h.html#a19f32fa855a56b5234d8abd40fa9922e">aws_retry_token_record_success()</a> and then release the token via. <a class="el" href="retry__strategy_8h.html#a99f18334e9edacf4b6d0e67e28c87955">aws_retry_token_release()</a>. </p>

</div>
</div>
<a id="a840055993c2a9788207792f45db2e27f" name="a840055993c2a9788207792f45db2e27f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840055993c2a9788207792f45db2e27f">&#9670;&nbsp;</a></span>aws_retry_strategy_on_retry_token_acquired_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() aws_retry_strategy_on_retry_token_acquired_fn(struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *retry_strategy, int error_code, struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Invoked upon the acquisition, or failure to acquire a retry token. This function will always be invoked if and only if <a class="el" href="retry__strategy_8h.html#a9e5b94bc4256a8cdc498481176fe9a32">aws_retry_strategy_acquire_retry_token()</a> returns AWS_OP_SUCCESS. It will never be invoked synchronously from <a class="el" href="retry__strategy_8h.html#a9e5b94bc4256a8cdc498481176fe9a32">aws_retry_strategy_acquire_retry_token()</a>. Token will always be NULL if error_code is non-zero, and vice-versa. If token is non-null, it will have a reference count of 1, and you must call <a class="el" href="retry__strategy_8h.html#a99f18334e9edacf4b6d0e67e28c87955">aws_retry_token_release()</a> on it later. See the comments for aws_retry_strategy_on_retry_ready_fn for more info. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a314f9a25f2e99a18e52c65ffd320b6c4" name="a314f9a25f2e99a18e52c65ffd320b6c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314f9a25f2e99a18e52c65ffd320b6c4">&#9670;&nbsp;</a></span>aws_exponential_backoff_jitter_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="retry__strategy_8h.html#a314f9a25f2e99a18e52c65ffd320b6c4">aws_exponential_backoff_jitter_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Jitter mode for exponential backoff.</p>
<p >For a great writeup on these options see: <a href="https://aws.amazon.com/blogs/architecture/exponential-backoff-and-jitter/">https://aws.amazon.com/blogs/architecture/exponential-backoff-and-jitter/</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a314f9a25f2e99a18e52c65ffd320b6c4a1bf3d8c55077d0c42566172ea773e29d" name="a314f9a25f2e99a18e52c65ffd320b6c4a1bf3d8c55077d0c42566172ea773e29d"></a>AWS_EXPONENTIAL_BACKOFF_JITTER_DEFAULT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a314f9a25f2e99a18e52c65ffd320b6c4ad35c426b5f1d38b9d73e269d5d3469a5" name="a314f9a25f2e99a18e52c65ffd320b6c4ad35c426b5f1d38b9d73e269d5d3469a5"></a>AWS_EXPONENTIAL_BACKOFF_JITTER_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a314f9a25f2e99a18e52c65ffd320b6c4a25b62d772d46662fe44cc1e48219ad6f" name="a314f9a25f2e99a18e52c65ffd320b6c4a25b62d772d46662fe44cc1e48219ad6f"></a>AWS_EXPONENTIAL_BACKOFF_JITTER_FULL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a314f9a25f2e99a18e52c65ffd320b6c4afa14159a985f45394ef1837c1bf2d866" name="a314f9a25f2e99a18e52c65ffd320b6c4afa14159a985f45394ef1837c1bf2d866"></a>AWS_EXPONENTIAL_BACKOFF_JITTER_DECORRELATED&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="af89c6cafd32c7015ca7157a0c36ecb0c" name="af89c6cafd32c7015ca7157a0c36ecb0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89c6cafd32c7015ca7157a0c36ecb0c">&#9670;&nbsp;</a></span>aws_retry_error_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0c">aws_retry_error_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="af89c6cafd32c7015ca7157a0c36ecb0caac26e05a8ef7994a7690b1482dda89ac" name="af89c6cafd32c7015ca7157a0c36ecb0caac26e05a8ef7994a7690b1482dda89ac"></a>AWS_RETRY_ERROR_TYPE_TRANSIENT&#160;</td><td class="fielddoc"><p >This is a connection level error such as a socket timeout, socket connect error, tls negotiation timeout etc... Typically these should never be applied for non-idempotent request types since in this scenario, it's impossible to know whether the operation had a side effect on the server. </p>
</td></tr>
<tr><td class="fieldname"><a id="af89c6cafd32c7015ca7157a0c36ecb0ca5020ebb2f91809211f484b6e8b94f3f4" name="af89c6cafd32c7015ca7157a0c36ecb0ca5020ebb2f91809211f484b6e8b94f3f4"></a>AWS_RETRY_ERROR_TYPE_THROTTLING&#160;</td><td class="fielddoc"><p >This is an error where the server explicitly told the client to back off, such as a 429 or 503 Http error. </p>
</td></tr>
<tr><td class="fieldname"><a id="af89c6cafd32c7015ca7157a0c36ecb0ca3df5173a0d4dcb0a9fee714754587f94" name="af89c6cafd32c7015ca7157a0c36ecb0ca3df5173a0d4dcb0a9fee714754587f94"></a>AWS_RETRY_ERROR_TYPE_SERVER_ERROR&#160;</td><td class="fielddoc"><p >This is a server error that isn't explicitly throttling but is considered by the client to be something that should be retried. </p>
</td></tr>
<tr><td class="fieldname"><a id="af89c6cafd32c7015ca7157a0c36ecb0ca47b0edab8d75d0678f4743ef36529cfa" name="af89c6cafd32c7015ca7157a0c36ecb0ca47b0edab8d75d0678f4743ef36529cfa"></a>AWS_RETRY_ERROR_TYPE_CLIENT_ERROR&#160;</td><td class="fielddoc"><p >Doesn't count against any budgets. This could be something like a 401 challenge in Http. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a873944178f109ca1607525dd96011cb9" name="a873944178f109ca1607525dd96011cb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a873944178f109ca1607525dd96011cb9">&#9670;&nbsp;</a></span>aws_retry_strategy_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="macros_8h.html#ab6f66af8231eba5da061b9ada0d29bad">AWS_EXTERN_C_BEGIN</a> <a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> void aws_retry_strategy_acquire </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td>
          <td class="paramname"><em>retry_strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Acquire a reference count on retry_strategy.</p>
<p >Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved. SPDX-License-Identifier: Apache-2.0. </p>

</div>
</div>
<a id="a9e5b94bc4256a8cdc498481176fe9a32" name="a9e5b94bc4256a8cdc498481176fe9a32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5b94bc4256a8cdc498481176fe9a32">&#9670;&nbsp;</a></span>aws_retry_strategy_acquire_retry_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_retry_strategy_acquire_retry_token </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td>
          <td class="paramname"><em>retry_strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structaws__byte__cursor.html">aws_byte_cursor</a> *&#160;</td>
          <td class="paramname"><em>partition_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="retry__strategy_8h.html#a840055993c2a9788207792f45db2e27f">aws_retry_strategy_on_retry_token_acquired_fn</a> *&#160;</td>
          <td class="paramname"><em>on_acquired</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Attempts to acquire a retry token for use with retries. On success, on_acquired will be invoked when a token is available, or an error will be returned if the timeout expires. partition_id identifies operations that should be grouped together. This allows for more sophisticated strategies such as AIMD and circuit breaker patterns. Pass NULL to use the global partition. </p>

</div>
</div>
<a id="add4d5f38922a24014a74b58998527ef1" name="add4d5f38922a24014a74b58998527ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4d5f38922a24014a74b58998527ef1">&#9670;&nbsp;</a></span>aws_retry_strategy_new_exponential_backoff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a>* aws_retry_strategy_new_exponential_backoff </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__allocator.html">aws_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structaws__exponential__backoff__retry__options.html">aws_exponential_backoff_retry_options</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Creates a retry strategy using exponential backoff. This strategy does not perform any bookkeeping on error types and success. There is no circuit breaker functionality in here. See the comments above for <a class="el" href="structaws__exponential__backoff__retry__options.html">aws_exponential_backoff_retry_options</a>. </p>

</div>
</div>
<a id="a97ad1815c4d84da1651ef5d69ded9b3c" name="a97ad1815c4d84da1651ef5d69ded9b3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ad1815c4d84da1651ef5d69ded9b3c">&#9670;&nbsp;</a></span>aws_retry_strategy_new_standard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a>* aws_retry_strategy_new_standard </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__allocator.html">aws_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structaws__standard__retry__options.html">aws_standard_retry_options</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This is a retry implementation that cuts off traffic if it's detected that an endpoint partition is having availability problems. This is necessary to keep from making outages worse by scheduling work that's unlikely to succeed yet increases load on an already ailing system.</p>
<p >We do this by creating a bucket for each partition. A partition is an arbitrary specifier. It can be anything: a region, a service, a combination of region and service, a literal dns name.... doesn't matter.</p>
<p >Each bucket has a budget for maximum allowed retries. Different types of events carry different weights. Things that indicate an unhealthy partition such as transient errors (timeouts, unhealthy connection etc...) cost more. A retry for any other reason (service sending a 5xx response code) cost a bit less. When a retry is attempted this capacity is leased out to the retry. On success it is released back to the capacity pool. On failure, it remains leased. Operations that succeed without a retry slowly restore the capacity pool.</p>
<p >If a partition runs out of capacity it is assumed unhealthy and retries will be blocked until capacity returns to the pool. To prevent a partition from staying unhealthy after an outage has recovered, new requests that succeed without a retry will increase the capacity slowly ( a new request gets a payback lease of 1, but the lease is never actually deducted from the capacity pool). </p>

</div>
</div>
<a id="a622bfe5602501414d1aed990a4b6e0ad" name="a622bfe5602501414d1aed990a4b6e0ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a622bfe5602501414d1aed990a4b6e0ad">&#9670;&nbsp;</a></span>aws_retry_strategy_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> void aws_retry_strategy_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td>
          <td class="paramname"><em>retry_strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Releases a reference count on retry_strategy. </p>

</div>
</div>
<a id="ae54ea9ff39ddd2a21c87f4ef3e6111d5" name="ae54ea9ff39ddd2a21c87f4ef3e6111d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae54ea9ff39ddd2a21c87f4ef3e6111d5">&#9670;&nbsp;</a></span>aws_retry_strategy_schedule_retry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_retry_strategy_schedule_retry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0c">aws_retry_error_type</a>&#160;</td>
          <td class="paramname"><em>error_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="retry__strategy_8h.html#ade4a870a92bb428e8688ec1c07273220">aws_retry_strategy_on_retry_ready_fn</a> *&#160;</td>
          <td class="paramname"><em>retry_ready</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Schedules a retry based on the backoff and token based strategies. retry_ready is invoked when the retry is either ready for execution or if it has been canceled due to application shutdown.</p>
<p >This function can return an error to reject the retry attempt if, for example, a circuit breaker has opened. If this occurs users should fail their calls back to their callers.</p>
<p >error_type is used for book keeping. See the comments above for aws_retry_error_type. </p>

</div>
</div>
<a id="a7d2534a49d742270a24a7483e176da9a" name="a7d2534a49d742270a24a7483e176da9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d2534a49d742270a24a7483e176da9a">&#9670;&nbsp;</a></span>aws_retry_token_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> void aws_retry_token_acquire </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Increments reference count for token. This should be called any time you seat the token to a pointer you own. </p>

</div>
</div>
<a id="a19f32fa855a56b5234d8abd40fa9922e" name="a19f32fa855a56b5234d8abd40fa9922e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f32fa855a56b5234d8abd40fa9922e">&#9670;&nbsp;</a></span>aws_retry_token_record_success()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_retry_token_record_success </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Records a successful retry. This is used for making future decisions to open up token buckets, AIMD breakers etc... some strategies such as exponential backoff will ignore this, but you should always call it after a successful operation or your system will never recover during an outage. </p>

</div>
</div>
<a id="a99f18334e9edacf4b6d0e67e28c87955" name="a99f18334e9edacf4b6d0e67e28c87955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f18334e9edacf4b6d0e67e28c87955">&#9670;&nbsp;</a></span>aws_retry_token_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> void aws_retry_token_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Releases the reference count for token. This should always be invoked after either calling <a class="el" href="retry__strategy_8h.html#ae54ea9ff39ddd2a21c87f4ef3e6111d5">aws_retry_strategy_schedule_retry()</a> and failing, or after calling <a class="el" href="retry__strategy_8h.html#a19f32fa855a56b5234d8abd40fa9922e">aws_retry_token_record_success()</a>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
