<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device SDK C++ v2: crt/aws-crt-cpp/crt/aws-c-http/include/aws/http/server.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device SDK C++ v2<span id="projectnumber">&#160;1.14.0</span>
   </div>
   <div id="projectbrief">AWS IoT Device SDK C++ v2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_affb495f978f3575eca2eeb81eb7736b.html">crt</a></li><li class="navelem"><a class="el" href="dir_eb065311872385a3a1227a6ede2c108c.html">aws-crt-cpp</a></li><li class="navelem"><a class="el" href="dir_c68d83f7493c97e50c45ec06f21e3081.html">crt</a></li><li class="navelem"><a class="el" href="dir_c06a36f6ed7b604dcdb4af666fccb59f.html">aws-c-http</a></li><li class="navelem"><a class="el" href="dir_23124b1303dac9065f32061d8813db92.html">include</a></li><li class="navelem"><a class="el" href="dir_ca751b576f55b384c8438ae588a94d7d.html">aws</a></li><li class="navelem"><a class="el" href="dir_4714d0b3153f8e04be910cf28dca3c74.html">http</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">server.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="http_8h_source.html">aws/http/http.h</a>&gt;</code><br />
</div>
<p><a href="server_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__http__server__options.html">aws_http_server_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__http__server__connection__options.html">aws_http_server_connection_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8c9a9a856def59ffbd8deb1e06ab1f9e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#a8c9a9a856def59ffbd8deb1e06ab1f9e">AWS_HTTP_SERVER_OPTIONS_INIT</a>&#160;&#160;&#160;    { .self_size = sizeof(struct <a class="el" href="structaws__http__server__options.html">aws_http_server_options</a>), .initial_window_size = SIZE_MAX, }</td></tr>
<tr class="separator:a8c9a9a856def59ffbd8deb1e06ab1f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c903c72c643451a86b18a322c4df34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#a75c903c72c643451a86b18a322c4df34">AWS_HTTP_SERVER_CONNECTION_OPTIONS_INIT</a>&#160;&#160;&#160;    { .self_size = sizeof(struct <a class="el" href="structaws__http__server__connection__options.html">aws_http_server_connection_options</a>), }</td></tr>
<tr class="separator:a75c903c72c643451a86b18a322c4df34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aeaf0b36b54b3dca4116e419340b5480a"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#aeaf0b36b54b3dca4116e419340b5480a">aws_http_server_on_incoming_connection_fn</a>(struct <a class="el" href="structaws__http__server.html">aws_http_server</a> *server, struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *connection, int error_code, void *user_data)</td></tr>
<tr class="separator:aeaf0b36b54b3dca4116e419340b5480a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90fedaba3a21e6c87d99863578ea683b"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#a90fedaba3a21e6c87d99863578ea683b">aws_http_server_on_destroy_fn</a>(void *user_data)</td></tr>
<tr class="separator:a90fedaba3a21e6c87d99863578ea683b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6effccb7b5a98a71a0e839aca506eca"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structaws__http__stream.html">aws_http_stream</a> *()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#af6effccb7b5a98a71a0e839aca506eca">aws_http_on_incoming_request_fn</a>(struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *connection, void *user_data)</td></tr>
<tr class="separator:af6effccb7b5a98a71a0e839aca506eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721b690df7d3a9102e0e3dd49208cac4"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#a721b690df7d3a9102e0e3dd49208cac4">aws_http_on_server_connection_shutdown_fn</a>(struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *connection, int error_code, void *connection_user_data)</td></tr>
<tr class="separator:a721b690df7d3a9102e0e3dd49208cac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a762b7fc8ff8bef361fa72afc96d00ad6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="macros_8h.html#ab6f66af8231eba5da061b9ada0d29bad">AWS_EXTERN_C_BEGIN</a> <a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h.html#a8eba90dca01a9989cacc0060fa84122a">AWS_HTTP_API</a> struct <a class="el" href="structaws__http__server.html">aws_http_server</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#a762b7fc8ff8bef361fa72afc96d00ad6">aws_http_server_new</a> (const struct <a class="el" href="structaws__http__server__options.html">aws_http_server_options</a> *options)</td></tr>
<tr class="separator:a762b7fc8ff8bef361fa72afc96d00ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ffd6c2ff8443820b59a6aa5271f438f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h.html#a8eba90dca01a9989cacc0060fa84122a">AWS_HTTP_API</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#a4ffd6c2ff8443820b59a6aa5271f438f">aws_http_server_release</a> (struct <a class="el" href="structaws__http__server.html">aws_http_server</a> *server)</td></tr>
<tr class="separator:a4ffd6c2ff8443820b59a6aa5271f438f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd782eeaf51696bbed4c5d103b93ad6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h.html#a8eba90dca01a9989cacc0060fa84122a">AWS_HTTP_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#acfd782eeaf51696bbed4c5d103b93ad6">aws_http_connection_configure_server</a> (struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *connection, const struct <a class="el" href="structaws__http__server__connection__options.html">aws_http_server_connection_options</a> *options)</td></tr>
<tr class="separator:acfd782eeaf51696bbed4c5d103b93ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab20d786961b87d8ce0f82c8d93fd7904"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h.html#a8eba90dca01a9989cacc0060fa84122a">AWS_HTTP_API</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8h.html#ab20d786961b87d8ce0f82c8d93fd7904">aws_http_connection_is_server</a> (const struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *connection)</td></tr>
<tr class="separator:ab20d786961b87d8ce0f82c8d93fd7904"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a75c903c72c643451a86b18a322c4df34" name="a75c903c72c643451a86b18a322c4df34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c903c72c643451a86b18a322c4df34">&#9670;&nbsp;</a></span>AWS_HTTP_SERVER_CONNECTION_OPTIONS_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AWS_HTTP_SERVER_CONNECTION_OPTIONS_INIT&#160;&#160;&#160;    { .self_size = sizeof(struct <a class="el" href="structaws__http__server__connection__options.html">aws_http_server_connection_options</a>), }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initializes <a class="el" href="structaws__http__server__connection__options.html">aws_http_server_connection_options</a> with default values. </p>

</div>
</div>
<a id="a8c9a9a856def59ffbd8deb1e06ab1f9e" name="a8c9a9a856def59ffbd8deb1e06ab1f9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c9a9a856def59ffbd8deb1e06ab1f9e">&#9670;&nbsp;</a></span>AWS_HTTP_SERVER_OPTIONS_INIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AWS_HTTP_SERVER_OPTIONS_INIT&#160;&#160;&#160;    { .self_size = sizeof(struct <a class="el" href="structaws__http__server__options.html">aws_http_server_options</a>), .initial_window_size = SIZE_MAX, }</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initializes <a class="el" href="structaws__http__server__options.html">aws_http_server_options</a> with default values. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="af6effccb7b5a98a71a0e839aca506eca" name="af6effccb7b5a98a71a0e839aca506eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6effccb7b5a98a71a0e839aca506eca">&#9670;&nbsp;</a></span>aws_http_on_incoming_request_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structaws__http__stream.html">aws_http_stream</a>*() aws_http_on_incoming_request_fn(struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *connection, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Invoked at the start of an incoming request. To process the request, the user must create a request handler stream and return it to the connection. If NULL is returned, the request will not be processed and the last error will be reported as the reason for failure. </p>

</div>
</div>
<a id="a721b690df7d3a9102e0e3dd49208cac4" name="a721b690df7d3a9102e0e3dd49208cac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721b690df7d3a9102e0e3dd49208cac4">&#9670;&nbsp;</a></span>aws_http_on_server_connection_shutdown_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() aws_http_on_server_connection_shutdown_fn(struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *connection, int error_code, void *connection_user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a90fedaba3a21e6c87d99863578ea683b" name="a90fedaba3a21e6c87d99863578ea683b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90fedaba3a21e6c87d99863578ea683b">&#9670;&nbsp;</a></span>aws_http_server_on_destroy_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() aws_http_server_on_destroy_fn(void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeaf0b36b54b3dca4116e419340b5480a" name="aeaf0b36b54b3dca4116e419340b5480a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaf0b36b54b3dca4116e419340b5480a">&#9670;&nbsp;</a></span>aws_http_server_on_incoming_connection_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() aws_http_server_on_incoming_connection_fn(struct <a class="el" href="structaws__http__server.html">aws_http_server</a> *server, struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *connection, int error_code, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acfd782eeaf51696bbed4c5d103b93ad6" name="acfd782eeaf51696bbed4c5d103b93ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd782eeaf51696bbed4c5d103b93ad6">&#9670;&nbsp;</a></span>aws_http_connection_configure_server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h.html#a8eba90dca01a9989cacc0060fa84122a">AWS_HTTP_API</a> int aws_http_connection_configure_server </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structaws__http__server__connection__options.html">aws_http_server_connection_options</a> *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Configure a server connection. This must be called from the server's on_incoming_connection callback. </p>

</div>
</div>
<a id="ab20d786961b87d8ce0f82c8d93fd7904" name="ab20d786961b87d8ce0f82c8d93fd7904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab20d786961b87d8ce0f82c8d93fd7904">&#9670;&nbsp;</a></span>aws_http_connection_is_server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h.html#a8eba90dca01a9989cacc0060fa84122a">AWS_HTTP_API</a> bool aws_http_connection_is_server </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structaws__http__connection.html">aws_http_connection</a> *&#160;</td>
          <td class="paramname"><em>connection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns true if this is a server connection. </p>

</div>
</div>
<a id="a762b7fc8ff8bef361fa72afc96d00ad6" name="a762b7fc8ff8bef361fa72afc96d00ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a762b7fc8ff8bef361fa72afc96d00ad6">&#9670;&nbsp;</a></span>aws_http_server_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="macros_8h.html#ab6f66af8231eba5da061b9ada0d29bad">AWS_EXTERN_C_BEGIN</a> <a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h.html#a8eba90dca01a9989cacc0060fa84122a">AWS_HTTP_API</a> struct <a class="el" href="structaws__http__server.html">aws_http_server</a>* aws_http_server_new </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structaws__http__server__options.html">aws_http_server_options</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Create server, a listening socket that accepts incoming connections. </p>

</div>
</div>
<a id="a4ffd6c2ff8443820b59a6aa5271f438f" name="a4ffd6c2ff8443820b59a6aa5271f438f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ffd6c2ff8443820b59a6aa5271f438f">&#9670;&nbsp;</a></span>aws_http_server_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h.html#a8eba90dca01a9989cacc0060fa84122a">AWS_HTTP_API</a> void aws_http_server_release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__http__server.html">aws_http_server</a> *&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Release the server. It will close the listening socket and all the connections existing in the server. The on_destroy_complete will be invoked when the destroy operation completes </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
