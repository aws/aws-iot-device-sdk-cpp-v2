<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device SDK C++ v2: crt/aws-crt-cpp/crt/aws-c-io/include/aws/io/pipe.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device SDK C++ v2<span id="projectnumber">&#160;1.14.0</span>
   </div>
   <div id="projectbrief">AWS IoT Device SDK C++ v2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_affb495f978f3575eca2eeb81eb7736b.html">crt</a></li><li class="navelem"><a class="el" href="dir_eb065311872385a3a1227a6ede2c108c.html">aws-crt-cpp</a></li><li class="navelem"><a class="el" href="dir_c68d83f7493c97e50c45ec06f21e3081.html">crt</a></li><li class="navelem"><a class="el" href="dir_38639adb496917e811387c759039569e.html">aws-c-io</a></li><li class="navelem"><a class="el" href="dir_3d644dac8e4d2dce5360ef05f3ab5379.html">include</a></li><li class="navelem"><a class="el" href="dir_af0f76d25aa9860856673da2c593123b.html">aws</a></li><li class="navelem"><a class="el" href="dir_97e3bcfcca9fc5343cdc91da3e39aeed.html">io</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pipe.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="byte__buf_8h_source.html">aws/common/byte_buf.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="io_8h_source.html">aws/io/io.h</a>&gt;</code><br />
</div>
<p><a href="pipe_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a09fca130eff2201e2e708346b1712daf"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#a09fca130eff2201e2e708346b1712daf">aws_pipe_on_readable_fn</a>(struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *read_end, int error_code, void *user_data)</td></tr>
<tr class="separator:a09fca130eff2201e2e708346b1712daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d692be5742b1a7a8e8eca17c1c1673"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#af5d692be5742b1a7a8e8eca17c1c1673">aws_pipe_on_write_completed_fn</a>(struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *write_end, int error_code, struct <a class="el" href="structaws__byte__cursor.html">aws_byte_cursor</a> src_buffer, void *user_data)</td></tr>
<tr class="separator:af5d692be5742b1a7a8e8eca17c1c1673"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a13646ed4a19de95f35b999bdc73b40db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="macros_8h.html#ab6f66af8231eba5da061b9ada0d29bad">AWS_EXTERN_C_BEGIN</a> <a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#a13646ed4a19de95f35b999bdc73b40db">aws_pipe_init</a> (struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *read_end, struct <a class="el" href="structaws__event__loop.html">aws_event_loop</a> *read_end_event_loop, struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *write_end, struct <a class="el" href="structaws__event__loop.html">aws_event_loop</a> *write_end_event_loop, struct <a class="el" href="structaws__allocator.html">aws_allocator</a> *allocator)</td></tr>
<tr class="separator:a13646ed4a19de95f35b999bdc73b40db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef2448e9bd099dc5b05e76a4829d3e90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#aef2448e9bd099dc5b05e76a4829d3e90">aws_pipe_clean_up_read_end</a> (struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *read_end)</td></tr>
<tr class="separator:aef2448e9bd099dc5b05e76a4829d3e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ec7e394c41490e82118c521cb68eff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#aa9ec7e394c41490e82118c521cb68eff">aws_pipe_clean_up_write_end</a> (struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *write_end)</td></tr>
<tr class="separator:aa9ec7e394c41490e82118c521cb68eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7547a3c4a6c4006fd9f0cf0d2ddc6f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> struct <a class="el" href="structaws__event__loop.html">aws_event_loop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#a6e7547a3c4a6c4006fd9f0cf0d2ddc6f">aws_pipe_get_read_end_event_loop</a> (const struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *read_end)</td></tr>
<tr class="separator:a6e7547a3c4a6c4006fd9f0cf0d2ddc6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162729a14921dc08e49bde18093cb760"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> struct <a class="el" href="structaws__event__loop.html">aws_event_loop</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#a162729a14921dc08e49bde18093cb760">aws_pipe_get_write_end_event_loop</a> (const struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *write_end)</td></tr>
<tr class="separator:a162729a14921dc08e49bde18093cb760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926846c7f5e23d0b51ee37b2bfba3905"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#a926846c7f5e23d0b51ee37b2bfba3905">aws_pipe_write</a> (struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *write_end, struct <a class="el" href="structaws__byte__cursor.html">aws_byte_cursor</a> src_buffer, <a class="el" href="pipe_8h.html#af5d692be5742b1a7a8e8eca17c1c1673">aws_pipe_on_write_completed_fn</a> *on_completed, void *user_data)</td></tr>
<tr class="separator:a926846c7f5e23d0b51ee37b2bfba3905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae85bd6247acc61240671660953dc8b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#aae85bd6247acc61240671660953dc8b4">aws_pipe_read</a> (struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *read_end, struct <a class="el" href="structaws__byte__buf.html">aws_byte_buf</a> *dst_buffer, size_t *num_bytes_read)</td></tr>
<tr class="separator:aae85bd6247acc61240671660953dc8b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00ed7c19eca63b7f7ed4896090af02d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#ad00ed7c19eca63b7f7ed4896090af02d">aws_pipe_subscribe_to_readable_events</a> (struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *read_end, <a class="el" href="pipe_8h.html#a09fca130eff2201e2e708346b1712daf">aws_pipe_on_readable_fn</a> *on_readable, void *user_data)</td></tr>
<tr class="separator:ad00ed7c19eca63b7f7ed4896090af02d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a925d5e9018c3015524ed1c7970cfc7f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pipe_8h.html#a925d5e9018c3015524ed1c7970cfc7f4">aws_pipe_unsubscribe_from_readable_events</a> (struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *read_end)</td></tr>
<tr class="separator:a925d5e9018c3015524ed1c7970cfc7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a09fca130eff2201e2e708346b1712daf" name="a09fca130eff2201e2e708346b1712daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09fca130eff2201e2e708346b1712daf">&#9670;&nbsp;</a></span>aws_pipe_on_readable_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() aws_pipe_on_readable_fn(struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *read_end, int error_code, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Callback for when the pipe is readable (edge-triggered), or an error has occurred. Afer subscribing, the callback is invoked when the pipe has data to read, or the pipe has an error. The readable callback is invoked again any time the user reads all data, and then more data arrives. Note that it will not be invoked again if the pipe still has unread data when more data arrives. <code>error_code</code> of AWS_ERROR_SUCCESS indicates a readable event, and otherwise contains the value of the error. <code>user_data</code> corresponds to the <code>user_data</code> passed into aws_pipe_subscribe_to_read_events(). This callback is always invoked on the read-end's event-loop thread. </p>

</div>
</div>
<a id="af5d692be5742b1a7a8e8eca17c1c1673" name="af5d692be5742b1a7a8e8eca17c1c1673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d692be5742b1a7a8e8eca17c1c1673">&#9670;&nbsp;</a></span>aws_pipe_on_write_completed_fn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() aws_pipe_on_write_completed_fn(struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *write_end, int error_code, struct <a class="el" href="structaws__byte__cursor.html">aws_byte_cursor</a> src_buffer, void *user_data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Callback for when the asynchronous <a class="el" href="pipe_8h.html#a926846c7f5e23d0b51ee37b2bfba3905">aws_pipe_write()</a> operation has either completed or failed. <code>write_end</code> will be NULL if this callback is invoked after the the write-end has been cleaned up, this does not necessarily mean that the write operation failed. <code>error_code</code> will be AWS_ERROR_SUCCESS if all data was written, or a code corresponding to the error. <code>src_buffer</code> corresponds to the buffer passed into <a class="el" href="pipe_8h.html#a926846c7f5e23d0b51ee37b2bfba3905">aws_pipe_write()</a> <code>user_data</code> corresponds to the <code>user_data</code> passed into <a class="el" href="pipe_8h.html#a926846c7f5e23d0b51ee37b2bfba3905">aws_pipe_write()</a>. This callback is always invoked on the write-end's event-loop thread. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aef2448e9bd099dc5b05e76a4829d3e90" name="aef2448e9bd099dc5b05e76a4829d3e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef2448e9bd099dc5b05e76a4829d3e90">&#9670;&nbsp;</a></span>aws_pipe_clean_up_read_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_pipe_clean_up_read_end </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *&#160;</td>
          <td class="paramname"><em>read_end</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Clean up the read-end of the pipe. This must be called on the thread of the connected event-loop. </p>

</div>
</div>
<a id="aa9ec7e394c41490e82118c521cb68eff" name="aa9ec7e394c41490e82118c521cb68eff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ec7e394c41490e82118c521cb68eff">&#9670;&nbsp;</a></span>aws_pipe_clean_up_write_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_pipe_clean_up_write_end </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *&#160;</td>
          <td class="paramname"><em>write_end</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Clean up the write-end of the pipe. This must be called on the thread of the connected event-loop. </p>

</div>
</div>
<a id="a6e7547a3c4a6c4006fd9f0cf0d2ddc6f" name="a6e7547a3c4a6c4006fd9f0cf0d2ddc6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7547a3c4a6c4006fd9f0cf0d2ddc6f">&#9670;&nbsp;</a></span>aws_pipe_get_read_end_event_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> struct <a class="el" href="structaws__event__loop.html">aws_event_loop</a>* aws_pipe_get_read_end_event_loop </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *&#160;</td>
          <td class="paramname"><em>read_end</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the event-loop connected to the read-end of the pipe. This may be called on any thread. </p>

</div>
</div>
<a id="a162729a14921dc08e49bde18093cb760" name="a162729a14921dc08e49bde18093cb760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a162729a14921dc08e49bde18093cb760">&#9670;&nbsp;</a></span>aws_pipe_get_write_end_event_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> struct <a class="el" href="structaws__event__loop.html">aws_event_loop</a>* aws_pipe_get_write_end_event_loop </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *&#160;</td>
          <td class="paramname"><em>write_end</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get the event-loop connected to the write-end of the pipe. This may be called on any thread. </p>

</div>
</div>
<a id="a13646ed4a19de95f35b999bdc73b40db" name="a13646ed4a19de95f35b999bdc73b40db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13646ed4a19de95f35b999bdc73b40db">&#9670;&nbsp;</a></span>aws_pipe_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="macros_8h.html#ab6f66af8231eba5da061b9ada0d29bad">AWS_EXTERN_C_BEGIN</a> <a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_pipe_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *&#160;</td>
          <td class="paramname"><em>read_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__event__loop.html">aws_event_loop</a> *&#160;</td>
          <td class="paramname"><em>read_end_event_loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *&#160;</td>
          <td class="paramname"><em>write_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__event__loop.html">aws_event_loop</a> *&#160;</td>
          <td class="paramname"><em>write_end_event_loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__allocator.html">aws_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Opens an OS specific bidirectional pipe. The read direction is stored in read_end. Write direction is stored in write_end. Each end must be connected to an event-loop, and further calls to each end must happen on that event-loop's thread. </p>

</div>
</div>
<a id="aae85bd6247acc61240671660953dc8b4" name="aae85bd6247acc61240671660953dc8b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae85bd6247acc61240671660953dc8b4">&#9670;&nbsp;</a></span>aws_pipe_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_pipe_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *&#160;</td>
          <td class="paramname"><em>read_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__byte__buf.html">aws_byte_buf</a> *&#160;</td>
          <td class="paramname"><em>dst_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>num_bytes_read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Read data from the pipe into the destination buffer. Attempts to read enough to fill all remaining space in the buffer, from <code>dst_buffer-&gt;len</code> to <code>dst_buffer-&gt;capacity</code>. <code>dst_buffer-&gt;len</code> is updated to reflect the buffer's new length. <code>num_bytes_read</code> (optional) is set to the total number of bytes read. This function never blocks. If no bytes could be read without blocking, then AWS_OP_ERR is returned and <a class="el" href="aws-c-common_2include_2aws_2common_2error_8h.html#a1322935281a00b323a6307e42738781e">aws_last_error()</a> code will be AWS_IO_READ_WOULD_BLOCK. This must be called on the thread of the connected event-loop. </p>

</div>
</div>
<a id="ad00ed7c19eca63b7f7ed4896090af02d" name="ad00ed7c19eca63b7f7ed4896090af02d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad00ed7c19eca63b7f7ed4896090af02d">&#9670;&nbsp;</a></span>aws_pipe_subscribe_to_readable_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_pipe_subscribe_to_readable_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *&#160;</td>
          <td class="paramname"><em>read_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pipe_8h.html#a09fca130eff2201e2e708346b1712daf">aws_pipe_on_readable_fn</a> *&#160;</td>
          <td class="paramname"><em>on_readable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Subscribe to be notified when the pipe becomes readable (edge-triggered), or an error occurs. <code>on_readable</code> is invoked on the event-loop's thread when the pipe has data to read, or the pipe has an error. <code>on_readable</code> is invoked again any time the user reads all data, and then more data arrives. Note that it will not be invoked again if the pipe still has unread data when more data arrives. This must be called on the thread of the connected event-loop. </p>

</div>
</div>
<a id="a925d5e9018c3015524ed1c7970cfc7f4" name="a925d5e9018c3015524ed1c7970cfc7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a925d5e9018c3015524ed1c7970cfc7f4">&#9670;&nbsp;</a></span>aws_pipe_unsubscribe_from_readable_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_pipe_unsubscribe_from_readable_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__pipe__read__end.html">aws_pipe_read_end</a> *&#160;</td>
          <td class="paramname"><em>read_end</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Stop receiving notifications about events on the read-end of the pipe. This must be called on the thread of the connected event-loop. </p>

</div>
</div>
<a id="a926846c7f5e23d0b51ee37b2bfba3905" name="a926846c7f5e23d0b51ee37b2bfba3905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a926846c7f5e23d0b51ee37b2bfba3905">&#9670;&nbsp;</a></span>aws_pipe_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h.html#a26db8dfe8d149d3ddd330c792f3e67df">AWS_IO_API</a> int aws_pipe_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__pipe__write__end.html">aws_pipe_write_end</a> *&#160;</td>
          <td class="paramname"><em>write_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__byte__cursor.html">aws_byte_cursor</a>&#160;</td>
          <td class="paramname"><em>src_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pipe_8h.html#af5d692be5742b1a7a8e8eca17c1c1673">aws_pipe_on_write_completed_fn</a> *&#160;</td>
          <td class="paramname"><em>on_completed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Initiates an asynchrous write from the source buffer to the pipe. The data referenced by <code>src_buffer</code> must remain in memory until the operation completes. <code>on_complete</code> is called on the event-loop thread when the operation has either completed or failed. The callback's pipe argument will be NULL if the callback is invoked after the pipe has been cleaned up. This must be called on the thread of the connected event-loop. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
