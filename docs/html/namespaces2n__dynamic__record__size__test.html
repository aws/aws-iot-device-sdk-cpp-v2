<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device SDK C++ v2: s2n_dynamic_record_size_test Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device SDK C++ v2<span id="projectnumber">&#160;1.14.0</span>
   </div>
   <div id="projectbrief">AWS IoT Device SDK C++ v2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">s2n_dynamic_record_size_test Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab24972674c14649fbf4514ca9370f4e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#aab24972674c14649fbf4514ca9370f4e">cleanup_processes</a> (*processes)</td></tr>
<tr class="separator:aab24972674c14649fbf4514ca9370f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89a5c3b90e3025fa5d24c83e0a53e55"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#ad89a5c3b90e3025fa5d24c83e0a53e55">try_dynamic_record</a> (endpoint, port, cipher, ssl_version, threshold, <a class="el" href="s2n__fragmentation__coalescing__test_8c.html#a6f8e086c4374b9500a7200a82eb494df">server_cert</a>=None, server_key=None, sig_algs=None, curves=None, dh_params=None)</td></tr>
<tr class="separator:ad89a5c3b90e3025fa5d24c83e0a53e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56d618c4daaf598e25c7e7116c9108e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#aa56d618c4daaf598e25c7e7116c9108e">print_result</a> (result_prefix, return_code)</td></tr>
<tr class="separator:aa56d618c4daaf598e25c7e7116c9108e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8063361c3e70fd868ba5162d2caf2b12"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#a8063361c3e70fd868ba5162d2caf2b12">run_test</a> (host, port, ssl_version, cipher, threshold)</td></tr>
<tr class="separator:a8063361c3e70fd868ba5162d2caf2b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3c7e51dbeb2cb7b6a286f66fe014f0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#abc3c7e51dbeb2cb7b6a286f66fe014f0">test</a> (host, port, test_ciphers, threshold)</td></tr>
<tr class="separator:abc3c7e51dbeb2cb7b6a286f66fe014f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca5e097c6eeadb8e152b2cdc4afcc57"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#acca5e097c6eeadb8e152b2cdc4afcc57">analyze_tcp_dump</a> (array, threshold)</td></tr>
<tr class="separator:acca5e097c6eeadb8e152b2cdc4afcc57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9de36ddd7957124d96a0682442e127c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#ae9de36ddd7957124d96a0682442e127c">get_local_mtu</a> ()</td></tr>
<tr class="separator:ae9de36ddd7957124d96a0682442e127c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a096b0460bfd72b2d098ad992783d7ae9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#a096b0460bfd72b2d098ad992783d7ae9">main</a> ()</td></tr>
<tr class="separator:a096b0460bfd72b2d098ad992783d7ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a31b7025b79061f38925ef8183d3eeb50"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#a31b7025b79061f38925ef8183d3eeb50">PROTO_VERS_TO_S_SERVER_ARG</a></td></tr>
<tr class="separator:a31b7025b79061f38925ef8183d3eeb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55e171f456f8a6cc00f2f5df3e8062d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws-crt-cpp_2crt_2aws-c-auth_2include_2aws_2auth_2external_2c_j_s_o_n_8h.html#a885837e2b3d6bfbc536b23ea3e8cf054">string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#af55e171f456f8a6cc00f2f5df3e8062d">test_file</a> = './data/test_buf'</td></tr>
<tr class="separator:af55e171f456f8a6cc00f2f5df3e8062d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcfa472c9c6c4c3759219720e1361d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaces2n__dynamic__record__size__test.html#a8dcfa472c9c6c4c3759219720e1361d1">file_size</a> = os.path.getsize(<a class="el" href="namespaces2n__dynamic__record__size__test.html#af55e171f456f8a6cc00f2f5df3e8062d">test_file</a>)</td></tr>
<tr class="separator:a8dcfa472c9c6c4c3759219720e1361d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="acca5e097c6eeadb8e152b2cdc4afcc57" name="acca5e097c6eeadb8e152b2cdc4afcc57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca5e097c6eeadb8e152b2cdc4afcc57">&#9670;&nbsp;</a></span>analyze_tcp_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def s2n_dynamic_record_size_test.analyze_tcp_dump </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This function iterates though each line of the TCP dump and reads the length of each segment, to check that it is
the correct size. It keeps account the total bytes_transferred and therefore tests that all segment sizes before
the threshold is met are less than the maximum segment size (mss). Once this threshold has been met, it tests
that the segment size has been increased by verifying that at least one segment is greater than MTU_bytes.

The mss is read from the first message in the TCP dump, however if this cannot be found a default value is used.

:param list array: this is an array of strings where each list element is a segment from the TCP dump
:param int threshold: the number of bytes sent before switch over from low latency to high throughput mode
</pre> 
</div>
</div>
<a id="aab24972674c14649fbf4514ca9370f4e" name="aab24972674c14649fbf4514ca9370f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab24972674c14649fbf4514ca9370f4e">&#9670;&nbsp;</a></span>cleanup_processes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def s2n_dynamic_record_size_test.cleanup_processes </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>processes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae9de36ddd7957124d96a0682442e127c" name="ae9de36ddd7957124d96a0682442e127c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9de36ddd7957124d96a0682442e127c">&#9670;&nbsp;</a></span>get_local_mtu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def s2n_dynamic_record_size_test.get_local_mtu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a096b0460bfd72b2d098ad992783d7ae9" name="a096b0460bfd72b2d098ad992783d7ae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a096b0460bfd72b2d098ad992783d7ae9">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def s2n_dynamic_record_size_test.main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa56d618c4daaf598e25c7e7116c9108e" name="aa56d618c4daaf598e25c7e7116c9108e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa56d618c4daaf598e25c7e7116c9108e">&#9670;&nbsp;</a></span>print_result()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def s2n_dynamic_record_size_test.print_result </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>result_prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8063361c3e70fd868ba5162d2caf2b12" name="a8063361c3e70fd868ba5162d2caf2b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8063361c3e70fd868ba5162d2caf2b12">&#9670;&nbsp;</a></span>run_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def s2n_dynamic_record_size_test.run_test </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ssl_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cipher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abc3c7e51dbeb2cb7b6a286f66fe014f0" name="abc3c7e51dbeb2cb7b6a286f66fe014f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3c7e51dbeb2cb7b6a286f66fe014f0">&#9670;&nbsp;</a></span>test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def s2n_dynamic_record_size_test.test </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>test_ciphers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad89a5c3b90e3025fa5d24c83e0a53e55" name="ad89a5c3b90e3025fa5d24c83e0a53e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad89a5c3b90e3025fa5d24c83e0a53e55">&#9670;&nbsp;</a></span>try_dynamic_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def s2n_dynamic_record_size_test.try_dynamic_record </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cipher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ssl_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>server_cert</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>server_key</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sig_algs</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>curves</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dh_params</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Attempt to handshake against Openssl s_server listening on `endpoint` and `port` using s2nc

:param int endpoint: endpoint for Openssl s_server to listen on
:param int port: port for Openssl s_server to listen on
:param str cipher: ciphers for Openssl s_server to use. See https://www.openssl.org/docs/man1.0.2/apps/ciphers.html
:param int ssl_version: SSL version for Openssl s_server to use
:param int threshold: the number of bytes sent before switch over from low latency to high throughput
:param str server_cert: path to certificate for Openssl s_server to use
:param str server_key: path to private key for Openssl s_server to use
:param str sig_algs: Signature algorithms for Openssl s_server to accept
:param str curves: Elliptic curves for Openssl s_server to accept
:param str dh_params: path to DH params for Openssl s_server to use
:return: 0 on successfully negotiation(s), -1 on failure
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8dcfa472c9c6c4c3759219720e1361d1" name="a8dcfa472c9c6c4c3759219720e1361d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dcfa472c9c6c4c3759219720e1361d1">&#9670;&nbsp;</a></span>file_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">s2n_dynamic_record_size_test.file_size = os.path.getsize(<a class="el" href="namespaces2n__dynamic__record__size__test.html#af55e171f456f8a6cc00f2f5df3e8062d">test_file</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a31b7025b79061f38925ef8183d3eeb50" name="a31b7025b79061f38925ef8183d3eeb50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31b7025b79061f38925ef8183d3eeb50">&#9670;&nbsp;</a></span>PROTO_VERS_TO_S_SERVER_ARG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary s2n_dynamic_record_size_test.PROTO_VERS_TO_S_SERVER_ARG</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>=  {</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>    S2N_TLS10: <span class="stringliteral">&quot;-tls1&quot;</span>,</div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span>    S2N_TLS11: <span class="stringliteral">&quot;-tls1_1&quot;</span>,</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span>    S2N_TLS12: <span class="stringliteral">&quot;-tls1_2&quot;</span>,</div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af55e171f456f8a6cc00f2f5df3e8062d" name="af55e171f456f8a6cc00f2f5df3e8062d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55e171f456f8a6cc00f2f5df3e8062d">&#9670;&nbsp;</a></span>test_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws-crt-cpp_2crt_2aws-c-auth_2include_2aws_2auth_2external_2c_j_s_o_n_8h.html#a885837e2b3d6bfbc536b23ea3e8cf054">string</a> s2n_dynamic_record_size_test.test_file = './data/test_buf'</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
