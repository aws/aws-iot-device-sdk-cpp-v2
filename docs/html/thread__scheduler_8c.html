<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device SDK C++ v2: crt/aws-crt-cpp/crt/aws-c-common/source/thread_scheduler.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device SDK C++ v2<span id="projectnumber">&#160;1.14.0</span>
   </div>
   <div id="projectbrief">AWS IoT Device SDK C++ v2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_affb495f978f3575eca2eeb81eb7736b.html">crt</a></li><li class="navelem"><a class="el" href="dir_eb065311872385a3a1227a6ede2c108c.html">aws-crt-cpp</a></li><li class="navelem"><a class="el" href="dir_c68d83f7493c97e50c45ec06f21e3081.html">crt</a></li><li class="navelem"><a class="el" href="dir_fab3a90bc3065fb2d7dcf327c1e16d97.html">aws-c-common</a></li><li class="navelem"><a class="el" href="dir_942ba0e0f995b77b354a106627731e0f.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">thread_scheduler.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="clock_8h_source.html">aws/common/clock.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="condition__variable_8h_source.html">aws/common/condition_variable.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="mutex_8h_source.html">aws/common/mutex.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="ref__count_8h_source.html">aws/common/ref_count.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="task__scheduler_8h_source.html">aws/common/task_scheduler.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="thread_8h_source.html">aws/common/thread.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="thread__scheduler_8h_source.html">aws/common/thread_scheduler.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcancellation__node.html">cancellation_node</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac0d118f6454704494a68941a3a0544a6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#ac0d118f6454704494a68941a3a0544a6">s_destroy_callback</a> (void *arg)</td></tr>
<tr class="separator:ac0d118f6454704494a68941a3a0544a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66cc441a653486f33d4d4218bdf69f44"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#a66cc441a653486f33d4d4218bdf69f44">s_thread_should_wake</a> (void *arg)</td></tr>
<tr class="separator:a66cc441a653486f33d4d4218bdf69f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fcd339d3e01edcb47d677e21bd52aa9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#a3fcd339d3e01edcb47d677e21bd52aa9">s_thread_fn</a> (void *arg)</td></tr>
<tr class="separator:a3fcd339d3e01edcb47d677e21bd52aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d27a8b6a24ff14bef8aa1539430ebe7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#a4d27a8b6a24ff14bef8aa1539430ebe7">aws_thread_scheduler_new</a> (struct <a class="el" href="structaws__allocator.html">aws_allocator</a> *allocator, const struct <a class="el" href="structaws__thread__options.html">aws_thread_options</a> *thread_options)</td></tr>
<tr class="separator:a4d27a8b6a24ff14bef8aa1539430ebe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a43476b2734999211f57c49a9555a65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#a3a43476b2734999211f57c49a9555a65">aws_thread_scheduler_acquire</a> (struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *scheduler)</td></tr>
<tr class="separator:a3a43476b2734999211f57c49a9555a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b0105145d748f464a93a01235cd802"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#a19b0105145d748f464a93a01235cd802">aws_thread_scheduler_release</a> (const struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *scheduler)</td></tr>
<tr class="separator:a19b0105145d748f464a93a01235cd802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb62fef7df1aab38d321c2f4473d6ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#a7bb62fef7df1aab38d321c2f4473d6ec">aws_thread_scheduler_schedule_future</a> (struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *scheduler, struct <a class="el" href="structaws__task.html">aws_task</a> *task, uint64_t time_to_run)</td></tr>
<tr class="separator:a7bb62fef7df1aab38d321c2f4473d6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9d584bbc6a82cff0dc609969721af67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#ac9d584bbc6a82cff0dc609969721af67">aws_thread_scheduler_schedule_now</a> (struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *scheduler, struct <a class="el" href="structaws__task.html">aws_task</a> *task)</td></tr>
<tr class="separator:ac9d584bbc6a82cff0dc609969721af67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5aa3a21cacd71fac662c1b8d376d71d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="thread__scheduler_8c.html#af5aa3a21cacd71fac662c1b8d376d71d">aws_thread_scheduler_cancel_task</a> (struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *scheduler, struct <a class="el" href="structaws__task.html">aws_task</a> *task)</td></tr>
<tr class="separator:af5aa3a21cacd71fac662c1b8d376d71d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3a43476b2734999211f57c49a9555a65" name="a3a43476b2734999211f57c49a9555a65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a43476b2734999211f57c49a9555a65">&#9670;&nbsp;</a></span>aws_thread_scheduler_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aws_thread_scheduler_acquire </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *&#160;</td>
          <td class="paramname"><em>scheduler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Acquire a reference to the scheduler. </p>

</div>
</div>
<a id="af5aa3a21cacd71fac662c1b8d376d71d" name="af5aa3a21cacd71fac662c1b8d376d71d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5aa3a21cacd71fac662c1b8d376d71d">&#9670;&nbsp;</a></span>aws_thread_scheduler_cancel_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aws_thread_scheduler_cancel_task </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__task.html">aws_task</a> *&#160;</td>
          <td class="paramname"><em>task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Cancel a task that has been scheduled. The cancellation callback will be invoked in the background thread. This function is slow, so please don't do it in the hot path for your code. </p>

</div>
</div>
<a id="a4d27a8b6a24ff14bef8aa1539430ebe7" name="a4d27a8b6a24ff14bef8aa1539430ebe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d27a8b6a24ff14bef8aa1539430ebe7">&#9670;&nbsp;</a></span>aws_thread_scheduler_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a>* aws_thread_scheduler_new </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__allocator.html">aws_allocator</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structaws__thread__options.html">aws_thread_options</a> *&#160;</td>
          <td class="paramname"><em>thread_options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Creates a new instance of a thread scheduler. This object receives scheduled tasks and executes them inside a background thread. On success, this function returns an instance with a ref-count of 1. On failure it returns NULL.</p>
<p >thread_options are optional.</p>
<p >The semantics of this interface conform to the semantics of <a class="el" href="structaws__task__scheduler.html">aws_task_scheduler</a>. </p>

</div>
</div>
<a id="a19b0105145d748f464a93a01235cd802" name="a19b0105145d748f464a93a01235cd802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19b0105145d748f464a93a01235cd802">&#9670;&nbsp;</a></span>aws_thread_scheduler_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aws_thread_scheduler_release </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *&#160;</td>
          <td class="paramname"><em>scheduler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Release a reference to the scheduler. </p>

</div>
</div>
<a id="a7bb62fef7df1aab38d321c2f4473d6ec" name="a7bb62fef7df1aab38d321c2f4473d6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb62fef7df1aab38d321c2f4473d6ec">&#9670;&nbsp;</a></span>aws_thread_scheduler_schedule_future()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aws_thread_scheduler_schedule_future </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__task.html">aws_task</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>time_to_run</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Schedules a task to run in the future. time_to_run is the absolute time from the system hw_clock. </p>

</div>
</div>
<a id="ac9d584bbc6a82cff0dc609969721af67" name="ac9d584bbc6a82cff0dc609969721af67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9d584bbc6a82cff0dc609969721af67">&#9670;&nbsp;</a></span>aws_thread_scheduler_schedule_now()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aws_thread_scheduler_schedule_now </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__thread__scheduler.html">aws_thread_scheduler</a> *&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__task.html">aws_task</a> *&#160;</td>
          <td class="paramname"><em>task</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Schedules a task to run as soon as possible. </p>

</div>
</div>
<a id="ac0d118f6454704494a68941a3a0544a6" name="ac0d118f6454704494a68941a3a0544a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d118f6454704494a68941a3a0544a6">&#9670;&nbsp;</a></span>s_destroy_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void s_destroy_callback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3fcd339d3e01edcb47d677e21bd52aa9" name="a3fcd339d3e01edcb47d677e21bd52aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fcd339d3e01edcb47d677e21bd52aa9">&#9670;&nbsp;</a></span>s_thread_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void s_thread_fn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a66cc441a653486f33d4d4218bdf69f44" name="a66cc441a653486f33d4d4218bdf69f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66cc441a653486f33d4d4218bdf69f44">&#9670;&nbsp;</a></span>s_thread_should_wake()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool s_thread_should_wake </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
