<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device SDK C++ v2: crt/aws-crt-cpp/crt/aws-c-io/source/standard_retry_strategy.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device SDK C++ v2<span id="projectnumber">&#160;1.14.0</span>
   </div>
   <div id="projectbrief">AWS IoT Device SDK C++ v2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_affb495f978f3575eca2eeb81eb7736b.html">crt</a></li><li class="navelem"><a class="el" href="dir_eb065311872385a3a1227a6ede2c108c.html">aws-crt-cpp</a></li><li class="navelem"><a class="el" href="dir_c68d83f7493c97e50c45ec06f21e3081.html">crt</a></li><li class="navelem"><a class="el" href="dir_38639adb496917e811387c759039569e.html">aws-c-io</a></li><li class="navelem"><a class="el" href="dir_f4dbc368f58b978af8c3f3f8c1515802.html">source</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">standard_retry_strategy.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="logging_8h_source.html">aws/io/logging.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="retry__strategy_8h_source.html">aws/io/retry_strategy.h</a>&gt;</code><br />
<code>#include &lt;aws/common/byte_buf.h&gt;</code><br />
<code>#include &lt;aws/common/hash_table.h&gt;</code><br />
<code>#include &lt;aws/common/mutex.h&gt;</code><br />
<code>#include &lt;aws/common/string.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structretry__bucket.html">retry_bucket</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structretry__bucket__token.html">retry_bucket_token</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstandard__strategy.html">standard_strategy</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10a2a229151488add8621bfb690fe14a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a10a2a229151488add8621bfb690fe14a">AWS_STRING_FROM_LITERAL</a> (s_empty_string, &quot;&quot;)</td></tr>
<tr class="separator:a10a2a229151488add8621bfb690fe14a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bedc764e55f818670aa2a140b1dc3c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a63bedc764e55f818670aa2a140b1dc3c">s_partition_id_equals_byte_cur</a> (const void *seated_cur, const void *cur_ptr)</td></tr>
<tr class="separator:a63bedc764e55f818670aa2a140b1dc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8241e4b897c4a8bdea84edd97519bc0e"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a8241e4b897c4a8bdea84edd97519bc0e">s_hash_partition_id</a> (const void *seated_partition_ptr)</td></tr>
<tr class="separator:a8241e4b897c4a8bdea84edd97519bc0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca83c3134d0c3b1f5ce5ac8def66255e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#aca83c3134d0c3b1f5ce5ac8def66255e">s_destroy_standard_retry_bucket</a> (void *<a class="el" href="structretry__bucket.html">retry_bucket</a>)</td></tr>
<tr class="separator:aca83c3134d0c3b1f5ce5ac8def66255e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a982f82fb097fa2e7199ab6b7b6256a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a1a982f82fb097fa2e7199ab6b7b6256a">s_standard_retry_destroy</a> (struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *retry_strategy)</td></tr>
<tr class="separator:a1a982f82fb097fa2e7199ab6b7b6256a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cd49f7559d91373175360ed0016388f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a8cd49f7559d91373175360ed0016388f">s_on_standard_retry_token_acquired</a> (struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *retry_strategy, int error_code, struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token, void *user_data)</td></tr>
<tr class="separator:a8cd49f7559d91373175360ed0016388f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24833a4eeafd37197a660aea2f157fa4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a24833a4eeafd37197a660aea2f157fa4">s_standard_retry_acquire_token</a> (struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *retry_strategy, const struct aws_byte_cursor *partition_id, <a class="el" href="retry__strategy_8h.html#a840055993c2a9788207792f45db2e27f">aws_retry_strategy_on_retry_token_acquired_fn</a> *on_acquired, void *user_data, uint64_t timeout_ms)</td></tr>
<tr class="separator:a24833a4eeafd37197a660aea2f157fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f923784fb8b49d10af04069f0c9514e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a3f923784fb8b49d10af04069f0c9514e">s_standard_retry_strategy_on_retry_ready</a> (struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token, int error_code, void *user_data)</td></tr>
<tr class="separator:a3f923784fb8b49d10af04069f0c9514e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0b39ba13681e14b3b4fc417043cafb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a8e0b39ba13681e14b3b4fc417043cafb">s_standard_retry_strategy_schedule_retry</a> (struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token, enum <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0c">aws_retry_error_type</a> error_type, <a class="el" href="retry__strategy_8h.html#ade4a870a92bb428e8688ec1c07273220">aws_retry_strategy_on_retry_ready_fn</a> *retry_ready, void *user_data)</td></tr>
<tr class="separator:a8e0b39ba13681e14b3b4fc417043cafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40b8ae90160d422649a2c36ed3ddd7ae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a40b8ae90160d422649a2c36ed3ddd7ae">s_standard_retry_strategy_record_success</a> (struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token)</td></tr>
<tr class="separator:a40b8ae90160d422649a2c36ed3ddd7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f3a819b15137135c3e00d227d44369"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a25f3a819b15137135c3e00d227d44369">s_standard_retry_strategy_release_token</a> (struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *token)</td></tr>
<tr class="separator:a25f3a819b15137135c3e00d227d44369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe32b7da82b52dfeb8132ea437b7d01"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a8fe32b7da82b52dfeb8132ea437b7d01">aws_retry_strategy_new_standard</a> (struct aws_allocator *allocator, const struct <a class="el" href="structaws__standard__retry__options.html">aws_standard_retry_options</a> *config)</td></tr>
<tr class="separator:a8fe32b7da82b52dfeb8132ea437b7d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4a4d56481b210777d34e2b54084dda3b"><td class="memItemLeft" align="right" valign="top">static struct aws_byte_cursor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a4a4d56481b210777d34e2b54084dda3b">s_empty_string_cur</a> = AWS_BYTE_CUR_INIT_FROM_STRING_LITERAL(&quot;&quot;)</td></tr>
<tr class="separator:a4a4d56481b210777d34e2b54084dda3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8523e14f54f9cf665f438bbabf0138"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#afb8523e14f54f9cf665f438bbabf0138">s_initial_retry_bucket_capacity</a> = 500u</td></tr>
<tr class="separator:afb8523e14f54f9cf665f438bbabf0138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a202f6b03e1956282bedb0f2abe76d0e8"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a202f6b03e1956282bedb0f2abe76d0e8">s_standard_retry_cost</a> = 5u</td></tr>
<tr class="separator:a202f6b03e1956282bedb0f2abe76d0e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8857cbdf351893dcb8580dd28f5b5f69"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a8857cbdf351893dcb8580dd28f5b5f69">s_standard_transient_cost</a> = 10u</td></tr>
<tr class="separator:a8857cbdf351893dcb8580dd28f5b5f69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a0438d787fef5594cc5c6022249323"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a44a0438d787fef5594cc5c6022249323">s_standard_no_retry_cost</a> = 1u</td></tr>
<tr class="separator:a44a0438d787fef5594cc5c6022249323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267e0acaa0ed474377aa4a4850893f8f"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structaws__retry__strategy__vtable.html">aws_retry_strategy_vtable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="standard__retry__strategy_8c.html#a267e0acaa0ed474377aa4a4850893f8f">s_standard_retry_vtable</a></td></tr>
<tr class="separator:a267e0acaa0ed474377aa4a4850893f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8fe32b7da82b52dfeb8132ea437b7d01" name="a8fe32b7da82b52dfeb8132ea437b7d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe32b7da82b52dfeb8132ea437b7d01">&#9670;&nbsp;</a></span>aws_retry_strategy_new_standard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a>* aws_retry_strategy_new_standard </td>
          <td>(</td>
          <td class="paramtype">struct aws_allocator *&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structaws__standard__retry__options.html">aws_standard_retry_options</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This is a retry implementation that cuts off traffic if it's detected that an endpoint partition is having availability problems. This is necessary to keep from making outages worse by scheduling work that's unlikely to succeed yet increases load on an already ailing system.</p>
<p >We do this by creating a bucket for each partition. A partition is an arbitrary specifier. It can be anything: a region, a service, a combination of region and service, a literal dns name.... doesn't matter.</p>
<p >Each bucket has a budget for maximum allowed retries. Different types of events carry different weights. Things that indicate an unhealthy partition such as transient errors (timeouts, unhealthy connection etc...) cost more. A retry for any other reason (service sending a 5xx response code) cost a bit less. When a retry is attempted this capacity is leased out to the retry. On success it is released back to the capacity pool. On failure, it remains leased. Operations that succeed without a retry slowly restore the capacity pool.</p>
<p >If a partition runs out of capacity it is assumed unhealthy and retries will be blocked until capacity returns to the pool. To prevent a partition from staying unhealthy after an outage has recovered, new requests that succeed without a retry will increase the capacity slowly ( a new request gets a payback lease of 1, but the lease is never actually deducted from the capacity pool). </p>

</div>
</div>
<a id="a10a2a229151488add8621bfb690fe14a" name="a10a2a229151488add8621bfb690fe14a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10a2a229151488add8621bfb690fe14a">&#9670;&nbsp;</a></span>AWS_STRING_FROM_LITERAL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AWS_STRING_FROM_LITERAL </td>
          <td>(</td>
          <td class="paramtype">s_empty_string&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved. SPDX-License-Identifier: Apache-2.0. </p>

</div>
</div>
<a id="aca83c3134d0c3b1f5ce5ac8def66255e" name="aca83c3134d0c3b1f5ce5ac8def66255e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca83c3134d0c3b1f5ce5ac8def66255e">&#9670;&nbsp;</a></span>s_destroy_standard_retry_bucket()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void s_destroy_standard_retry_bucket </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>retry_bucket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8241e4b897c4a8bdea84edd97519bc0e" name="a8241e4b897c4a8bdea84edd97519bc0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8241e4b897c4a8bdea84edd97519bc0e">&#9670;&nbsp;</a></span>s_hash_partition_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t s_hash_partition_id </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>seated_partition_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8cd49f7559d91373175360ed0016388f" name="a8cd49f7559d91373175360ed0016388f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cd49f7559d91373175360ed0016388f">&#9670;&nbsp;</a></span>s_on_standard_retry_token_acquired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void s_on_standard_retry_token_acquired </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td>
          <td class="paramname"><em>retry_strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a63bedc764e55f818670aa2a140b1dc3c" name="a63bedc764e55f818670aa2a140b1dc3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63bedc764e55f818670aa2a140b1dc3c">&#9670;&nbsp;</a></span>s_partition_id_equals_byte_cur()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool s_partition_id_equals_byte_cur </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>seated_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>cur_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a24833a4eeafd37197a660aea2f157fa4" name="a24833a4eeafd37197a660aea2f157fa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24833a4eeafd37197a660aea2f157fa4">&#9670;&nbsp;</a></span>s_standard_retry_acquire_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int s_standard_retry_acquire_token </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td>
          <td class="paramname"><em>retry_strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct aws_byte_cursor *&#160;</td>
          <td class="paramname"><em>partition_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="retry__strategy_8h.html#a840055993c2a9788207792f45db2e27f">aws_retry_strategy_on_retry_token_acquired_fn</a> *&#160;</td>
          <td class="paramname"><em>on_acquired</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1a982f82fb097fa2e7199ab6b7b6256a" name="a1a982f82fb097fa2e7199ab6b7b6256a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a982f82fb097fa2e7199ab6b7b6256a">&#9670;&nbsp;</a></span>s_standard_retry_destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void s_standard_retry_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__strategy.html">aws_retry_strategy</a> *&#160;</td>
          <td class="paramname"><em>retry_strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f923784fb8b49d10af04069f0c9514e" name="a3f923784fb8b49d10af04069f0c9514e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f923784fb8b49d10af04069f0c9514e">&#9670;&nbsp;</a></span>s_standard_retry_strategy_on_retry_ready()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void s_standard_retry_strategy_on_retry_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a40b8ae90160d422649a2c36ed3ddd7ae" name="a40b8ae90160d422649a2c36ed3ddd7ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b8ae90160d422649a2c36ed3ddd7ae">&#9670;&nbsp;</a></span>s_standard_retry_strategy_record_success()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int s_standard_retry_strategy_record_success </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a25f3a819b15137135c3e00d227d44369" name="a25f3a819b15137135c3e00d227d44369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f3a819b15137135c3e00d227d44369">&#9670;&nbsp;</a></span>s_standard_retry_strategy_release_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void s_standard_retry_strategy_release_token </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e0b39ba13681e14b3b4fc417043cafb" name="a8e0b39ba13681e14b3b4fc417043cafb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0b39ba13681e14b3b4fc417043cafb">&#9670;&nbsp;</a></span>s_standard_retry_strategy_schedule_retry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int s_standard_retry_strategy_schedule_retry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structaws__retry__token.html">aws_retry_token</a> *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="retry__strategy_8h.html#af89c6cafd32c7015ca7157a0c36ecb0c">aws_retry_error_type</a>&#160;</td>
          <td class="paramname"><em>error_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="retry__strategy_8h.html#ade4a870a92bb428e8688ec1c07273220">aws_retry_strategy_on_retry_ready_fn</a> *&#160;</td>
          <td class="paramname"><em>retry_ready</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4a4d56481b210777d34e2b54084dda3b" name="a4a4d56481b210777d34e2b54084dda3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a4d56481b210777d34e2b54084dda3b">&#9670;&nbsp;</a></span>s_empty_string_cur</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct aws_byte_cursor s_empty_string_cur = AWS_BYTE_CUR_INIT_FROM_STRING_LITERAL(&quot;&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afb8523e14f54f9cf665f438bbabf0138" name="afb8523e14f54f9cf665f438bbabf0138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8523e14f54f9cf665f438bbabf0138">&#9670;&nbsp;</a></span>s_initial_retry_bucket_capacity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t s_initial_retry_bucket_capacity = 500u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a44a0438d787fef5594cc5c6022249323" name="a44a0438d787fef5594cc5c6022249323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44a0438d787fef5594cc5c6022249323">&#9670;&nbsp;</a></span>s_standard_no_retry_cost</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t s_standard_no_retry_cost = 1u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a202f6b03e1956282bedb0f2abe76d0e8" name="a202f6b03e1956282bedb0f2abe76d0e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a202f6b03e1956282bedb0f2abe76d0e8">&#9670;&nbsp;</a></span>s_standard_retry_cost</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t s_standard_retry_cost = 5u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a267e0acaa0ed474377aa4a4850893f8f" name="a267e0acaa0ed474377aa4a4850893f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267e0acaa0ed474377aa4a4850893f8f">&#9670;&nbsp;</a></span>s_standard_retry_vtable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structaws__retry__strategy__vtable.html">aws_retry_strategy_vtable</a> s_standard_retry_vtable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    .schedule_retry = <a class="code hl_function" href="standard__retry__strategy_8c.html#a8e0b39ba13681e14b3b4fc417043cafb">s_standard_retry_strategy_schedule_retry</a>,</div>
<div class="line">    .acquire_token = <a class="code hl_function" href="standard__retry__strategy_8c.html#a24833a4eeafd37197a660aea2f157fa4">s_standard_retry_acquire_token</a>,</div>
<div class="line">    .release_token = <a class="code hl_function" href="standard__retry__strategy_8c.html#a25f3a819b15137135c3e00d227d44369">s_standard_retry_strategy_release_token</a>,</div>
<div class="line">    .destroy = <a class="code hl_function" href="standard__retry__strategy_8c.html#a1a982f82fb097fa2e7199ab6b7b6256a">s_standard_retry_destroy</a>,</div>
<div class="line">    .record_success = <a class="code hl_function" href="standard__retry__strategy_8c.html#a40b8ae90160d422649a2c36ed3ddd7ae">s_standard_retry_strategy_record_success</a>,</div>
<div class="line">}</div>
<div class="ttc" id="astandard__retry__strategy_8c_html_a1a982f82fb097fa2e7199ab6b7b6256a"><div class="ttname"><a href="standard__retry__strategy_8c.html#a1a982f82fb097fa2e7199ab6b7b6256a">s_standard_retry_destroy</a></div><div class="ttdeci">static void s_standard_retry_destroy(struct aws_retry_strategy *retry_strategy)</div><div class="ttdef"><b>Definition:</b> standard_retry_strategy.c:74</div></div>
<div class="ttc" id="astandard__retry__strategy_8c_html_a24833a4eeafd37197a660aea2f157fa4"><div class="ttname"><a href="standard__retry__strategy_8c.html#a24833a4eeafd37197a660aea2f157fa4">s_standard_retry_acquire_token</a></div><div class="ttdeci">static int s_standard_retry_acquire_token(struct aws_retry_strategy *retry_strategy, const struct aws_byte_cursor *partition_id, aws_retry_strategy_on_retry_token_acquired_fn *on_acquired, void *user_data, uint64_t timeout_ms)</div><div class="ttdef"><b>Definition:</b> standard_retry_strategy.c:130</div></div>
<div class="ttc" id="astandard__retry__strategy_8c_html_a25f3a819b15137135c3e00d227d44369"><div class="ttname"><a href="standard__retry__strategy_8c.html#a25f3a819b15137135c3e00d227d44369">s_standard_retry_strategy_release_token</a></div><div class="ttdeci">static void s_standard_retry_strategy_release_token(struct aws_retry_token *token)</div><div class="ttdef"><b>Definition:</b> standard_retry_strategy.c:399</div></div>
<div class="ttc" id="astandard__retry__strategy_8c_html_a40b8ae90160d422649a2c36ed3ddd7ae"><div class="ttname"><a href="standard__retry__strategy_8c.html#a40b8ae90160d422649a2c36ed3ddd7ae">s_standard_retry_strategy_record_success</a></div><div class="ttdeci">static int s_standard_retry_strategy_record_success(struct aws_retry_token *token)</div><div class="ttdef"><b>Definition:</b> standard_retry_strategy.c:373</div></div>
<div class="ttc" id="astandard__retry__strategy_8c_html_a8e0b39ba13681e14b3b4fc417043cafb"><div class="ttname"><a href="standard__retry__strategy_8c.html#a8e0b39ba13681e14b3b4fc417043cafb">s_standard_retry_strategy_schedule_retry</a></div><div class="ttdeci">static int s_standard_retry_strategy_schedule_retry(struct aws_retry_token *token, enum aws_retry_error_type error_type, aws_retry_strategy_on_retry_ready_fn *retry_ready, void *user_data)</div><div class="ttdef"><b>Definition:</b> standard_retry_strategy.c:298</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8857cbdf351893dcb8580dd28f5b5f69" name="a8857cbdf351893dcb8580dd28f5b5f69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8857cbdf351893dcb8580dd28f5b5f69">&#9670;&nbsp;</a></span>s_standard_transient_cost</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t s_standard_transient_cost = 10u</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
