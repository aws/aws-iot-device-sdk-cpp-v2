<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Device SDK C++ v2: Known Answer Test Files</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Device SDK C++ v2<span id="projectnumber">&#160;1.14.0</span>
   </div>
   <div id="projectbrief">AWS IoT Device SDK C++ v2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Known Answer Test Files </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Known answer tests are used to verify correctness of certain functionality within s2n. The fixed test vectors in the KAT files are compared against calculated values during unit tests. Currently, all KATs are applicable only to post-quantum/hybrid functionality.</p>
<h1><a class="anchor" id="autotoc_md605"></a>
NIST KATs</h1>
<p >KATs of the form <code>${KEM}_r${N}.kat</code> (e.g. <code>sike_r2.kat</code>) are provided by NIST as part of their <a href="https://csrc.nist.gov/projects/post-quantum-cryptography">post-quantum cryptography standardization effort</a>. These KATs are used to verify that the <code>generate_keypair</code>, <code>encapsulate</code>, and <code>decapsulate</code> functions for each PQ-KEM are correct. The <code>seed</code> value for each test vector is used as entropy to initialize the DRBG during the unit test so that the test can replicate the deterministic randomness used to generate the <code>pk</code>, <code>sk</code>, <code>ct</code>, and <code>ss</code> values. All values are represented as hex-encoded strings.</p>
<p >All NIST KATs were generated with a DRBG in AES 256 counter mode, no derivation function, no prediction resistance.</p>
<h1><a class="anchor" id="autotoc_md606"></a>
Hybrid KATs</h1>
<p >KATs of the form <code>hybrid_echde_${KEM}_r${N}.kat</code> (e.g. <code>hybrid_echde_sike_r2.kat</code>) are used to verify that client and server are correctly generating, parsing, and processing the server key exchange message, client key exchange message, and master secret for hybrid TLS 1.2. The formats of the key exchange messages are given in the <a href="https://tools.ietf.org/html/draft-campagna-tls-bike-sike-hybrid">hybrid TLS 1.2 draft spec</a>. To summarize, the server key exchange message is the concatenation: <code>ServerECDHEParams || ServerPQKemParams || Signature</code> and the client key exchange message is the concatenation: <code>ClientECDHEParams || ClientPQKemParams</code>. The <code>expected_server_key_exchange_message</code> and <code>expected_client_key_exchange_message</code> conform to those formats. The messages were generated by providing the <code>seed</code> value as entropy to initialize the DRBG to a known, fixed state, then generating the <code>expected_server_key_exchange_message</code>, followed by the <code>expected_client_key_exchange_message</code>. The message are hex-encoded bytes, exactly as they would appear over the wire during a TLS 1.2 handshake (the <code>Record Header</code> and <code>Handshake Header</code> bytes are omitted). Additionally, for all KATs:</p><ul>
<li>The DRBG was set to AES 256 counter mode, no derivation function (<code>S2N_AES_256_CTR_NO_DF_PR</code>)</li>
<li>The named curve was <code>secp256r1</code></li>
<li>The hash algorithm was <code>SHA384</code></li>
<li>The signature algorithm was RSA</li>
</ul>
<h1><a class="anchor" id="autotoc_md607"></a>
Hybrid PRF KAT</h1>
<p >The <code>hybrid_prf.kat</code> KAT is used to verify correctness of the TLS 1.2 hybrid PRF responsible for deriving the master secret. The test vectors were generated from an independent implementation of the hybrid PRF. The values <code>premaster_kem_secret_length</code> and <code>client_key_exchange_message_length</code> must be defined in the KAT file, since they vary based on the PQ-KEM. The length must be specified as a base 10 integer. The lengths for all other elements do not vary and are defined in the source test files. The values for <code>premaster_classic_secret</code>, <code>premaster_kem_secret</code>, <code>client_random</code>, <code>server_random</code>, <code>client_key_exchange_message</code>, and <code>master_secret</code> are represented as hex-encoded strings.</p>
<h1><a class="anchor" id="autotoc_md608"></a>
TLS 1.3 Server Hybrid Key Share KAT</h1>
<p >The <code>tls13_server_hybrid_key_share_recv.kat</code> KAT is used to verify correctness of the TLS 1.3 client functionality for receiving PQ hybrid key shares from the server. The values for <code>pq_private_key</code> and <code>pq_shared_secret</code> were taken from the first entry of the NIST KAT files. The value for <code>server_key_share_payload</code> is hex-encoded bytes, as they would appear over the wire, of the key shares extension received by the client in the <code>ServerHello</code> (the first four bytes of a typical key share extension are omitted - the payload begins with the two-byte identifier for the named KEM group). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
