\hypertarget{credentials__provider__imds_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/auth/source/credentials\+\_\+provider\+\_\+imds.c File Reference}
\label{credentials__provider__imds_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/auth/source/credentials\_provider\_imds.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/auth/source/credentials\_provider\_imds.c}}
{\ttfamily \#include $<$aws/auth/aws\+\_\+imds\+\_\+client.\+h$>$}\newline
{\ttfamily \#include $<$aws/auth/credentials.\+h$>$}\newline
{\ttfamily \#include $<$aws/auth/private/credentials\+\_\+utils.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/string.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__credentials__provider__imds__impl}{aws\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+impl}}
\item 
struct \mbox{\hyperlink{structimds__user__data}{imds\+\_\+user\+\_\+data}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{credentials__provider__imds_8c_a82a3a943feb4711d0e1f449ce9e5d25d}{s\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+get\+\_\+credentials\+\_\+async}} (struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$provider, \mbox{\hyperlink{crt_2aws-c-auth_2include_2aws_2auth_2_credentials_8h_a0de102d63db792e21787cb284cbf4871}{aws\+\_\+on\+\_\+get\+\_\+credentials\+\_\+callback\+\_\+fn}} callback, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{credentials__provider__imds_8c_a0318f790ff64becd8bc8adf8052c3a37}{s\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+destroy}} (struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$provider)
\item 
static void \mbox{\hyperlink{credentials__provider__imds_8c_ad3b59ac6906cb8cd13a2d3a8ab28f810}{s\+\_\+on\+\_\+imds\+\_\+client\+\_\+shutdown}} (void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$ \mbox{\hyperlink{credentials__provider__imds_8c_afb4da051f9d39dc7c3667509043b2a5f}{aws\+\_\+credentials\+\_\+provider\+\_\+new\+\_\+imds}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, const struct \mbox{\hyperlink{structaws__credentials__provider__imds__options}{aws\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+options}} $\ast$options)
\item 
static void \mbox{\hyperlink{credentials__provider__imds_8c_a6e43b2791d11f322f241c52e8b3b22b5}{s\+\_\+imds\+\_\+user\+\_\+data\+\_\+destroy}} (struct \mbox{\hyperlink{structimds__user__data}{imds\+\_\+user\+\_\+data}} $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static struct \mbox{\hyperlink{structimds__user__data}{imds\+\_\+user\+\_\+data}} $\ast$ \mbox{\hyperlink{credentials__provider__imds_8c_a283cee8dd973509db40232a25f737b0e}{s\+\_\+imds\+\_\+user\+\_\+data\+\_\+new}} (struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$imds\+\_\+provider, \mbox{\hyperlink{crt_2aws-c-auth_2include_2aws_2auth_2_credentials_8h_a0de102d63db792e21787cb284cbf4871}{aws\+\_\+on\+\_\+get\+\_\+credentials\+\_\+callback\+\_\+fn}} callback, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{credentials__provider__imds_8c_a51cbe16efd7a97ba3772cab43e171486}{s\+\_\+on\+\_\+get\+\_\+credentials}} (const struct \mbox{\hyperlink{structaws__credentials}{aws\+\_\+credentials}} $\ast$credentials, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{credentials__provider__imds_8c_a4ba705e6e75897e7d01f7afc4d67df64}{s\+\_\+on\+\_\+get\+\_\+role}} (const struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$role, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static struct \mbox{\hyperlink{structaws__credentials__provider__vtable}{aws\+\_\+credentials\+\_\+provider\+\_\+vtable}} \mbox{\hyperlink{credentials__provider__imds_8c_ac4fc3d45826204f5e6fb439abf81c95d}{s\+\_\+aws\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+vtable}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{credentials__provider__imds_8c_afb4da051f9d39dc7c3667509043b2a5f}\label{credentials__provider__imds_8c_afb4da051f9d39dc7c3667509043b2a5f}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!aws\_credentials\_provider\_new\_imds@{aws\_credentials\_provider\_new\_imds}}
\index{aws\_credentials\_provider\_new\_imds@{aws\_credentials\_provider\_new\_imds}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{aws\_credentials\_provider\_new\_imds()}{aws\_credentials\_provider\_new\_imds()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}}$\ast$ aws\+\_\+credentials\+\_\+provider\+\_\+new\+\_\+imds (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__credentials__provider__imds__options}{aws\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+options}} $\ast$}]{options }\end{DoxyParamCaption})}

Creates a provider that sources credentials from the ec2 instance metadata service


\begin{DoxyParams}{Parameters}
{\em allocator} & memory allocator to use for all memory allocation \\
\hline
{\em options} & provider-\/specific configuration options\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the newly-\/constructed credentials provider, or NULL if an error occurred. 
\end{DoxyReturn}
\mbox{\Hypertarget{credentials__provider__imds_8c_a0318f790ff64becd8bc8adf8052c3a37}\label{credentials__provider__imds_8c_a0318f790ff64becd8bc8adf8052c3a37}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!s\_credentials\_provider\_imds\_destroy@{s\_credentials\_provider\_imds\_destroy}}
\index{s\_credentials\_provider\_imds\_destroy@{s\_credentials\_provider\_imds\_destroy}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{s\_credentials\_provider\_imds\_destroy()}{s\_credentials\_provider\_imds\_destroy()}}
{\footnotesize\ttfamily static void s\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$}]{provider }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__imds_8c_a82a3a943feb4711d0e1f449ce9e5d25d}\label{credentials__provider__imds_8c_a82a3a943feb4711d0e1f449ce9e5d25d}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!s\_credentials\_provider\_imds\_get\_credentials\_async@{s\_credentials\_provider\_imds\_get\_credentials\_async}}
\index{s\_credentials\_provider\_imds\_get\_credentials\_async@{s\_credentials\_provider\_imds\_get\_credentials\_async}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{s\_credentials\_provider\_imds\_get\_credentials\_async()}{s\_credentials\_provider\_imds\_get\_credentials\_async()}}
{\footnotesize\ttfamily static int s\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+get\+\_\+credentials\+\_\+async (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$}]{provider,  }\item[{\mbox{\hyperlink{crt_2aws-c-auth_2include_2aws_2auth_2_credentials_8h_a0de102d63db792e21787cb284cbf4871}{aws\+\_\+on\+\_\+get\+\_\+credentials\+\_\+callback\+\_\+fn}}}]{callback,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__imds_8c_a6e43b2791d11f322f241c52e8b3b22b5}\label{credentials__provider__imds_8c_a6e43b2791d11f322f241c52e8b3b22b5}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!s\_imds\_user\_data\_destroy@{s\_imds\_user\_data\_destroy}}
\index{s\_imds\_user\_data\_destroy@{s\_imds\_user\_data\_destroy}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{s\_imds\_user\_data\_destroy()}{s\_imds\_user\_data\_destroy()}}
{\footnotesize\ttfamily static void s\+\_\+imds\+\_\+user\+\_\+data\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structimds__user__data}{imds\+\_\+user\+\_\+data}} $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__imds_8c_a283cee8dd973509db40232a25f737b0e}\label{credentials__provider__imds_8c_a283cee8dd973509db40232a25f737b0e}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!s\_imds\_user\_data\_new@{s\_imds\_user\_data\_new}}
\index{s\_imds\_user\_data\_new@{s\_imds\_user\_data\_new}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{s\_imds\_user\_data\_new()}{s\_imds\_user\_data\_new()}}
{\footnotesize\ttfamily static struct \mbox{\hyperlink{structimds__user__data}{imds\+\_\+user\+\_\+data}}$\ast$ s\+\_\+imds\+\_\+user\+\_\+data\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$}]{imds\+\_\+provider,  }\item[{\mbox{\hyperlink{crt_2aws-c-auth_2include_2aws_2auth_2_credentials_8h_a0de102d63db792e21787cb284cbf4871}{aws\+\_\+on\+\_\+get\+\_\+credentials\+\_\+callback\+\_\+fn}}}]{callback,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__imds_8c_a51cbe16efd7a97ba3772cab43e171486}\label{credentials__provider__imds_8c_a51cbe16efd7a97ba3772cab43e171486}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!s\_on\_get\_credentials@{s\_on\_get\_credentials}}
\index{s\_on\_get\_credentials@{s\_on\_get\_credentials}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_get\_credentials()}{s\_on\_get\_credentials()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+get\+\_\+credentials (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__credentials}{aws\+\_\+credentials}} $\ast$}]{credentials,  }\item[{int}]{error\+\_\+code,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__imds_8c_a4ba705e6e75897e7d01f7afc4d67df64}\label{credentials__provider__imds_8c_a4ba705e6e75897e7d01f7afc4d67df64}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!s\_on\_get\_role@{s\_on\_get\_role}}
\index{s\_on\_get\_role@{s\_on\_get\_role}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_get\_role()}{s\_on\_get\_role()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+get\+\_\+role (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{role,  }\item[{int}]{error\+\_\+code,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__imds_8c_ad3b59ac6906cb8cd13a2d3a8ab28f810}\label{credentials__provider__imds_8c_ad3b59ac6906cb8cd13a2d3a8ab28f810}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!s\_on\_imds\_client\_shutdown@{s\_on\_imds\_client\_shutdown}}
\index{s\_on\_imds\_client\_shutdown@{s\_on\_imds\_client\_shutdown}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_imds\_client\_shutdown()}{s\_on\_imds\_client\_shutdown()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+imds\+\_\+client\+\_\+shutdown (\begin{DoxyParamCaption}\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{credentials__provider__imds_8c_ac4fc3d45826204f5e6fb439abf81c95d}\label{credentials__provider__imds_8c_ac4fc3d45826204f5e6fb439abf81c95d}} 
\index{credentials\_provider\_imds.c@{credentials\_provider\_imds.c}!s\_aws\_credentials\_provider\_imds\_vtable@{s\_aws\_credentials\_provider\_imds\_vtable}}
\index{s\_aws\_credentials\_provider\_imds\_vtable@{s\_aws\_credentials\_provider\_imds\_vtable}!credentials\_provider\_imds.c@{credentials\_provider\_imds.c}}
\doxysubsubsection{\texorpdfstring{s\_aws\_credentials\_provider\_imds\_vtable}{s\_aws\_credentials\_provider\_imds\_vtable}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__credentials__provider__vtable}{aws\+\_\+credentials\+\_\+provider\+\_\+vtable}} s\+\_\+aws\+\_\+credentials\+\_\+provider\+\_\+imds\+\_\+vtable\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .get\_credentials = \mbox{\hyperlink{credentials__provider__imds_8c_a82a3a943feb4711d0e1f449ce9e5d25d}{s\_credentials\_provider\_imds\_get\_credentials\_async}},}
\DoxyCodeLine{    .destroy = \mbox{\hyperlink{credentials__provider__imds_8c_a0318f790ff64becd8bc8adf8052c3a37}{s\_credentials\_provider\_imds\_destroy}},}
\DoxyCodeLine{\}}

\end{DoxyCode}
