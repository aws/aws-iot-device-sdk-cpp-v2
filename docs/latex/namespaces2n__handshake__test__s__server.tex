\hypertarget{namespaces2n__handshake__test__s__server}{}\doxysection{s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server Namespace Reference}
\label{namespaces2n__handshake__test__s__server}\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a8887512a35df767c37225603d52dcf9b}{cleanup\+\_\+processes}} ($\ast$processes)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a0531d96f1affbf9411b027c1660779e6}{validate\+\_\+version}} (expected\+\_\+version, line)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a704d8c8f926afcb6b4e39b6054ea5fba}{try\+\_\+handshake}} (endpoint, port, cipher, ssl\+\_\+version, \mbox{\hyperlink{s2n__fragmentation__coalescing__test_8c_a6f8e086c4374b9500a7200a82eb494df}{server\+\_\+cert}}=None, server\+\_\+key=None, sig\+\_\+algs=None, curves=None, dh\+\_\+params=None, resume=False, no\+\_\+ticket=False)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_abab542d92975a2bb8ddd1d4ddf4ee07f}{cert\+\_\+path\+\_\+to\+\_\+str}} (cert\+\_\+path)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_ab6e6c7ac3826c93052eed93d73fd59ab}{print\+\_\+result}} (result\+\_\+prefix, return\+\_\+code)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a3267bdeba45422c1e80a82255b8354a7}{create\+\_\+thread\+\_\+pool}} ()
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a434d8ca5f46f53c4d279933608d5bd19}{run\+\_\+handshake\+\_\+test}} (host, port, ssl\+\_\+version, cipher)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_acca057f6eed06c018246d09b39bc1909}{handshake\+\_\+test}} (host, port, test\+\_\+ciphers)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a64683554096e6134408a63de42e98931}{handshake\+\_\+resumption\+\_\+test}} (host, port, no\+\_\+ticket=False)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_aae4650d4614e9992e859a1ca043756e4}{run\+\_\+sigalg\+\_\+test}} (host, port, cipher, ssl\+\_\+version, permutation)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a73834e406ef7a4bc8bbcb5018d13db41}{sigalg\+\_\+test}} (host, port)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_afa2d44e232437d90ffbf27b0e77ea6d9}{elliptic\+\_\+curve\+\_\+test}} (host, port, libcrypto\+\_\+version)
\item 
def \mbox{\hyperlink{namespaces2n__handshake__test__s__server_af2ca186828acdc03760a0557d846bd2a}{main}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
dictionary \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a63be77a0eb8f97a52a3dfbbc2ea5e160}{PROTO\+\_\+\+VERS\+\_\+\+TO\+\_\+\+S\+\_\+\+SERVER\+\_\+\+ARG}}
\item 
\mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a7e90876ef7d6593db096a7148b743ed8}{use\+\_\+corked\+\_\+io}} = False
\item 
list \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a7ea1c4c721b280d2dbfe9db7d517b50b}{supported\+\_\+sigs}} = \mbox{[}\char`\"{}RSA+SHA1\char`\"{}, \char`\"{}RSA+SHA224\char`\"{}, \char`\"{}RSA+SHA256\char`\"{}, \char`\"{}RSA+SHA384\char`\"{}, \char`\"{}RSA+SHA512\char`\"{}\mbox{]}
\item 
list \mbox{\hyperlink{namespaces2n__handshake__test__s__server_a235cbd1785f974fef08552f3d87d0544}{unsupported\+\_\+sigs}} = \mbox{[}\char`\"{}ECDSA+SHA256\char`\"{}, \char`\"{}ECDSA+SHA512\char`\"{}\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_abab542d92975a2bb8ddd1d4ddf4ee07f}\label{namespaces2n__handshake__test__s__server_abab542d92975a2bb8ddd1d4ddf4ee07f}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!cert\_path\_to\_str@{cert\_path\_to\_str}}
\index{cert\_path\_to\_str@{cert\_path\_to\_str}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{cert\_path\_to\_str()}{cert\_path\_to\_str()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+cert\+\_\+path\+\_\+to\+\_\+str (\begin{DoxyParamCaption}\item[{}]{cert\+\_\+path }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a8887512a35df767c37225603d52dcf9b}\label{namespaces2n__handshake__test__s__server_a8887512a35df767c37225603d52dcf9b}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!cleanup\_processes@{cleanup\_processes}}
\index{cleanup\_processes@{cleanup\_processes}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{cleanup\_processes()}{cleanup\_processes()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+cleanup\+\_\+processes (\begin{DoxyParamCaption}\item[{$\ast$}]{processes }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a3267bdeba45422c1e80a82255b8354a7}\label{namespaces2n__handshake__test__s__server_a3267bdeba45422c1e80a82255b8354a7}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!create\_thread\_pool@{create\_thread\_pool}}
\index{create\_thread\_pool@{create\_thread\_pool}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{create\_thread\_pool()}{create\_thread\_pool()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+create\+\_\+thread\+\_\+pool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_afa2d44e232437d90ffbf27b0e77ea6d9}\label{namespaces2n__handshake__test__s__server_afa2d44e232437d90ffbf27b0e77ea6d9}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!elliptic\_curve\_test@{elliptic\_curve\_test}}
\index{elliptic\_curve\_test@{elliptic\_curve\_test}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{elliptic\_curve\_test()}{elliptic\_curve\_test()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+elliptic\+\_\+curve\+\_\+test (\begin{DoxyParamCaption}\item[{}]{host,  }\item[{}]{port,  }\item[{}]{libcrypto\+\_\+version }\end{DoxyParamCaption})}

\begin{DoxyVerb}Acceptance test for supported elliptic curves. Tests all possible supported curves with unsupported curves mixed in
for noise.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a64683554096e6134408a63de42e98931}\label{namespaces2n__handshake__test__s__server_a64683554096e6134408a63de42e98931}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!handshake\_resumption\_test@{handshake\_resumption\_test}}
\index{handshake\_resumption\_test@{handshake\_resumption\_test}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{handshake\_resumption\_test()}{handshake\_resumption\_test()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+handshake\+\_\+resumption\+\_\+test (\begin{DoxyParamCaption}\item[{}]{host,  }\item[{}]{port,  }\item[{}]{no\+\_\+ticket = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Basic handshake tests for session resumption.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaces2n__handshake__test__s__server_acca057f6eed06c018246d09b39bc1909}\label{namespaces2n__handshake__test__s__server_acca057f6eed06c018246d09b39bc1909}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!handshake\_test@{handshake\_test}}
\index{handshake\_test@{handshake\_test}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{handshake\_test()}{handshake\_test()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+handshake\+\_\+test (\begin{DoxyParamCaption}\item[{}]{host,  }\item[{}]{port,  }\item[{}]{test\+\_\+ciphers }\end{DoxyParamCaption})}

\begin{DoxyVerb}Basic handshake tests using all valid combinations of supported cipher suites and TLS versions.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaces2n__handshake__test__s__server_af2ca186828acdc03760a0557d846bd2a}\label{namespaces2n__handshake__test__s__server_af2ca186828acdc03760a0557d846bd2a}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!main@{main}}
\index{main@{main}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+main (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_ab6e6c7ac3826c93052eed93d73fd59ab}\label{namespaces2n__handshake__test__s__server_ab6e6c7ac3826c93052eed93d73fd59ab}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!print\_result@{print\_result}}
\index{print\_result@{print\_result}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{print\_result()}{print\_result()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+print\+\_\+result (\begin{DoxyParamCaption}\item[{}]{result\+\_\+prefix,  }\item[{}]{return\+\_\+code }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a434d8ca5f46f53c4d279933608d5bd19}\label{namespaces2n__handshake__test__s__server_a434d8ca5f46f53c4d279933608d5bd19}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!run\_handshake\_test@{run\_handshake\_test}}
\index{run\_handshake\_test@{run\_handshake\_test}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{run\_handshake\_test()}{run\_handshake\_test()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+run\+\_\+handshake\+\_\+test (\begin{DoxyParamCaption}\item[{}]{host,  }\item[{}]{port,  }\item[{}]{ssl\+\_\+version,  }\item[{}]{cipher }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_aae4650d4614e9992e859a1ca043756e4}\label{namespaces2n__handshake__test__s__server_aae4650d4614e9992e859a1ca043756e4}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!run\_sigalg\_test@{run\_sigalg\_test}}
\index{run\_sigalg\_test@{run\_sigalg\_test}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{run\_sigalg\_test()}{run\_sigalg\_test()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+run\+\_\+sigalg\+\_\+test (\begin{DoxyParamCaption}\item[{}]{host,  }\item[{}]{port,  }\item[{}]{cipher,  }\item[{}]{ssl\+\_\+version,  }\item[{}]{permutation }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a73834e406ef7a4bc8bbcb5018d13db41}\label{namespaces2n__handshake__test__s__server_a73834e406ef7a4bc8bbcb5018d13db41}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!sigalg\_test@{sigalg\_test}}
\index{sigalg\_test@{sigalg\_test}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{sigalg\_test()}{sigalg\_test()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+sigalg\+\_\+test (\begin{DoxyParamCaption}\item[{}]{host,  }\item[{}]{port }\end{DoxyParamCaption})}

\begin{DoxyVerb}Acceptance test for supported signature algorithms. Tests all possible supported sigalgs with unsupported ones mixed in
for noise.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a704d8c8f926afcb6b4e39b6054ea5fba}\label{namespaces2n__handshake__test__s__server_a704d8c8f926afcb6b4e39b6054ea5fba}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!try\_handshake@{try\_handshake}}
\index{try\_handshake@{try\_handshake}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{try\_handshake()}{try\_handshake()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+try\+\_\+handshake (\begin{DoxyParamCaption}\item[{}]{endpoint,  }\item[{}]{port,  }\item[{}]{cipher,  }\item[{}]{ssl\+\_\+version,  }\item[{}]{server\+\_\+cert = {\ttfamily None},  }\item[{}]{server\+\_\+key = {\ttfamily None},  }\item[{}]{sig\+\_\+algs = {\ttfamily None},  }\item[{}]{curves = {\ttfamily None},  }\item[{}]{dh\+\_\+params = {\ttfamily None},  }\item[{}]{resume = {\ttfamily False},  }\item[{}]{no\+\_\+ticket = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Attempt to handshake against Openssl s_server listening on `endpoint` and `port` using s2nc

:param int endpoint: endpoint for Openssl s_server to listen on
:param int port: port for Openssl s_server to listen on
:param str cipher: ciphers for Openssl s_server to use. See https://www.openssl.org/docs/man1.0.2/apps/ciphers.html
:param int ssl_version: SSL version for Openssl s_server to use
:param str server_cert: path to certificate for Openssl s_server to use
:param str server_key: path to private key for Openssl s_server to use
:param str sig_algs: Signature algorithms for Openssl s_server to accept
:param str curves: Elliptic curves for Openssl s_server to accept
:param str dh_params: path to DH params for Openssl s_server to use
:param bool resume: if s2n client has to use reconnect option
:param bool no_ticket: if s2n client has to not use session ticket
:return: 0 on successfully negotiation(s), -1 on failure
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a0531d96f1affbf9411b027c1660779e6}\label{namespaces2n__handshake__test__s__server_a0531d96f1affbf9411b027c1660779e6}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!validate\_version@{validate\_version}}
\index{validate\_version@{validate\_version}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{validate\_version()}{validate\_version()}}
{\footnotesize\ttfamily def s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+validate\+\_\+version (\begin{DoxyParamCaption}\item[{}]{expected\+\_\+version,  }\item[{}]{line }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a63be77a0eb8f97a52a3dfbbc2ea5e160}\label{namespaces2n__handshake__test__s__server_a63be77a0eb8f97a52a3dfbbc2ea5e160}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!PROTO\_VERS\_TO\_S\_SERVER\_ARG@{PROTO\_VERS\_TO\_S\_SERVER\_ARG}}
\index{PROTO\_VERS\_TO\_S\_SERVER\_ARG@{PROTO\_VERS\_TO\_S\_SERVER\_ARG}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{PROTO\_VERS\_TO\_S\_SERVER\_ARG}{PROTO\_VERS\_TO\_S\_SERVER\_ARG}}
{\footnotesize\ttfamily dictionary s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+PROTO\+\_\+\+VERS\+\_\+\+TO\+\_\+\+S\+\_\+\+SERVER\+\_\+\+ARG}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \{}
\DoxyCodeLine{2     S2N\_TLS10: \textcolor{stringliteral}{"{}-\/tls1"{}},}
\DoxyCodeLine{3     S2N\_TLS11: \textcolor{stringliteral}{"{}-\/tls1\_1"{}},}
\DoxyCodeLine{4     S2N\_TLS12: \textcolor{stringliteral}{"{}-\/tls1\_2"{}},}
\DoxyCodeLine{5 \}}

\end{DoxyCode}
\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a7ea1c4c721b280d2dbfe9db7d517b50b}\label{namespaces2n__handshake__test__s__server_a7ea1c4c721b280d2dbfe9db7d517b50b}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!supported\_sigs@{supported\_sigs}}
\index{supported\_sigs@{supported\_sigs}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{supported\_sigs}{supported\_sigs}}
{\footnotesize\ttfamily list s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+supported\+\_\+sigs = \mbox{[}\char`\"{}RSA+SHA1\char`\"{}, \char`\"{}RSA+SHA224\char`\"{}, \char`\"{}RSA+SHA256\char`\"{}, \char`\"{}RSA+SHA384\char`\"{}, \char`\"{}RSA+SHA512\char`\"{}\mbox{]}}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a235cbd1785f974fef08552f3d87d0544}\label{namespaces2n__handshake__test__s__server_a235cbd1785f974fef08552f3d87d0544}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!unsupported\_sigs@{unsupported\_sigs}}
\index{unsupported\_sigs@{unsupported\_sigs}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{unsupported\_sigs}{unsupported\_sigs}}
{\footnotesize\ttfamily list s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+unsupported\+\_\+sigs = \mbox{[}\char`\"{}ECDSA+SHA256\char`\"{}, \char`\"{}ECDSA+SHA512\char`\"{}\mbox{]}}

\mbox{\Hypertarget{namespaces2n__handshake__test__s__server_a7e90876ef7d6593db096a7148b743ed8}\label{namespaces2n__handshake__test__s__server_a7e90876ef7d6593db096a7148b743ed8}} 
\index{s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}!use\_corked\_io@{use\_corked\_io}}
\index{use\_corked\_io@{use\_corked\_io}!s2n\_handshake\_test\_s\_server@{s2n\_handshake\_test\_s\_server}}
\doxysubsubsection{\texorpdfstring{use\_corked\_io}{use\_corked\_io}}
{\footnotesize\ttfamily \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} s2n\+\_\+handshake\+\_\+test\+\_\+s\+\_\+server.\+use\+\_\+corked\+\_\+io = False}

