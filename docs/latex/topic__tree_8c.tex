\hypertarget{topic__tree_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/source/topic\+\_\+tree.c File Reference}
\label{topic__tree_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/source/topic\_tree.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/source/topic\_tree.c}}
{\ttfamily \#include $<$aws/mqtt/private/topic\+\_\+tree.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/logging.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/byte\+\_\+buf.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/task\+\_\+scheduler.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}}
\item 
struct \mbox{\hyperlink{structtopic__tree__iterate__context}{topic\+\_\+tree\+\_\+iterate\+\_\+context}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{topic__tree_8c_a7d6c10f83a81ccc4bbbc97fd224f3cf6}{AWS\+\_\+\+STATIC\+\_\+\+STRING\+\_\+\+FROM\+\_\+\+LITERAL}} (s\+\_\+single\+\_\+level\+\_\+wildcard, \char`\"{}+\char`\"{})
\item 
\mbox{\hyperlink{topic__tree_8c_a55df6d9162385dcfea49e7bb238ade7f}{AWS\+\_\+\+STATIC\+\_\+\+STRING\+\_\+\+FROM\+\_\+\+LITERAL}} (s\+\_\+multi\+\_\+level\+\_\+wildcard, \char`\"{}\#\char`\"{})
\item 
static struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$ \mbox{\hyperlink{topic__tree_8c_a0ec502e802b6c8248dbf705cb8ef3d44}{s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+create}} (struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$transaction)
\item 
static void \mbox{\hyperlink{topic__tree_8c_a390ba815040c030225e89cbd0f51483e}{s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+destroy}} (struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$action)
\item 
static int \mbox{\hyperlink{topic__tree_8c_ada57df26650e4559a16f54751a078cd6}{s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+to\+\_\+remove}} (struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$action, struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, size\+\_\+t size\+\_\+hint)
\item 
static \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{topic__tree_8c_a954974866014412145eddb649448f27d}{byte\+\_\+cursor\+\_\+eq}} (const void $\ast$a, const void $\ast$\mbox{\hyperlink{aws-crt-cpp_2crt_2aws-c-auth_2include_2aws_2auth_2external_2c_j_s_o_n_8h_a1a175e87536301df98c805ac0636ad7c}{b}})
\item 
static struct \mbox{\hyperlink{structaws__mqtt__topic__node}{aws\+\_\+mqtt\+\_\+topic\+\_\+node}} $\ast$ \mbox{\hyperlink{topic__tree_8c_aae3890fdceb9483850d60487b8eba6ee}{s\+\_\+topic\+\_\+node\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$topic\+\_\+filter, const struct \mbox{\hyperlink{structaws__string}{aws\+\_\+string}} $\ast$full\+\_\+topic)
\item 
static int \mbox{\hyperlink{topic__tree_8c_a1128613b0f844466332c077acbc3b460}{s\+\_\+topic\+\_\+node\+\_\+destroy\+\_\+hash\+\_\+foreach\+\_\+wrap}} (void $\ast$context, struct \mbox{\hyperlink{structaws__hash__element}{aws\+\_\+hash\+\_\+element}} $\ast$elem)
\item 
static void \mbox{\hyperlink{topic__tree_8c_abdbace96d50fad26a8923e8bc772cefb}{s\+\_\+topic\+\_\+node\+\_\+destroy}} (struct \mbox{\hyperlink{structaws__mqtt__topic__node}{aws\+\_\+mqtt\+\_\+topic\+\_\+node}} $\ast$node, struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}})
\item 
int \mbox{\hyperlink{topic__tree_8c_a67f93b645bd660fb888cd2865bc2b308}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+init}} (struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}})
\item 
void \mbox{\hyperlink{topic__tree_8c_a3dad32c800217bb20087f7b35154f62c}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+clean\+\_\+up}} (struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree)
\item 
\mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{topic__tree_8c_aa70eb6a9ea40bf6c75accab19eaa6630}{s\+\_\+topic\+\_\+node\+\_\+is\+\_\+subscription}} (const struct \mbox{\hyperlink{structaws__mqtt__topic__node}{aws\+\_\+mqtt\+\_\+topic\+\_\+node}} $\ast$node)
\item 
static int \mbox{\hyperlink{topic__tree_8c_ae93de9616f161eea1189918a38c7d3da}{s\+\_\+topic\+\_\+tree\+\_\+iterate\+\_\+do\+\_\+recurse}} (void $\ast$context, struct \mbox{\hyperlink{structaws__hash__element}{aws\+\_\+hash\+\_\+element}} $\ast$current\+\_\+elem)
\item 
void \mbox{\hyperlink{topic__tree_8c_a20f9f0a1d19459136a59d6a6282e952f}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+iterate}} (const struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, \mbox{\hyperlink{topic__tree_8h_a69b6d023806e7595613edcd9648a1c0b}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+iterator\+\_\+fn}} $\ast$iterator, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
\mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{topic__tree_8c_a4cb91caa90ee65342d3883f05da072a8}{s\+\_\+topic\+\_\+tree\+\_\+sub\+\_\+count\+\_\+iterator}} (const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad99baabff61442b2d602f6dd84310f89}{topic}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
size\+\_\+t \mbox{\hyperlink{topic__tree_8c_ac080ce440907d2677a476c443e1ac3fe}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+get\+\_\+sub\+\_\+count}} (const struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree)
\item 
static int \mbox{\hyperlink{topic__tree_8c_a299c1c4bee51b3de940f64c94c4426e0}{s\+\_\+topic\+\_\+node\+\_\+string\+\_\+finder}} (void $\ast$userdata, struct \mbox{\hyperlink{structaws__hash__element}{aws\+\_\+hash\+\_\+element}} $\ast$elem)
\item 
static void \mbox{\hyperlink{topic__tree_8c_ab2965dbb74a09ab91cecd434b0d26962}{s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+commit}} (struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$action, struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree)
\item 
static void \mbox{\hyperlink{topic__tree_8c_a5535bd81690d058965da29056b45b0c4}{s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+roll\+\_\+back}} (struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$action, struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree)
\item 
int \mbox{\hyperlink{topic__tree_8c_ae6a5fc0ee36459cda668d7af5cc69a03}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+insert}} (struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$transaction, const struct \mbox{\hyperlink{structaws__string}{aws\+\_\+string}} $\ast$topic\+\_\+filter\+\_\+ori, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, \mbox{\hyperlink{topic__tree_8h_ab08dea97759174f17239ffe3c69c1635}{aws\+\_\+mqtt\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$callback, \mbox{\hyperlink{mqtt_8h_a4c072048c5bd312923466806b23cea73}{aws\+\_\+mqtt\+\_\+userdata\+\_\+cleanup\+\_\+fn}} $\ast$cleanup, void $\ast$userdata)
\item 
int \mbox{\hyperlink{topic__tree_8c_ad5c77b2949c8852ac7539262edba3788}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+remove}} (struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$transaction, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$topic\+\_\+filter, void $\ast$$\ast$old\+\_\+userdata)
\item 
void \mbox{\hyperlink{topic__tree_8c_aa1ffb33dac043f59295dedbe1b5a1cc0}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+commit}} (struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$transaction)
\item 
void \mbox{\hyperlink{topic__tree_8c_a12e2aedfddda8990239f382d87cd6a0c}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+roll\+\_\+back}} (struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$transaction)
\item 
int \mbox{\hyperlink{topic__tree_8c_aeb40c00e53cf9c135e2552d0827b8057}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+insert}} (struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, const struct \mbox{\hyperlink{structaws__string}{aws\+\_\+string}} $\ast$topic\+\_\+filter, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, \mbox{\hyperlink{topic__tree_8h_ab08dea97759174f17239ffe3c69c1635}{aws\+\_\+mqtt\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$callback, \mbox{\hyperlink{mqtt_8h_a4c072048c5bd312923466806b23cea73}{aws\+\_\+mqtt\+\_\+userdata\+\_\+cleanup\+\_\+fn}} $\ast$cleanup, void $\ast$userdata)
\item 
int \mbox{\hyperlink{topic__tree_8c_abdbc9c7db5b3162c4170991678f5c00a}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+remove}} (struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$topic\+\_\+filter)
\item 
static void \mbox{\hyperlink{topic__tree_8c_a91b017bb0a458ade11aaf57d1291ab4a}{s\+\_\+topic\+\_\+tree\+\_\+publish\+\_\+do\+\_\+recurse}} (const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$current\+\_\+sub\+\_\+part, const struct \mbox{\hyperlink{structaws__mqtt__topic__node}{aws\+\_\+mqtt\+\_\+topic\+\_\+node}} $\ast$current, const struct \mbox{\hyperlink{structaws__mqtt__packet__publish}{aws\+\_\+mqtt\+\_\+packet\+\_\+publish}} $\ast$pub)
\item 
void \mbox{\hyperlink{topic__tree_8c_a4a91656ecae5ccdde82ba3ff9347c7ac}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+publish}} (const struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$tree, struct \mbox{\hyperlink{structaws__mqtt__packet__publish}{aws\+\_\+mqtt\+\_\+packet\+\_\+publish}} $\ast$pub)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{topic__tree_8c_a3db91d69221625fecc71e549a0238c35}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+action\+\_\+size}} = sizeof(struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}})
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{topic__tree_8c_a3dad32c800217bb20087f7b35154f62c}\label{topic__tree_8c_a3dad32c800217bb20087f7b35154f62c}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_clean\_up@{aws\_mqtt\_topic\_tree\_clean\_up}}
\index{aws\_mqtt\_topic\_tree\_clean\_up@{aws\_mqtt\_topic\_tree\_clean\_up}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_clean\_up()}{aws\_mqtt\_topic\_tree\_clean\_up()}}
{\footnotesize\ttfamily void aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+clean\+\_\+up (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree }\end{DoxyParamCaption})}

Cleanup and deallocate an entire topic tree. \mbox{\Hypertarget{topic__tree_8c_ac080ce440907d2677a476c443e1ac3fe}\label{topic__tree_8c_ac080ce440907d2677a476c443e1ac3fe}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_get\_sub\_count@{aws\_mqtt\_topic\_tree\_get\_sub\_count}}
\index{aws\_mqtt\_topic\_tree\_get\_sub\_count@{aws\_mqtt\_topic\_tree\_get\_sub\_count}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_get\_sub\_count()}{aws\_mqtt\_topic\_tree\_get\_sub\_count()}}
{\footnotesize\ttfamily size\+\_\+t aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+get\+\_\+sub\+\_\+count (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree }\end{DoxyParamCaption})}

Gets the total number of subscriptions in the tree. \mbox{\Hypertarget{topic__tree_8c_a67f93b645bd660fb888cd2865bc2b308}\label{topic__tree_8c_a67f93b645bd660fb888cd2865bc2b308}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_init@{aws\_mqtt\_topic\_tree\_init}}
\index{aws\_mqtt\_topic\_tree\_init@{aws\_mqtt\_topic\_tree\_init}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_init()}{aws\_mqtt\_topic\_tree\_init()}}
{\footnotesize\ttfamily int aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})}

Initialize a topic tree with an allocator to later use. Note that calling init allocates root. \mbox{\Hypertarget{topic__tree_8c_aeb40c00e53cf9c135e2552d0827b8057}\label{topic__tree_8c_aeb40c00e53cf9c135e2552d0827b8057}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_insert@{aws\_mqtt\_topic\_tree\_insert}}
\index{aws\_mqtt\_topic\_tree\_insert@{aws\_mqtt\_topic\_tree\_insert}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_insert()}{aws\_mqtt\_topic\_tree\_insert()}}
{\footnotesize\ttfamily int aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+insert (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{const struct \mbox{\hyperlink{structaws__string}{aws\+\_\+string}} $\ast$}]{topic\+\_\+filter,  }\item[{enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}}}]{qos,  }\item[{\mbox{\hyperlink{topic__tree_8h_ab08dea97759174f17239ffe3c69c1635}{aws\+\_\+mqtt\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$}]{callback,  }\item[{\mbox{\hyperlink{mqtt_8h_a4c072048c5bd312923466806b23cea73}{aws\+\_\+mqtt\+\_\+userdata\+\_\+cleanup\+\_\+fn}} $\ast$}]{cleanup,  }\item[{void $\ast$}]{userdata }\end{DoxyParamCaption})}

Insert a new topic filter into the subscription tree (subscribe).


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & The tree to insert into. \\
\hline
\mbox{\texttt{ in}}  & {\em topic\+\_\+filter} & The topic filter to subscribe on. May contain wildcards. \\
\hline
\mbox{\texttt{ in}}  & {\em callback} & The callback to call on a publish with a matching topic. \\
\hline
\mbox{\texttt{ in}}  & {\em connection} & The connection object to pass to the callback. This is a void$\ast$ to support client and server connections in the future. \\
\hline
\mbox{\texttt{ in}}  & {\em userdata} & The userdata to pass to callback.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
AWS\+\_\+\+OP\+\_\+\+SUCCESS on successful insertion, AWS\+\_\+\+OP\+\_\+\+ERR with \mbox{\hyperlink{aws-c-common_2include_2aws_2common_2error_8h_a1322935281a00b323a6307e42738781e}{aws\+\_\+last\+\_\+error()}} populated on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{topic__tree_8c_a20f9f0a1d19459136a59d6a6282e952f}\label{topic__tree_8c_a20f9f0a1d19459136a59d6a6282e952f}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_iterate@{aws\_mqtt\_topic\_tree\_iterate}}
\index{aws\_mqtt\_topic\_tree\_iterate@{aws\_mqtt\_topic\_tree\_iterate}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_iterate()}{aws\_mqtt\_topic\_tree\_iterate()}}
{\footnotesize\ttfamily void aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+iterate (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{\mbox{\hyperlink{topic__tree_8h_a69b6d023806e7595613edcd9648a1c0b}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+iterator\+\_\+fn}} $\ast$}]{iterator,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})}

Iterates through all registered subscriptions, and calls iterator.

Iterator may return false to stop iterating, or true to continue. \mbox{\Hypertarget{topic__tree_8c_a4a91656ecae5ccdde82ba3ff9347c7ac}\label{topic__tree_8c_a4a91656ecae5ccdde82ba3ff9347c7ac}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_publish@{aws\_mqtt\_topic\_tree\_publish}}
\index{aws\_mqtt\_topic\_tree\_publish@{aws\_mqtt\_topic\_tree\_publish}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_publish()}{aws\_mqtt\_topic\_tree\_publish()}}
{\footnotesize\ttfamily void aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+publish (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{struct \mbox{\hyperlink{structaws__mqtt__packet__publish}{aws\+\_\+mqtt\+\_\+packet\+\_\+publish}} $\ast$}]{pub }\end{DoxyParamCaption})}

Dispatches a publish packet to all subscriptions matching the publish topic.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & The tree to publish on. \\
\hline
\mbox{\texttt{ in}}  & {\em pub} & The publish packet to dispatch. The topic MUST NOT contain wildcards. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{topic__tree_8c_abdbc9c7db5b3162c4170991678f5c00a}\label{topic__tree_8c_abdbc9c7db5b3162c4170991678f5c00a}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_remove@{aws\_mqtt\_topic\_tree\_remove}}
\index{aws\_mqtt\_topic\_tree\_remove@{aws\_mqtt\_topic\_tree\_remove}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_remove()}{aws\_mqtt\_topic\_tree\_remove()}}
{\footnotesize\ttfamily int aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+remove (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic\+\_\+filter }\end{DoxyParamCaption})}

\mbox{\Hypertarget{topic__tree_8c_aa1ffb33dac043f59295dedbe1b5a1cc0}\label{topic__tree_8c_aa1ffb33dac043f59295dedbe1b5a1cc0}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_transaction\_commit@{aws\_mqtt\_topic\_tree\_transaction\_commit}}
\index{aws\_mqtt\_topic\_tree\_transaction\_commit@{aws\_mqtt\_topic\_tree\_transaction\_commit}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_transaction\_commit()}{aws\_mqtt\_topic\_tree\_transaction\_commit()}}
{\footnotesize\ttfamily void aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+commit (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$}]{transaction }\end{DoxyParamCaption})}

\mbox{\Hypertarget{topic__tree_8c_ae6a5fc0ee36459cda668d7af5cc69a03}\label{topic__tree_8c_ae6a5fc0ee36459cda668d7af5cc69a03}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_transaction\_insert@{aws\_mqtt\_topic\_tree\_transaction\_insert}}
\index{aws\_mqtt\_topic\_tree\_transaction\_insert@{aws\_mqtt\_topic\_tree\_transaction\_insert}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_transaction\_insert()}{aws\_mqtt\_topic\_tree\_transaction\_insert()}}
{\footnotesize\ttfamily int aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+insert (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$}]{transaction,  }\item[{const struct \mbox{\hyperlink{structaws__string}{aws\+\_\+string}} $\ast$}]{topic\+\_\+filter,  }\item[{enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}}}]{qos,  }\item[{\mbox{\hyperlink{topic__tree_8h_ab08dea97759174f17239ffe3c69c1635}{aws\+\_\+mqtt\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$}]{callback,  }\item[{\mbox{\hyperlink{mqtt_8h_a4c072048c5bd312923466806b23cea73}{aws\+\_\+mqtt\+\_\+userdata\+\_\+cleanup\+\_\+fn}} $\ast$}]{cleanup,  }\item[{void $\ast$}]{userdata }\end{DoxyParamCaption})}

Insert a new topic filter into the subscription tree (subscribe).


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & The tree to insert into. \\
\hline
\mbox{\texttt{ in}}  & {\em transaction} & The transaction to add the insert action to. Must be initialized with aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+action\+\_\+size as item size. \\
\hline
\mbox{\texttt{ in}}  & {\em topic\+\_\+filter} & The topic filter to subscribe on. May contain wildcards. \\
\hline
\mbox{\texttt{ in}}  & {\em callback} & The callback to call on a publish with a matching topic. \\
\hline
\mbox{\texttt{ in}}  & {\em connection} & The connection object to pass to the callback. This is a void$\ast$ to support client and server connections in the future. \\
\hline
\mbox{\texttt{ in}}  & {\em userdata} & The userdata to pass to callback.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
AWS\+\_\+\+OP\+\_\+\+SUCCESS on successful insertion, AWS\+\_\+\+OP\+\_\+\+ERR with \mbox{\hyperlink{aws-c-common_2include_2aws_2common_2error_8h_a1322935281a00b323a6307e42738781e}{aws\+\_\+last\+\_\+error()}} populated on failure. If AWS\+\_\+\+OP\+\_\+\+ERR is returned, aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+rollback should be called to prevent leaks. 
\end{DoxyReturn}
\mbox{\Hypertarget{topic__tree_8c_ad5c77b2949c8852ac7539262edba3788}\label{topic__tree_8c_ad5c77b2949c8852ac7539262edba3788}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_transaction\_remove@{aws\_mqtt\_topic\_tree\_transaction\_remove}}
\index{aws\_mqtt\_topic\_tree\_transaction\_remove@{aws\_mqtt\_topic\_tree\_transaction\_remove}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_transaction\_remove()}{aws\_mqtt\_topic\_tree\_transaction\_remove()}}
{\footnotesize\ttfamily int aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+remove (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$}]{transaction,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic\+\_\+filter,  }\item[{void $\ast$$\ast$}]{old\+\_\+userdata }\end{DoxyParamCaption})}

Remove a topic filter from the subscription tree (unsubscribe).


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em tree} & The tree to remove from. \\
\hline
\mbox{\texttt{ in}}  & {\em transaction} & The transaction to add the insert action to. Must be initialized with aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+action\+\_\+size as item size. \\
\hline
\mbox{\texttt{ in}}  & {\em topic\+\_\+filter} & The filter to remove (must be exactly the same as the topic\+\_\+filter passed to insert). \\
\hline
\mbox{\texttt{ out}}  & {\em old\+\_\+userdata} & The userdata assigned to this subscription will be assigned if not NULL. \textbackslash{}\+NOTE once the transaction is committed, old\+\_\+userdata may be destroyed, if a cleanup callback was set on insert.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
AWS\+\_\+\+OP\+\_\+\+SUCCESS on successful removal, AWS\+\_\+\+OP\+\_\+\+ERR with \mbox{\hyperlink{aws-c-common_2include_2aws_2common_2error_8h_a1322935281a00b323a6307e42738781e}{aws\+\_\+last\+\_\+error()}} populated on failure. If AWS\+\_\+\+OP\+\_\+\+ERR is returned, aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+rollback should be called to prevent leaks. 
\end{DoxyReturn}
\mbox{\Hypertarget{topic__tree_8c_a12e2aedfddda8990239f382d87cd6a0c}\label{topic__tree_8c_a12e2aedfddda8990239f382d87cd6a0c}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_transaction\_roll\_back@{aws\_mqtt\_topic\_tree\_transaction\_roll\_back}}
\index{aws\_mqtt\_topic\_tree\_transaction\_roll\_back@{aws\_mqtt\_topic\_tree\_transaction\_roll\_back}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_transaction\_roll\_back()}{aws\_mqtt\_topic\_tree\_transaction\_roll\_back()}}
{\footnotesize\ttfamily void aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+transaction\+\_\+roll\+\_\+back (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree,  }\item[{struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$}]{transaction }\end{DoxyParamCaption})}

\mbox{\Hypertarget{topic__tree_8c_a55df6d9162385dcfea49e7bb238ade7f}\label{topic__tree_8c_a55df6d9162385dcfea49e7bb238ade7f}} 
\index{topic\_tree.c@{topic\_tree.c}!AWS\_STATIC\_STRING\_FROM\_LITERAL@{AWS\_STATIC\_STRING\_FROM\_LITERAL}}
\index{AWS\_STATIC\_STRING\_FROM\_LITERAL@{AWS\_STATIC\_STRING\_FROM\_LITERAL}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{AWS\_STATIC\_STRING\_FROM\_LITERAL()}{AWS\_STATIC\_STRING\_FROM\_LITERAL()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily AWS\+\_\+\+STATIC\+\_\+\+STRING\+\_\+\+FROM\+\_\+\+LITERAL (\begin{DoxyParamCaption}\item[{s\+\_\+multi\+\_\+level\+\_\+wildcard}]{,  }\item[{\char`\"{}\#\char`\"{}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{topic__tree_8c_a7d6c10f83a81ccc4bbbc97fd224f3cf6}\label{topic__tree_8c_a7d6c10f83a81ccc4bbbc97fd224f3cf6}} 
\index{topic\_tree.c@{topic\_tree.c}!AWS\_STATIC\_STRING\_FROM\_LITERAL@{AWS\_STATIC\_STRING\_FROM\_LITERAL}}
\index{AWS\_STATIC\_STRING\_FROM\_LITERAL@{AWS\_STATIC\_STRING\_FROM\_LITERAL}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{AWS\_STATIC\_STRING\_FROM\_LITERAL()}{AWS\_STATIC\_STRING\_FROM\_LITERAL()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily AWS\+\_\+\+STATIC\+\_\+\+STRING\+\_\+\+FROM\+\_\+\+LITERAL (\begin{DoxyParamCaption}\item[{s\+\_\+single\+\_\+level\+\_\+wildcard}]{,  }\item[{\char`\"{}+\char`\"{}}]{ }\end{DoxyParamCaption})}

Copyright Amazon.\+com, Inc. or its affiliates. All Rights Reserved. SPDX-\/\+License-\/\+Identifier\+: Apache-\/2.\+0. \mbox{\Hypertarget{topic__tree_8c_a954974866014412145eddb649448f27d}\label{topic__tree_8c_a954974866014412145eddb649448f27d}} 
\index{topic\_tree.c@{topic\_tree.c}!byte\_cursor\_eq@{byte\_cursor\_eq}}
\index{byte\_cursor\_eq@{byte\_cursor\_eq}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{byte\_cursor\_eq()}{byte\_cursor\_eq()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} byte\+\_\+cursor\+\_\+eq (\begin{DoxyParamCaption}\item[{const void $\ast$}]{a,  }\item[{const void $\ast$}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_abdbace96d50fad26a8923e8bc772cefb}\label{topic__tree_8c_abdbace96d50fad26a8923e8bc772cefb}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_node\_destroy@{s\_topic\_node\_destroy}}
\index{s\_topic\_node\_destroy@{s\_topic\_node\_destroy}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_node\_destroy()}{s\_topic\_node\_destroy()}}
{\footnotesize\ttfamily static void s\+\_\+topic\+\_\+node\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__node}{aws\+\_\+mqtt\+\_\+topic\+\_\+node}} $\ast$}]{node,  }\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_a1128613b0f844466332c077acbc3b460}\label{topic__tree_8c_a1128613b0f844466332c077acbc3b460}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_node\_destroy\_hash\_foreach\_wrap@{s\_topic\_node\_destroy\_hash\_foreach\_wrap}}
\index{s\_topic\_node\_destroy\_hash\_foreach\_wrap@{s\_topic\_node\_destroy\_hash\_foreach\_wrap}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_node\_destroy\_hash\_foreach\_wrap()}{s\_topic\_node\_destroy\_hash\_foreach\_wrap()}}
{\footnotesize\ttfamily static int s\+\_\+topic\+\_\+node\+\_\+destroy\+\_\+hash\+\_\+foreach\+\_\+wrap (\begin{DoxyParamCaption}\item[{void $\ast$}]{context,  }\item[{struct \mbox{\hyperlink{structaws__hash__element}{aws\+\_\+hash\+\_\+element}} $\ast$}]{elem }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_aa70eb6a9ea40bf6c75accab19eaa6630}\label{topic__tree_8c_aa70eb6a9ea40bf6c75accab19eaa6630}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_node\_is\_subscription@{s\_topic\_node\_is\_subscription}}
\index{s\_topic\_node\_is\_subscription@{s\_topic\_node\_is\_subscription}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_node\_is\_subscription()}{s\_topic\_node\_is\_subscription()}}
{\footnotesize\ttfamily \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} s\+\_\+topic\+\_\+node\+\_\+is\+\_\+subscription (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__mqtt__topic__node}{aws\+\_\+mqtt\+\_\+topic\+\_\+node}} $\ast$}]{node }\end{DoxyParamCaption})}

\mbox{\Hypertarget{topic__tree_8c_aae3890fdceb9483850d60487b8eba6ee}\label{topic__tree_8c_aae3890fdceb9483850d60487b8eba6ee}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_node\_new@{s\_topic\_node\_new}}
\index{s\_topic\_node\_new@{s\_topic\_node\_new}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_node\_new()}{s\_topic\_node\_new()}}
{\footnotesize\ttfamily static struct \mbox{\hyperlink{structaws__mqtt__topic__node}{aws\+\_\+mqtt\+\_\+topic\+\_\+node}}$\ast$ s\+\_\+topic\+\_\+node\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic\+\_\+filter,  }\item[{const struct \mbox{\hyperlink{structaws__string}{aws\+\_\+string}} $\ast$}]{full\+\_\+topic }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_a299c1c4bee51b3de940f64c94c4426e0}\label{topic__tree_8c_a299c1c4bee51b3de940f64c94c4426e0}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_node\_string\_finder@{s\_topic\_node\_string\_finder}}
\index{s\_topic\_node\_string\_finder@{s\_topic\_node\_string\_finder}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_node\_string\_finder()}{s\_topic\_node\_string\_finder()}}
{\footnotesize\ttfamily static int s\+\_\+topic\+\_\+node\+\_\+string\+\_\+finder (\begin{DoxyParamCaption}\item[{void $\ast$}]{userdata,  }\item[{struct \mbox{\hyperlink{structaws__hash__element}{aws\+\_\+hash\+\_\+element}} $\ast$}]{elem }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_ab2965dbb74a09ab91cecd434b0d26962}\label{topic__tree_8c_ab2965dbb74a09ab91cecd434b0d26962}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_tree\_action\_commit@{s\_topic\_tree\_action\_commit}}
\index{s\_topic\_tree\_action\_commit@{s\_topic\_tree\_action\_commit}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_tree\_action\_commit()}{s\_topic\_tree\_action\_commit()}}
{\footnotesize\ttfamily static void s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+commit (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$}]{action,  }\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_a0ec502e802b6c8248dbf705cb8ef3d44}\label{topic__tree_8c_a0ec502e802b6c8248dbf705cb8ef3d44}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_tree\_action\_create@{s\_topic\_tree\_action\_create}}
\index{s\_topic\_tree\_action\_create@{s\_topic\_tree\_action\_create}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_tree\_action\_create()}{s\_topic\_tree\_action\_create()}}
{\footnotesize\ttfamily static struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}}$\ast$ s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+create (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$}]{transaction }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_a390ba815040c030225e89cbd0f51483e}\label{topic__tree_8c_a390ba815040c030225e89cbd0f51483e}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_tree\_action\_destroy@{s\_topic\_tree\_action\_destroy}}
\index{s\_topic\_tree\_action\_destroy@{s\_topic\_tree\_action\_destroy}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_tree\_action\_destroy()}{s\_topic\_tree\_action\_destroy()}}
{\footnotesize\ttfamily static void s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$}]{action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_a5535bd81690d058965da29056b45b0c4}\label{topic__tree_8c_a5535bd81690d058965da29056b45b0c4}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_tree\_action\_roll\_back@{s\_topic\_tree\_action\_roll\_back}}
\index{s\_topic\_tree\_action\_roll\_back@{s\_topic\_tree\_action\_roll\_back}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_tree\_action\_roll\_back()}{s\_topic\_tree\_action\_roll\_back()}}
{\footnotesize\ttfamily static void s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+roll\+\_\+back (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$}]{action,  }\item[{struct \mbox{\hyperlink{structaws__mqtt__topic__tree}{aws\+\_\+mqtt\+\_\+topic\+\_\+tree}} $\ast$}]{tree }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_ada57df26650e4559a16f54751a078cd6}\label{topic__tree_8c_ada57df26650e4559a16f54751a078cd6}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_tree\_action\_to\_remove@{s\_topic\_tree\_action\_to\_remove}}
\index{s\_topic\_tree\_action\_to\_remove@{s\_topic\_tree\_action\_to\_remove}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_tree\_action\_to\_remove()}{s\_topic\_tree\_action\_to\_remove()}}
{\footnotesize\ttfamily static int s\+\_\+topic\+\_\+tree\+\_\+action\+\_\+to\+\_\+remove (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}} $\ast$}]{action,  }\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{size\+\_\+t}]{size\+\_\+hint }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_ae93de9616f161eea1189918a38c7d3da}\label{topic__tree_8c_ae93de9616f161eea1189918a38c7d3da}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_tree\_iterate\_do\_recurse@{s\_topic\_tree\_iterate\_do\_recurse}}
\index{s\_topic\_tree\_iterate\_do\_recurse@{s\_topic\_tree\_iterate\_do\_recurse}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_tree\_iterate\_do\_recurse()}{s\_topic\_tree\_iterate\_do\_recurse()}}
{\footnotesize\ttfamily static int s\+\_\+topic\+\_\+tree\+\_\+iterate\+\_\+do\+\_\+recurse (\begin{DoxyParamCaption}\item[{void $\ast$}]{context,  }\item[{struct \mbox{\hyperlink{structaws__hash__element}{aws\+\_\+hash\+\_\+element}} $\ast$}]{current\+\_\+elem }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_a91b017bb0a458ade11aaf57d1291ab4a}\label{topic__tree_8c_a91b017bb0a458ade11aaf57d1291ab4a}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_tree\_publish\_do\_recurse@{s\_topic\_tree\_publish\_do\_recurse}}
\index{s\_topic\_tree\_publish\_do\_recurse@{s\_topic\_tree\_publish\_do\_recurse}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_tree\_publish\_do\_recurse()}{s\_topic\_tree\_publish\_do\_recurse()}}
{\footnotesize\ttfamily static void s\+\_\+topic\+\_\+tree\+\_\+publish\+\_\+do\+\_\+recurse (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{current\+\_\+sub\+\_\+part,  }\item[{const struct \mbox{\hyperlink{structaws__mqtt__topic__node}{aws\+\_\+mqtt\+\_\+topic\+\_\+node}} $\ast$}]{current,  }\item[{const struct \mbox{\hyperlink{structaws__mqtt__packet__publish}{aws\+\_\+mqtt\+\_\+packet\+\_\+publish}} $\ast$}]{pub }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{topic__tree_8c_a4cb91caa90ee65342d3883f05da072a8}\label{topic__tree_8c_a4cb91caa90ee65342d3883f05da072a8}} 
\index{topic\_tree.c@{topic\_tree.c}!s\_topic\_tree\_sub\_count\_iterator@{s\_topic\_tree\_sub\_count\_iterator}}
\index{s\_topic\_tree\_sub\_count\_iterator@{s\_topic\_tree\_sub\_count\_iterator}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{s\_topic\_tree\_sub\_count\_iterator()}{s\_topic\_tree\_sub\_count\_iterator()}}
{\footnotesize\ttfamily \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} s\+\_\+topic\+\_\+tree\+\_\+sub\+\_\+count\+\_\+iterator (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic,  }\item[{enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}}}]{qos,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{topic__tree_8c_a3db91d69221625fecc71e549a0238c35}\label{topic__tree_8c_a3db91d69221625fecc71e549a0238c35}} 
\index{topic\_tree.c@{topic\_tree.c}!aws\_mqtt\_topic\_tree\_action\_size@{aws\_mqtt\_topic\_tree\_action\_size}}
\index{aws\_mqtt\_topic\_tree\_action\_size@{aws\_mqtt\_topic\_tree\_action\_size}!topic\_tree.c@{topic\_tree.c}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_topic\_tree\_action\_size}{aws\_mqtt\_topic\_tree\_action\_size}}
{\footnotesize\ttfamily size\+\_\+t aws\+\_\+mqtt\+\_\+topic\+\_\+tree\+\_\+action\+\_\+size = sizeof(struct \mbox{\hyperlink{structtopic__tree__action}{topic\+\_\+tree\+\_\+action}})}

The size of transaction instances. When you initialize an \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} for use as a transaction, pass this as the item size. 