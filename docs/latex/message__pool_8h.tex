\hypertarget{message__pool_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/include/aws/io/message\+\_\+pool.h File Reference}
\label{message__pool_8h}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/include/aws/io/message\_pool.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/include/aws/io/message\_pool.h}}
{\ttfamily \#include $<$aws/common/array\+\_\+list.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/io.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}}
\item 
struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}}
\item 
struct \mbox{\hyperlink{structaws__message__pool__creation__args}{aws\+\_\+message\+\_\+pool\+\_\+creation\+\_\+args}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int \mbox{\hyperlink{message__pool_8h_a1d6fa87ce976d475e5eac0e2ecc2433e}{aws\+\_\+memory\+\_\+pool\+\_\+init}} (struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}} $\ast$mempool, struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, uint16\+\_\+t ideal\+\_\+segment\+\_\+count, size\+\_\+t segment\+\_\+size)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void \mbox{\hyperlink{message__pool_8h_a587b2e598b8f317c6f66064a4a428c3e}{aws\+\_\+memory\+\_\+pool\+\_\+clean\+\_\+up}} (struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}} $\ast$mempool)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void $\ast$ \mbox{\hyperlink{message__pool_8h_a11007961c50e7be6b79cd75b1ccd38b1}{aws\+\_\+memory\+\_\+pool\+\_\+acquire}} (struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}} $\ast$mempool)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void \mbox{\hyperlink{message__pool_8h_abb6e574a4ddbb00febf3514b9a389b69}{aws\+\_\+memory\+\_\+pool\+\_\+release}} (struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}} $\ast$mempool, void $\ast$to\+\_\+release)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int \mbox{\hyperlink{message__pool_8h_a11d3ed63cb76ff25df71ffc828a7ec97}{aws\+\_\+message\+\_\+pool\+\_\+init}} (struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}} $\ast$msg\+\_\+pool, struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, struct \mbox{\hyperlink{structaws__message__pool__creation__args}{aws\+\_\+message\+\_\+pool\+\_\+creation\+\_\+args}} $\ast$args)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void \mbox{\hyperlink{message__pool_8h_ad7c387139e0f0d3cf218413fd486978e}{aws\+\_\+message\+\_\+pool\+\_\+clean\+\_\+up}} (struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}} $\ast$msg\+\_\+pool)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$ \mbox{\hyperlink{message__pool_8h_a30e068cef8a7c542dfec2c702fdd86d6}{aws\+\_\+message\+\_\+pool\+\_\+acquire}} (struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}} $\ast$msg\+\_\+pool, enum \mbox{\hyperlink{io_8h_a0613a6ef5306823c98d09f67957af701}{aws\+\_\+io\+\_\+message\+\_\+type}} message\+\_\+type, size\+\_\+t size\+\_\+hint)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void \mbox{\hyperlink{message__pool_8h_a752d79e8cc38696ec970ddc1e782fcb1}{aws\+\_\+message\+\_\+pool\+\_\+release}} (struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}} $\ast$msg\+\_\+pool, struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$message)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{message__pool_8h_a11007961c50e7be6b79cd75b1ccd38b1}\label{message__pool_8h_a11007961c50e7be6b79cd75b1ccd38b1}} 
\index{message\_pool.h@{message\_pool.h}!aws\_memory\_pool\_acquire@{aws\_memory\_pool\_acquire}}
\index{aws\_memory\_pool\_acquire@{aws\_memory\_pool\_acquire}!message\_pool.h@{message\_pool.h}}
\doxysubsubsection{\texorpdfstring{aws\_memory\_pool\_acquire()}{aws\_memory\_pool\_acquire()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void$\ast$ aws\+\_\+memory\+\_\+pool\+\_\+acquire (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}} $\ast$}]{mempool }\end{DoxyParamCaption})}

Acquires memory from the pool if available, otherwise, it attempts to allocate and returns the result. \mbox{\Hypertarget{message__pool_8h_a587b2e598b8f317c6f66064a4a428c3e}\label{message__pool_8h_a587b2e598b8f317c6f66064a4a428c3e}} 
\index{message\_pool.h@{message\_pool.h}!aws\_memory\_pool\_clean\_up@{aws\_memory\_pool\_clean\_up}}
\index{aws\_memory\_pool\_clean\_up@{aws\_memory\_pool\_clean\_up}!message\_pool.h@{message\_pool.h}}
\doxysubsubsection{\texorpdfstring{aws\_memory\_pool\_clean\_up()}{aws\_memory\_pool\_clean\_up()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void aws\+\_\+memory\+\_\+pool\+\_\+clean\+\_\+up (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}} $\ast$}]{mempool }\end{DoxyParamCaption})}

\mbox{\Hypertarget{message__pool_8h_a1d6fa87ce976d475e5eac0e2ecc2433e}\label{message__pool_8h_a1d6fa87ce976d475e5eac0e2ecc2433e}} 
\index{message\_pool.h@{message\_pool.h}!aws\_memory\_pool\_init@{aws\_memory\_pool\_init}}
\index{aws\_memory\_pool\_init@{aws\_memory\_pool\_init}!message\_pool.h@{message\_pool.h}}
\doxysubsubsection{\texorpdfstring{aws\_memory\_pool\_init()}{aws\_memory\_pool\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int aws\+\_\+memory\+\_\+pool\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}} $\ast$}]{mempool,  }\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{uint16\+\_\+t}]{ideal\+\_\+segment\+\_\+count,  }\item[{size\+\_\+t}]{segment\+\_\+size }\end{DoxyParamCaption})}

Copyright Amazon.\+com, Inc. or its affiliates. All Rights Reserved. SPDX-\/\+License-\/\+Identifier\+: Apache-\/2.\+0. \mbox{\Hypertarget{message__pool_8h_abb6e574a4ddbb00febf3514b9a389b69}\label{message__pool_8h_abb6e574a4ddbb00febf3514b9a389b69}} 
\index{message\_pool.h@{message\_pool.h}!aws\_memory\_pool\_release@{aws\_memory\_pool\_release}}
\index{aws\_memory\_pool\_release@{aws\_memory\_pool\_release}!message\_pool.h@{message\_pool.h}}
\doxysubsubsection{\texorpdfstring{aws\_memory\_pool\_release()}{aws\_memory\_pool\_release()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void aws\+\_\+memory\+\_\+pool\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__memory__pool}{aws\+\_\+memory\+\_\+pool}} $\ast$}]{mempool,  }\item[{void $\ast$}]{to\+\_\+release }\end{DoxyParamCaption})}

Releases memory to the pool if space is available, otherwise frees {\ttfamily to\+\_\+release} \mbox{\Hypertarget{message__pool_8h_a30e068cef8a7c542dfec2c702fdd86d6}\label{message__pool_8h_a30e068cef8a7c542dfec2c702fdd86d6}} 
\index{message\_pool.h@{message\_pool.h}!aws\_message\_pool\_acquire@{aws\_message\_pool\_acquire}}
\index{aws\_message\_pool\_acquire@{aws\_message\_pool\_acquire}!message\_pool.h@{message\_pool.h}}
\doxysubsubsection{\texorpdfstring{aws\_message\_pool\_acquire()}{aws\_message\_pool\_acquire()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}}$\ast$ aws\+\_\+message\+\_\+pool\+\_\+acquire (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}} $\ast$}]{msg\+\_\+pool,  }\item[{enum \mbox{\hyperlink{io_8h_a0613a6ef5306823c98d09f67957af701}{aws\+\_\+io\+\_\+message\+\_\+type}}}]{message\+\_\+type,  }\item[{size\+\_\+t}]{size\+\_\+hint }\end{DoxyParamCaption})}

Acquires a message from the pool if available, otherwise, it attempts to allocate. If a message is acquired, note that size\+\_\+hint is just a hint. the return value\textquotesingle{}s capacity will be set to the actual buffer size. \mbox{\Hypertarget{message__pool_8h_ad7c387139e0f0d3cf218413fd486978e}\label{message__pool_8h_ad7c387139e0f0d3cf218413fd486978e}} 
\index{message\_pool.h@{message\_pool.h}!aws\_message\_pool\_clean\_up@{aws\_message\_pool\_clean\_up}}
\index{aws\_message\_pool\_clean\_up@{aws\_message\_pool\_clean\_up}!message\_pool.h@{message\_pool.h}}
\doxysubsubsection{\texorpdfstring{aws\_message\_pool\_clean\_up()}{aws\_message\_pool\_clean\_up()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void aws\+\_\+message\+\_\+pool\+\_\+clean\+\_\+up (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}} $\ast$}]{msg\+\_\+pool }\end{DoxyParamCaption})}

\mbox{\Hypertarget{message__pool_8h_a11d3ed63cb76ff25df71ffc828a7ec97}\label{message__pool_8h_a11d3ed63cb76ff25df71ffc828a7ec97}} 
\index{message\_pool.h@{message\_pool.h}!aws\_message\_pool\_init@{aws\_message\_pool\_init}}
\index{aws\_message\_pool\_init@{aws\_message\_pool\_init}!message\_pool.h@{message\_pool.h}}
\doxysubsubsection{\texorpdfstring{aws\_message\_pool\_init()}{aws\_message\_pool\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int aws\+\_\+message\+\_\+pool\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}} $\ast$}]{msg\+\_\+pool,  }\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{struct \mbox{\hyperlink{structaws__message__pool__creation__args}{aws\+\_\+message\+\_\+pool\+\_\+creation\+\_\+args}} $\ast$}]{args }\end{DoxyParamCaption})}

Initializes message pool using \textquotesingle{}msg\+\_\+pool\textquotesingle{} as the backing pool, \textquotesingle{}args\textquotesingle{} is copied. \mbox{\Hypertarget{message__pool_8h_a752d79e8cc38696ec970ddc1e782fcb1}\label{message__pool_8h_a752d79e8cc38696ec970ddc1e782fcb1}} 
\index{message\_pool.h@{message\_pool.h}!aws\_message\_pool\_release@{aws\_message\_pool\_release}}
\index{aws\_message\_pool\_release@{aws\_message\_pool\_release}!message\_pool.h@{message\_pool.h}}
\doxysubsubsection{\texorpdfstring{aws\_message\_pool\_release()}{aws\_message\_pool\_release()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void aws\+\_\+message\+\_\+pool\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__message__pool}{aws\+\_\+message\+\_\+pool}} $\ast$}]{msg\+\_\+pool,  }\item[{struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$}]{message }\end{DoxyParamCaption})}

Releases message to the pool if space is available, otherwise frees {\ttfamily message} 
\begin{DoxyParams}{Parameters}
{\em message} & \\
\hline
\end{DoxyParams}
