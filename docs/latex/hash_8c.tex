\hypertarget{hash_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/cal/source/hash.c File Reference}
\label{hash_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/cal/source/hash.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/cal/source/hash.c}}
{\ttfamily \#include $<$aws/cal/hash.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$ \mbox{\hyperlink{hash_8c_ada95b9da50e03731fd4ea6920c6ddc51}{aws\+\_\+sha256\+\_\+default\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}})
\item 
struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$ \mbox{\hyperlink{hash_8c_a09ff2c5413718badc2c1251292c1a9b8}{aws\+\_\+md5\+\_\+default\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}})
\item 
struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$ \mbox{\hyperlink{hash_8c_ac4f484eb16016310a9f4130dcdadf3f5}{aws\+\_\+sha256\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}})
\item 
struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$ \mbox{\hyperlink{hash_8c_ada7534b0623c90f7953e66bb9b640809}{aws\+\_\+md5\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}})
\item 
void \mbox{\hyperlink{hash_8c_a9736f4f5329d69ba9bee7fe15a787a2e}{aws\+\_\+set\+\_\+md5\+\_\+new\+\_\+fn}} (\mbox{\hyperlink{crt_2aws-c-cal_2include_2aws_2cal_2_hash_8h_a8156c335c3fb63355fa5a5b9c00535d8}{aws\+\_\+hash\+\_\+new\+\_\+fn}} $\ast$fn)
\item 
void \mbox{\hyperlink{hash_8c_a4169bcd94f5a31d943b5ac8a0da723ea}{aws\+\_\+set\+\_\+sha256\+\_\+new\+\_\+fn}} (\mbox{\hyperlink{crt_2aws-c-cal_2include_2aws_2cal_2_hash_8h_a8156c335c3fb63355fa5a5b9c00535d8}{aws\+\_\+hash\+\_\+new\+\_\+fn}} $\ast$fn)
\item 
void \mbox{\hyperlink{hash_8c_a95039d57f8e71a65499ff6502f9538ad}{aws\+\_\+hash\+\_\+destroy}} (struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$hash)
\item 
int \mbox{\hyperlink{hash_8c_aa338d269cee5945a93726fb2b975949e}{aws\+\_\+hash\+\_\+update}} (struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$hash, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$to\+\_\+hash)
\item 
int \mbox{\hyperlink{hash_8c_a442ffb5dc791b689b649fdfc2b1420fa}{aws\+\_\+hash\+\_\+finalize}} (struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$hash, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$\mbox{\hyperlink{log__formatter__test_8c_ae73289c5189c80c0661459b0f4743217}{output}}, size\+\_\+t truncate\+\_\+to)
\item 
static int \mbox{\hyperlink{hash_8c_a9bd1fb13363267103ef2ddc9a3fdf597}{compute\+\_\+hash}} (struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$hash, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$input, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$\mbox{\hyperlink{log__formatter__test_8c_ae73289c5189c80c0661459b0f4743217}{output}}, size\+\_\+t truncate\+\_\+to)
\item 
int \mbox{\hyperlink{hash_8c_a595cf5e3ce0263502baecc5ae15268f1}{aws\+\_\+md5\+\_\+compute}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$input, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$\mbox{\hyperlink{log__formatter__test_8c_ae73289c5189c80c0661459b0f4743217}{output}}, size\+\_\+t truncate\+\_\+to)
\item 
int \mbox{\hyperlink{hash_8c_a771ea4e9c9a9a1ce2a3b5cd0f37baae4}{aws\+\_\+sha256\+\_\+compute}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$input, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$\mbox{\hyperlink{log__formatter__test_8c_ae73289c5189c80c0661459b0f4743217}{output}}, size\+\_\+t truncate\+\_\+to)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{crt_2aws-c-cal_2include_2aws_2cal_2_hash_8h_a8156c335c3fb63355fa5a5b9c00535d8}{aws\+\_\+hash\+\_\+new\+\_\+fn}} $\ast$ \mbox{\hyperlink{hash_8c_a7486b6c0447c3646fb9933799d1d55cc}{s\+\_\+sha256\+\_\+new\+\_\+fn}} = \mbox{\hyperlink{bcrypt__hash_8c_ada95b9da50e03731fd4ea6920c6ddc51}{aws\+\_\+sha256\+\_\+default\+\_\+new}}
\item 
static \mbox{\hyperlink{crt_2aws-c-cal_2include_2aws_2cal_2_hash_8h_a8156c335c3fb63355fa5a5b9c00535d8}{aws\+\_\+hash\+\_\+new\+\_\+fn}} $\ast$ \mbox{\hyperlink{hash_8c_ada33a07fdfd30cd8da8a3bc96c5a22d1}{s\+\_\+md5\+\_\+new\+\_\+fn}} = \mbox{\hyperlink{bcrypt__hash_8c_a09ff2c5413718badc2c1251292c1a9b8}{aws\+\_\+md5\+\_\+default\+\_\+new}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{hash_8c_a95039d57f8e71a65499ff6502f9538ad}\label{hash_8c_a95039d57f8e71a65499ff6502f9538ad}} 
\index{hash.c@{hash.c}!aws\_hash\_destroy@{aws\_hash\_destroy}}
\index{aws\_hash\_destroy@{aws\_hash\_destroy}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_hash\_destroy()}{aws\_hash\_destroy()}}
{\footnotesize\ttfamily void aws\+\_\+hash\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$}]{hash }\end{DoxyParamCaption})}

Cleans up and deallocates hash. \mbox{\Hypertarget{hash_8c_a442ffb5dc791b689b649fdfc2b1420fa}\label{hash_8c_a442ffb5dc791b689b649fdfc2b1420fa}} 
\index{hash.c@{hash.c}!aws\_hash\_finalize@{aws\_hash\_finalize}}
\index{aws\_hash\_finalize@{aws\_hash\_finalize}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_hash\_finalize()}{aws\_hash\_finalize()}}
{\footnotesize\ttfamily int aws\+\_\+hash\+\_\+finalize (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$}]{hash,  }\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{output,  }\item[{size\+\_\+t}]{truncate\+\_\+to }\end{DoxyParamCaption})}

Completes the hash computation and writes the final digest to output. Allocation of output is the caller\textquotesingle{}s responsibility. If you specify truncate\+\_\+to to something other than 0, the output will be truncated to that number of bytes. For example if you want a SHA256 digest as the first 16 bytes, set truncate\+\_\+to to 16. If you want the full digest size, just set this to 0. \mbox{\Hypertarget{hash_8c_aa338d269cee5945a93726fb2b975949e}\label{hash_8c_aa338d269cee5945a93726fb2b975949e}} 
\index{hash.c@{hash.c}!aws\_hash\_update@{aws\_hash\_update}}
\index{aws\_hash\_update@{aws\_hash\_update}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_hash\_update()}{aws\_hash\_update()}}
{\footnotesize\ttfamily int aws\+\_\+hash\+\_\+update (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$}]{hash,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{to\+\_\+hash }\end{DoxyParamCaption})}

Updates the running hash with to\+\_\+hash. this can be called multiple times. \mbox{\Hypertarget{hash_8c_a595cf5e3ce0263502baecc5ae15268f1}\label{hash_8c_a595cf5e3ce0263502baecc5ae15268f1}} 
\index{hash.c@{hash.c}!aws\_md5\_compute@{aws\_md5\_compute}}
\index{aws\_md5\_compute@{aws\_md5\_compute}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_md5\_compute()}{aws\_md5\_compute()}}
{\footnotesize\ttfamily int aws\+\_\+md5\+\_\+compute (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{input,  }\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{output,  }\item[{size\+\_\+t}]{truncate\+\_\+to }\end{DoxyParamCaption})}

Computes the md5 hash over input and writes the digest output to \textquotesingle{}output\textquotesingle{}. Use this if you don\textquotesingle{}t need to stream the data you\textquotesingle{}re hashing and you can load the entire input to hash into memory. \mbox{\Hypertarget{hash_8c_a09ff2c5413718badc2c1251292c1a9b8}\label{hash_8c_a09ff2c5413718badc2c1251292c1a9b8}} 
\index{hash.c@{hash.c}!aws\_md5\_default\_new@{aws\_md5\_default\_new}}
\index{aws\_md5\_default\_new@{aws\_md5\_default\_new}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_md5\_default\_new()}{aws\_md5\_default\_new()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}}$\ast$ aws\+\_\+md5\+\_\+default\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})}

\mbox{\Hypertarget{hash_8c_ada7534b0623c90f7953e66bb9b640809}\label{hash_8c_ada7534b0623c90f7953e66bb9b640809}} 
\index{hash.c@{hash.c}!aws\_md5\_new@{aws\_md5\_new}}
\index{aws\_md5\_new@{aws\_md5\_new}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_md5\_new()}{aws\_md5\_new()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}}$\ast$ aws\+\_\+md5\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})}

Allocates and initializes an md5 hash instance. \mbox{\Hypertarget{hash_8c_a9736f4f5329d69ba9bee7fe15a787a2e}\label{hash_8c_a9736f4f5329d69ba9bee7fe15a787a2e}} 
\index{hash.c@{hash.c}!aws\_set\_md5\_new\_fn@{aws\_set\_md5\_new\_fn}}
\index{aws\_set\_md5\_new\_fn@{aws\_set\_md5\_new\_fn}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_set\_md5\_new\_fn()}{aws\_set\_md5\_new\_fn()}}
{\footnotesize\ttfamily void aws\+\_\+set\+\_\+md5\+\_\+new\+\_\+fn (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{crt_2aws-c-cal_2include_2aws_2cal_2_hash_8h_a8156c335c3fb63355fa5a5b9c00535d8}{aws\+\_\+hash\+\_\+new\+\_\+fn}} $\ast$}]{fn }\end{DoxyParamCaption})}

Set the implementation of md5 to use. If you compiled without AWS\+\_\+\+BYO\+\_\+\+CRYPTO, you do not need to call this. However, if use this, we will honor it, regardless of compile options. This may be useful for testing purposes. If you did set AWS\+\_\+\+BYO\+\_\+\+CRYPTO, and you do not call this function you will segfault. \mbox{\Hypertarget{hash_8c_a4169bcd94f5a31d943b5ac8a0da723ea}\label{hash_8c_a4169bcd94f5a31d943b5ac8a0da723ea}} 
\index{hash.c@{hash.c}!aws\_set\_sha256\_new\_fn@{aws\_set\_sha256\_new\_fn}}
\index{aws\_set\_sha256\_new\_fn@{aws\_set\_sha256\_new\_fn}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_set\_sha256\_new\_fn()}{aws\_set\_sha256\_new\_fn()}}
{\footnotesize\ttfamily void aws\+\_\+set\+\_\+sha256\+\_\+new\+\_\+fn (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{crt_2aws-c-cal_2include_2aws_2cal_2_hash_8h_a8156c335c3fb63355fa5a5b9c00535d8}{aws\+\_\+hash\+\_\+new\+\_\+fn}} $\ast$}]{fn }\end{DoxyParamCaption})}

Set the implementation of sha256 to use. If you compiled without AWS\+\_\+\+BYO\+\_\+\+CRYPTO, you do not need to call this. However, if use this, we will honor it, regardless of compile options. This may be useful for testing purposes. If you did set AWS\+\_\+\+BYO\+\_\+\+CRYPTO, and you do not call this function you will segfault. \mbox{\Hypertarget{hash_8c_a771ea4e9c9a9a1ce2a3b5cd0f37baae4}\label{hash_8c_a771ea4e9c9a9a1ce2a3b5cd0f37baae4}} 
\index{hash.c@{hash.c}!aws\_sha256\_compute@{aws\_sha256\_compute}}
\index{aws\_sha256\_compute@{aws\_sha256\_compute}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_sha256\_compute()}{aws\_sha256\_compute()}}
{\footnotesize\ttfamily int aws\+\_\+sha256\+\_\+compute (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{input,  }\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{output,  }\item[{size\+\_\+t}]{truncate\+\_\+to }\end{DoxyParamCaption})}

Computes the sha256 hash over input and writes the digest output to \textquotesingle{}output\textquotesingle{}. Use this if you don\textquotesingle{}t need to stream the data you\textquotesingle{}re hashing and you can load the entire input to hash into memory. If you specify truncate\+\_\+to to something other than 0, the output will be truncated to that number of bytes. For example if you want a SHA256 digest as the first 16 bytes, set truncate\+\_\+to to 16. If you want the full digest size, just set this to 0. \mbox{\Hypertarget{hash_8c_ada95b9da50e03731fd4ea6920c6ddc51}\label{hash_8c_ada95b9da50e03731fd4ea6920c6ddc51}} 
\index{hash.c@{hash.c}!aws\_sha256\_default\_new@{aws\_sha256\_default\_new}}
\index{aws\_sha256\_default\_new@{aws\_sha256\_default\_new}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_sha256\_default\_new()}{aws\_sha256\_default\_new()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}}$\ast$ aws\+\_\+sha256\+\_\+default\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})}

Copyright Amazon.\+com, Inc. or its affiliates. All Rights Reserved. SPDX-\/\+License-\/\+Identifier\+: Apache-\/2.\+0. \mbox{\Hypertarget{hash_8c_ac4f484eb16016310a9f4130dcdadf3f5}\label{hash_8c_ac4f484eb16016310a9f4130dcdadf3f5}} 
\index{hash.c@{hash.c}!aws\_sha256\_new@{aws\_sha256\_new}}
\index{aws\_sha256\_new@{aws\_sha256\_new}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{aws\_sha256\_new()}{aws\_sha256\_new()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}}$\ast$ aws\+\_\+sha256\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})}

Allocates and initializes a sha256 hash instance. \mbox{\Hypertarget{hash_8c_a9bd1fb13363267103ef2ddc9a3fdf597}\label{hash_8c_a9bd1fb13363267103ef2ddc9a3fdf597}} 
\index{hash.c@{hash.c}!compute\_hash@{compute\_hash}}
\index{compute\_hash@{compute\_hash}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{compute\_hash()}{compute\_hash()}}
{\footnotesize\ttfamily static int compute\+\_\+hash (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__hash}{aws\+\_\+hash}} $\ast$}]{hash,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{input,  }\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{output,  }\item[{size\+\_\+t}]{truncate\+\_\+to }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{hash_8c_ada33a07fdfd30cd8da8a3bc96c5a22d1}\label{hash_8c_ada33a07fdfd30cd8da8a3bc96c5a22d1}} 
\index{hash.c@{hash.c}!s\_md5\_new\_fn@{s\_md5\_new\_fn}}
\index{s\_md5\_new\_fn@{s\_md5\_new\_fn}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{s\_md5\_new\_fn}{s\_md5\_new\_fn}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-c-cal_2include_2aws_2cal_2_hash_8h_a8156c335c3fb63355fa5a5b9c00535d8}{aws\+\_\+hash\+\_\+new\+\_\+fn}}$\ast$ s\+\_\+md5\+\_\+new\+\_\+fn = \mbox{\hyperlink{bcrypt__hash_8c_a09ff2c5413718badc2c1251292c1a9b8}{aws\+\_\+md5\+\_\+default\+\_\+new}}\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{hash_8c_a7486b6c0447c3646fb9933799d1d55cc}\label{hash_8c_a7486b6c0447c3646fb9933799d1d55cc}} 
\index{hash.c@{hash.c}!s\_sha256\_new\_fn@{s\_sha256\_new\_fn}}
\index{s\_sha256\_new\_fn@{s\_sha256\_new\_fn}!hash.c@{hash.c}}
\doxysubsubsection{\texorpdfstring{s\_sha256\_new\_fn}{s\_sha256\_new\_fn}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-c-cal_2include_2aws_2cal_2_hash_8h_a8156c335c3fb63355fa5a5b9c00535d8}{aws\+\_\+hash\+\_\+new\+\_\+fn}}$\ast$ s\+\_\+sha256\+\_\+new\+\_\+fn = \mbox{\hyperlink{bcrypt__hash_8c_ada95b9da50e03731fd4ea6920c6ddc51}{aws\+\_\+sha256\+\_\+default\+\_\+new}}\hspace{0.3cm}{\ttfamily [static]}}

