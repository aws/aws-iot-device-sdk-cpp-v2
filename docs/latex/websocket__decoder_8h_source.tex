\hypertarget{websocket__decoder_8h_source}{}\doxysection{websocket\+\_\+decoder.\+h}
\label{websocket__decoder_8h_source}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/private/websocket\_decoder.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/private/websocket\_decoder.h}}
\mbox{\hyperlink{websocket__decoder_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef AWS\_HTTP\_WEBSOCKET\_DECODER\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define AWS\_HTTP\_WEBSOCKET\_DECODER\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{websocket__impl_8h}{aws/http/private/websocket\_impl.h}}>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{comment}{/* Called when the non-\/payload portion of a frame has been decoded. */}}
\DoxyCodeLine{12 \textcolor{keyword}{typedef} int(\mbox{\hyperlink{websocket__decoder_8h_a500a94daa4d5564f07794f8280a121e1}{aws\_websocket\_decoder\_frame\_fn}})(\textcolor{keyword}{const} \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__websocket__frame}{aws\_websocket\_frame}} *frame, \textcolor{keywordtype}{void} *\mbox{\hyperlink{channel__handler__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\_data}});}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{comment}{/* Called repeatedly as the payload is decoded. If a mask was used, the data has been unmasked. */}}
\DoxyCodeLine{15 \textcolor{keyword}{typedef} int(\mbox{\hyperlink{websocket__decoder_8h_a07eafb6d2e544a056420074ae68c2808}{aws\_websocket\_decoder\_payload\_fn}})(\textcolor{keyword}{struct }\mbox{\hyperlink{structaws__byte__cursor}{aws\_byte\_cursor}} data, void *\mbox{\hyperlink{channel__handler__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\_data}});}
\DoxyCodeLine{16 }
\DoxyCodeLine{20 \textcolor{keyword}{enum} \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469}{aws\_websocket\_decoder\_state}} \{}
\DoxyCodeLine{21     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a2acedb28179520ab10271bd26de7f16a}{AWS\_WEBSOCKET\_DECODER\_STATE\_INIT}},}
\DoxyCodeLine{22     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469afef261b5dbbf35d827ddf1baea3a4691}{AWS\_WEBSOCKET\_DECODER\_STATE\_OPCODE\_BYTE}},}
\DoxyCodeLine{23     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a06017d4d221aa964c5f131b4ff1b62e3}{AWS\_WEBSOCKET\_DECODER\_STATE\_LENGTH\_BYTE}},}
\DoxyCodeLine{24     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469aa2416f9dd7e11d91c59ab1a8ff72c4f2}{AWS\_WEBSOCKET\_DECODER\_STATE\_EXTENDED\_LENGTH}},}
\DoxyCodeLine{25     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a46fde057c8b854f83207e864fd9896d6}{AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY\_CHECK}},}
\DoxyCodeLine{26     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a6ca5b45819dba480c4f0c24c9ac44df2}{AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY}},}
\DoxyCodeLine{27     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a0f53c345591ebfbe5cfcb7abc5364ddd}{AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD\_CHECK}},}
\DoxyCodeLine{28     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a29d8506aead4dd61085152c8313c6007}{AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD}},}
\DoxyCodeLine{29     \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a95c7627bbd12d467ef03075ca25a7595}{AWS\_WEBSOCKET\_DECODER\_STATE\_DONE}},}
\DoxyCodeLine{30 \};}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__websocket__decoder}{aws\_websocket\_decoder}} \{}
\DoxyCodeLine{33     \textcolor{keyword}{enum} \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469}{aws\_websocket\_decoder\_state}} \mbox{\hyperlink{structaws__websocket__decoder_ad602dbf486e950161930fb3ac7923e9d}{state}};}
\DoxyCodeLine{34     uint64\_t \mbox{\hyperlink{structaws__websocket__decoder_a96a6f128a7ab77596a60fae15384cb86}{state\_bytes\_processed}}; \textcolor{comment}{/* For multi-\/byte states, the number of bytes processed so far */}}
\DoxyCodeLine{35     uint8\_t \mbox{\hyperlink{structaws__websocket__decoder_ab12687f7974ab587a555aa3b8411f4f9}{state\_cache}}[8];         \textcolor{comment}{/* For multi-\/byte states to cache data that might be split across packets */}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__websocket__frame}{aws\_websocket\_frame}} \mbox{\hyperlink{structaws__websocket__decoder_a6a3119b588164679b70f10c2fbb72cdf}{current\_frame}}; \textcolor{comment}{/* Data about current frame being decoded */}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structaws__websocket__decoder_ac537349643aee6cb191e9c88a5381507}{expecting\_continuation\_data\_frame}}; \textcolor{comment}{/* True when the next data frame must be CONTINUATION frame */}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{keywordtype}{void} *\mbox{\hyperlink{structaws__websocket__decoder_a93273b936d8cb72a91ae23d6e0d780ed}{user\_data}};}
\DoxyCodeLine{42     \mbox{\hyperlink{websocket__decoder_8h_a500a94daa4d5564f07794f8280a121e1}{aws\_websocket\_decoder\_frame\_fn}} *\mbox{\hyperlink{structaws__websocket__decoder_a2d1dcf5cd12a2dea8705910144519412}{on\_frame}};}
\DoxyCodeLine{43     \mbox{\hyperlink{websocket__decoder_8h_a07eafb6d2e544a056420074ae68c2808}{aws\_websocket\_decoder\_payload\_fn}} *\mbox{\hyperlink{structaws__websocket__decoder_a5320dd1863c5517afc64982ed8628652}{on\_payload}};}
\DoxyCodeLine{44 \};}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\_EXTERN\_C\_BEGIN}}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\_HTTP\_API}}}
\DoxyCodeLine{49 \textcolor{keywordtype}{void} \mbox{\hyperlink{websocket__decoder_8h_a2453010a4195d01e3b5fb22793978b65}{aws\_websocket\_decoder\_init}}(}
\DoxyCodeLine{50     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__websocket__decoder}{aws\_websocket\_decoder}} *decoder,}
\DoxyCodeLine{51     \mbox{\hyperlink{websocket__decoder_8h_a500a94daa4d5564f07794f8280a121e1}{aws\_websocket\_decoder\_frame\_fn}} *on\_frame,}
\DoxyCodeLine{52     \mbox{\hyperlink{websocket__decoder_8h_a07eafb6d2e544a056420074ae68c2808}{aws\_websocket\_decoder\_payload\_fn}} *on\_payload,}
\DoxyCodeLine{53     \textcolor{keywordtype}{void} *\mbox{\hyperlink{channel__handler__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\_data}});}
\DoxyCodeLine{54 }
\DoxyCodeLine{62 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\_HTTP\_API}}}
\DoxyCodeLine{63 \textcolor{keywordtype}{int} \mbox{\hyperlink{websocket__decoder_8h_a53fa736a27af409a90401914df800650}{aws\_websocket\_decoder\_process}}(}
\DoxyCodeLine{64     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__websocket__decoder}{aws\_websocket\_decoder}} *decoder,}
\DoxyCodeLine{65     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__byte__cursor}{aws\_byte\_cursor}} *data,}
\DoxyCodeLine{66     \textcolor{keywordtype}{bool} *frame\_complete);}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \mbox{\hyperlink{macros_8h_a24efb76a3b128abc9c35d83cac0030c5}{AWS\_EXTERN\_C\_END}}}
\DoxyCodeLine{69 }
\DoxyCodeLine{70 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* AWS\_HTTP\_WEBSOCKET\_DECODER\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
