\hypertarget{client_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/include/aws/mqtt/client.h File Reference}
\label{client_8h}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/include/aws/mqtt/client.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/include/aws/mqtt/client.h}}
{\ttfamily \#include $<$aws/common/hash\+\_\+table.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/byte\+\_\+buf.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/ref\+\_\+count.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/string.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/event\+\_\+loop.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/host\+\_\+resolver.\+h$>$}\newline
{\ttfamily \#include $<$aws/mqtt/mqtt.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}}
\item 
struct \mbox{\hyperlink{structaws__mqtt__topic__subscription}{aws\+\_\+mqtt\+\_\+topic\+\_\+subscription}}
\item 
struct \mbox{\hyperlink{structaws__mqtt__connection__options}{aws\+\_\+mqtt\+\_\+connection\+\_\+options}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void() \mbox{\hyperlink{client_8h_ab798c331e8c9a78dcb6fb7f300d8b59d}{aws\+\_\+mqtt\+\_\+op\+\_\+complete\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}}, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$userdata)
\item 
typedef void() \mbox{\hyperlink{client_8h_a4cdd60b71e0103c78979e02175c05d05}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+complete\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, enum \mbox{\hyperlink{mqtt_8h_adb6a66eb91a6664fe93a8e3f82016e06}{aws\+\_\+mqtt\+\_\+connect\+\_\+return\+\_\+code}} return\+\_\+code, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} session\+\_\+present, void $\ast$userdata)
\item 
typedef void() \mbox{\hyperlink{client_8h_aaea81ec53050fb24e6e53db4f3c78f3a}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+interrupted\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$userdata)
\item 
typedef void() \mbox{\hyperlink{client_8h_a453dfd16edcee3bf1c4a2f3766c8adbc}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+resumed\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, enum \mbox{\hyperlink{mqtt_8h_adb6a66eb91a6664fe93a8e3f82016e06}{aws\+\_\+mqtt\+\_\+connect\+\_\+return\+\_\+code}} return\+\_\+code, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} session\+\_\+present, void $\ast$userdata)
\item 
typedef void() \mbox{\hyperlink{client_8h_a11a3408e5ffe9d1c61fe6c15617b8728}{aws\+\_\+mqtt\+\_\+suback\+\_\+multi\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}}, const struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$topic\+\_\+subacks, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$userdata)
\item 
typedef void() \mbox{\hyperlink{client_8h_a57a5b13d3ef0e02da483985f1a24eb10}{aws\+\_\+mqtt\+\_\+suback\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}}, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad99baabff61442b2d602f6dd84310f89}{topic}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$userdata)
\item 
typedef void() \mbox{\hyperlink{client_8h_a979def98388f4a6c7eb7de0c3c868555}{aws\+\_\+mqtt\+\_\+client\+\_\+publish\+\_\+received\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad99baabff61442b2d602f6dd84310f89}{topic}}, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad1560a388c937f36f038c683175d82bf}{payload}}, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{s2n_2pq-crypto_2bike__r2_2decode_8c_aa36ac9b28eef6905672b29e8e398053a}{dup}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} retain, void $\ast$userdata)
\item 
typedef void() \mbox{\hyperlink{client_8h_a2d0ff0373f9059b34af07aaf87147e04}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+disconnect\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, void $\ast$userdata)
\item 
typedef void() \mbox{\hyperlink{client_8h_a8843612d75070b8c707c3b1519691715}{aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+complete\+\_\+fn}}(struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}} $\ast$request, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$complete\+\_\+ctx)
\item 
typedef void() \mbox{\hyperlink{client_8h_a1c976c194b00ab431b1d688483cf985b}{aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+fn}}(struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}} $\ast$request, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}}, \mbox{\hyperlink{client_8h_a8843612d75070b8c707c3b1519691715}{aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+complete\+\_\+fn}} $\ast$complete\+\_\+fn, void $\ast$complete\+\_\+ctx)
\item 
typedef int \mbox{\hyperlink{client_8h_a7bcec246282fbf6ad17a94b6b376539a}{aws\+\_\+mqtt\+\_\+validate\+\_\+websocket\+\_\+handshake\+\_\+fn}}(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__http__header}{aws\+\_\+http\+\_\+header}} $\ast$header\+\_\+array, size\+\_\+t num\+\_\+headers, void $\ast$userdata)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} $\ast$ \mbox{\hyperlink{client_8h_ac52100136122b14fe380b78bd79add4c}{aws\+\_\+mqtt\+\_\+client\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$bootstrap)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} $\ast$ \mbox{\hyperlink{client_8h_a793ccdb64978f8a2365c8ef7fbf0fd92}{aws\+\_\+mqtt\+\_\+client\+\_\+acquire}} (struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} $\ast$client)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} void \mbox{\hyperlink{client_8h_a30f7c13f3278de2016eeac3cf7c84a47}{aws\+\_\+mqtt\+\_\+client\+\_\+release}} (struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} $\ast$client)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$ \mbox{\hyperlink{client_8h_a74d960a25b25e4a270984406990700b0}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+new}} (struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} $\ast$client)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$ \mbox{\hyperlink{client_8h_a374c36bd21c0fc24f894d21d0a5edaee}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+acquire}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} void \mbox{\hyperlink{client_8h_adef815e8b43f889c3cb4c9fff871a6c9}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+release}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_a62b3d8c85a2613fa1051b1c80b884cad}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+will}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad99baabff61442b2d602f6dd84310f89}{topic}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} retain, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad1560a388c937f36f038c683175d82bf}{payload}})
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_a9334da6046ba4c7c54bc9d102f1159da}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+login}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a6e350427887d766b20857e72025d592c}{username}}, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_af7b550f3b3dbd60c52719a28b826fdd8}{password}})
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_ae2170ac3441ca7b6fe2bdf028143e723}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+use\+\_\+websockets}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, \mbox{\hyperlink{client_8h_a1c976c194b00ab431b1d688483cf985b}{aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+fn}} $\ast$transformer, void $\ast$transformer\+\_\+ud, \mbox{\hyperlink{client_8h_a7bcec246282fbf6ad17a94b6b376539a}{aws\+\_\+mqtt\+\_\+validate\+\_\+websocket\+\_\+handshake\+\_\+fn}} $\ast$validator, void $\ast$validator\+\_\+ud)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_ad1de781709b28f40ec9a205acab089e1}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+websocket\+\_\+proxy\+\_\+options}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, struct \mbox{\hyperlink{structaws__http__proxy__options}{aws\+\_\+http\+\_\+proxy\+\_\+options}} $\ast$proxy\+\_\+options)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_a1284ba84446c1160118dc004fba598ca}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+reconnect\+\_\+timeout}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, uint64\+\_\+t min\+\_\+timeout, uint64\+\_\+t max\+\_\+timeout)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_a428c682efc6ab302bc15e345a715af06}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+connection\+\_\+interruption\+\_\+handlers}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, \mbox{\hyperlink{client_8h_aaea81ec53050fb24e6e53db4f3c78f3a}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+interrupted\+\_\+fn}} $\ast$on\+\_\+interrupted, void $\ast$on\+\_\+interrupted\+\_\+ud, \mbox{\hyperlink{client_8h_a453dfd16edcee3bf1c4a2f3766c8adbc}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+resumed\+\_\+fn}} $\ast$on\+\_\+resumed, void $\ast$on\+\_\+resumed\+\_\+ud)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_a5f1761aff9786a69eac3531de422a1c0}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+on\+\_\+any\+\_\+publish\+\_\+handler}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, \mbox{\hyperlink{client_8h_a979def98388f4a6c7eb7de0c3c868555}{aws\+\_\+mqtt\+\_\+client\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$on\+\_\+any\+\_\+publish, void $\ast$on\+\_\+any\+\_\+publish\+\_\+ud)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_a9dcb8d15bf5b4efeeea0cb392ed76010}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+connect}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__mqtt__connection__options}{aws\+\_\+mqtt\+\_\+connection\+\_\+options}} $\ast$\mbox{\hyperlink{connection__state__test_8c_afe7db95b0401b8dbd61145beab76a3c4}{connection\+\_\+options}})
\item 
int \mbox{\hyperlink{client_8h_a2f7e17b08c7b3c700c8ddd8fafd33455}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+reconnect}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, \mbox{\hyperlink{client_8h_a4cdd60b71e0103c78979e02175c05d05}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+complete\+\_\+fn}} $\ast$on\+\_\+connection\+\_\+complete, void $\ast$userdata)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int \mbox{\hyperlink{client_8h_a818c8e4f3e72777e09e0ef8188c6f8c0}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+disconnect}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, \mbox{\hyperlink{client_8h_a2d0ff0373f9059b34af07aaf87147e04}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+disconnect\+\_\+fn}} $\ast$on\+\_\+disconnect, void $\ast$userdata)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t \mbox{\hyperlink{client_8h_a143c28a682679fba3b2719e85cd23f7e}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+subscribe\+\_\+multiple}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$\mbox{\hyperlink{connection__state__test_8c_acf32dc1de721690a3a4aa9723d66b3a7}{topic\+\_\+filters}}, \mbox{\hyperlink{client_8h_a11a3408e5ffe9d1c61fe6c15617b8728}{aws\+\_\+mqtt\+\_\+suback\+\_\+multi\+\_\+fn}} $\ast$on\+\_\+suback, void $\ast$on\+\_\+suback\+\_\+ud)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t \mbox{\hyperlink{client_8h_a2be79524cd9e58a3d132a89fb0d7226c}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+subscribe}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$topic\+\_\+filter, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, \mbox{\hyperlink{client_8h_a979def98388f4a6c7eb7de0c3c868555}{aws\+\_\+mqtt\+\_\+client\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$\mbox{\hyperlink{topic__tree__test_8c_ad7276cd5ba4292cd3ff3633137b853f8}{on\+\_\+publish}}, void $\ast$on\+\_\+publish\+\_\+ud, \mbox{\hyperlink{mqtt_8h_a4c072048c5bd312923466806b23cea73}{aws\+\_\+mqtt\+\_\+userdata\+\_\+cleanup\+\_\+fn}} $\ast$on\+\_\+ud\+\_\+cleanup, \mbox{\hyperlink{client_8h_a57a5b13d3ef0e02da483985f1a24eb10}{aws\+\_\+mqtt\+\_\+suback\+\_\+fn}} $\ast$on\+\_\+suback, void $\ast$on\+\_\+suback\+\_\+ud)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t \mbox{\hyperlink{client_8h_a4a9dd69b79ae4c96c186d34e1e60e33e}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+subscribe\+\_\+local}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$topic\+\_\+filter, \mbox{\hyperlink{client_8h_a979def98388f4a6c7eb7de0c3c868555}{aws\+\_\+mqtt\+\_\+client\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$\mbox{\hyperlink{topic__tree__test_8c_ad7276cd5ba4292cd3ff3633137b853f8}{on\+\_\+publish}}, void $\ast$on\+\_\+publish\+\_\+ud, \mbox{\hyperlink{mqtt_8h_a4c072048c5bd312923466806b23cea73}{aws\+\_\+mqtt\+\_\+userdata\+\_\+cleanup\+\_\+fn}} $\ast$on\+\_\+ud\+\_\+cleanup, \mbox{\hyperlink{client_8h_a57a5b13d3ef0e02da483985f1a24eb10}{aws\+\_\+mqtt\+\_\+suback\+\_\+fn}} $\ast$on\+\_\+suback, void $\ast$on\+\_\+suback\+\_\+ud)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t \mbox{\hyperlink{client_8h_a00b857038baf881c5cb1c1d426e628f0}{aws\+\_\+mqtt\+\_\+resubscribe\+\_\+existing\+\_\+topics}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, \mbox{\hyperlink{client_8h_a11a3408e5ffe9d1c61fe6c15617b8728}{aws\+\_\+mqtt\+\_\+suback\+\_\+multi\+\_\+fn}} $\ast$on\+\_\+suback, void $\ast$on\+\_\+suback\+\_\+ud)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t \mbox{\hyperlink{client_8h_a92292f9330f16c48a39fe2b09ae4381f}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+unsubscribe}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$topic\+\_\+filter, \mbox{\hyperlink{client_8h_ab798c331e8c9a78dcb6fb7f300d8b59d}{aws\+\_\+mqtt\+\_\+op\+\_\+complete\+\_\+fn}} $\ast$on\+\_\+unsuback, void $\ast$on\+\_\+unsuback\+\_\+ud)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t \mbox{\hyperlink{client_8h_accba3c63a72807cabf69fcf11a831954}{aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+publish}} (struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad99baabff61442b2d602f6dd84310f89}{topic}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} retain, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad1560a388c937f36f038c683175d82bf}{payload}}, \mbox{\hyperlink{client_8h_ab798c331e8c9a78dcb6fb7f300d8b59d}{aws\+\_\+mqtt\+\_\+op\+\_\+complete\+\_\+fn}} $\ast$on\+\_\+complete, void $\ast$userdata)
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{client_8h_a4cdd60b71e0103c78979e02175c05d05}\label{client_8h_a4cdd60b71e0103c78979e02175c05d05}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_on\_connection\_complete\_fn@{aws\_mqtt\_client\_on\_connection\_complete\_fn}}
\index{aws\_mqtt\_client\_on\_connection\_complete\_fn@{aws\_mqtt\_client\_on\_connection\_complete\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_on\_connection\_complete\_fn}{aws\_mqtt\_client\_on\_connection\_complete\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+complete\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, enum \mbox{\hyperlink{mqtt_8h_adb6a66eb91a6664fe93a8e3f82016e06}{aws\+\_\+mqtt\+\_\+connect\+\_\+return\+\_\+code}} return\+\_\+code, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} session\+\_\+present, void $\ast$userdata)}

Called when a connection attempt is completed, either in success or error.

If error code is AWS\+\_\+\+ERROR\+\_\+\+SUCCESS, then a CONNACK has been received from the server and return\+\_\+code and session\+\_\+present contain the values received. If error\+\_\+code is not AWS\+\_\+\+ERROR\+\_\+\+SUCCESS, it refers to the internal error that occurred during connection, and return\+\_\+code and session\+\_\+present are invalid. \mbox{\Hypertarget{client_8h_aaea81ec53050fb24e6e53db4f3c78f3a}\label{client_8h_aaea81ec53050fb24e6e53db4f3c78f3a}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_on\_connection\_interrupted\_fn@{aws\_mqtt\_client\_on\_connection\_interrupted\_fn}}
\index{aws\_mqtt\_client\_on\_connection\_interrupted\_fn@{aws\_mqtt\_client\_on\_connection\_interrupted\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_on\_connection\_interrupted\_fn}{aws\_mqtt\_client\_on\_connection\_interrupted\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+interrupted\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$userdata)}

\mbox{\Hypertarget{client_8h_a453dfd16edcee3bf1c4a2f3766c8adbc}\label{client_8h_a453dfd16edcee3bf1c4a2f3766c8adbc}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_on\_connection\_resumed\_fn@{aws\_mqtt\_client\_on\_connection\_resumed\_fn}}
\index{aws\_mqtt\_client\_on\_connection\_resumed\_fn@{aws\_mqtt\_client\_on\_connection\_resumed\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_on\_connection\_resumed\_fn}{aws\_mqtt\_client\_on\_connection\_resumed\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+resumed\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, enum \mbox{\hyperlink{mqtt_8h_adb6a66eb91a6664fe93a8e3f82016e06}{aws\+\_\+mqtt\+\_\+connect\+\_\+return\+\_\+code}} return\+\_\+code, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} session\+\_\+present, void $\ast$userdata)}

Called when a connection to the server is resumed (if clean\+\_\+session is true, calling aws\+\_\+mqtt\+\_\+resubscribe\+\_\+existing\+\_\+topics is suggested) \mbox{\Hypertarget{client_8h_a2d0ff0373f9059b34af07aaf87147e04}\label{client_8h_a2d0ff0373f9059b34af07aaf87147e04}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_on\_disconnect\_fn@{aws\_mqtt\_client\_on\_disconnect\_fn}}
\index{aws\_mqtt\_client\_on\_disconnect\_fn@{aws\_mqtt\_client\_on\_disconnect\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_on\_disconnect\_fn}{aws\_mqtt\_client\_on\_disconnect\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+disconnect\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, void $\ast$userdata)}

Called when a connection is closed, right before any resources are deleted \mbox{\Hypertarget{client_8h_a979def98388f4a6c7eb7de0c3c868555}\label{client_8h_a979def98388f4a6c7eb7de0c3c868555}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_publish\_received\_fn@{aws\_mqtt\_client\_publish\_received\_fn}}
\index{aws\_mqtt\_client\_publish\_received\_fn@{aws\_mqtt\_client\_publish\_received\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_publish\_received\_fn}{aws\_mqtt\_client\_publish\_received\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+client\+\_\+publish\+\_\+received\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad99baabff61442b2d602f6dd84310f89}{topic}}, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad1560a388c937f36f038c683175d82bf}{payload}}, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{s2n_2pq-crypto_2bike__r2_2decode_8c_aa36ac9b28eef6905672b29e8e398053a}{dup}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} retain, void $\ast$userdata)}

Called when a publish message is received.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\mbox{\texttt{ in}}  & {\em topic} & The information channel to which the payload data was published. \\
\hline
\mbox{\texttt{ in}}  & {\em payload} & The payload data. \\
\hline
\mbox{\texttt{ in}}  & {\em dup} & DUP flag. If true, this might be re-\/delivery of an earlier attempt to send the message. \\
\hline
\mbox{\texttt{ in}}  & {\em qos} & Quality of Service used to deliver the message. \\
\hline
\mbox{\texttt{ in}}  & {\em retain} & Retain flag. If true, the message was sent as a result of a new subscription being made by the client. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_ab798c331e8c9a78dcb6fb7f300d8b59d}\label{client_8h_ab798c331e8c9a78dcb6fb7f300d8b59d}} 
\index{client.h@{client.h}!aws\_mqtt\_op\_complete\_fn@{aws\_mqtt\_op\_complete\_fn}}
\index{aws\_mqtt\_op\_complete\_fn@{aws\_mqtt\_op\_complete\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_op\_complete\_fn}{aws\_mqtt\_op\_complete\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+op\+\_\+complete\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}}, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$userdata)}

Callback called when a request roundtrip is complete (Qo\+S0 immediately, Qo\+S1 on PUBACK, Qo\+S2 on PUBCOMP). Either succeed or not \mbox{\Hypertarget{client_8h_a57a5b13d3ef0e02da483985f1a24eb10}\label{client_8h_a57a5b13d3ef0e02da483985f1a24eb10}} 
\index{client.h@{client.h}!aws\_mqtt\_suback\_fn@{aws\_mqtt\_suback\_fn}}
\index{aws\_mqtt\_suback\_fn@{aws\_mqtt\_suback\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_suback\_fn}{aws\_mqtt\_suback\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+suback\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}}, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad99baabff61442b2d602f6dd84310f89}{topic}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$userdata)}

Called when a single-\/topic subscription request is complete. Note\+: If the qos value is AWS\+\_\+\+MQTT\+\_\+\+QOS\+\_\+\+FAILURE, then the subscription was rejected by the broker. \mbox{\Hypertarget{client_8h_a11a3408e5ffe9d1c61fe6c15617b8728}\label{client_8h_a11a3408e5ffe9d1c61fe6c15617b8728}} 
\index{client.h@{client.h}!aws\_mqtt\_suback\_multi\_fn@{aws\_mqtt\_suback\_multi\_fn}}
\index{aws\_mqtt\_suback\_multi\_fn@{aws\_mqtt\_suback\_multi\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_suback\_multi\_fn}{aws\_mqtt\_suback\_multi\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+suback\+\_\+multi\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}}, const struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$topic\+\_\+subacks, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$userdata)}

Called when a multi-\/topic subscription request is complete. Note\+: If any topic\+\_\+suback\textquotesingle{}s qos value is AWS\+\_\+\+MQTT\+\_\+\+QOS\+\_\+\+FAILURE, then that topic subscription was rejected by the broker. \mbox{\Hypertarget{client_8h_a8843612d75070b8c707c3b1519691715}\label{client_8h_a8843612d75070b8c707c3b1519691715}} 
\index{client.h@{client.h}!aws\_mqtt\_transform\_websocket\_handshake\_complete\_fn@{aws\_mqtt\_transform\_websocket\_handshake\_complete\_fn}}
\index{aws\_mqtt\_transform\_websocket\_handshake\_complete\_fn@{aws\_mqtt\_transform\_websocket\_handshake\_complete\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_transform\_websocket\_handshake\_complete\_fn}{aws\_mqtt\_transform\_websocket\_handshake\_complete\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+complete\+\_\+fn(struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}} $\ast$request, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$complete\+\_\+ctx)}

Function to invoke when the websocket handshake request transformation completes. This function MUST be invoked or the application will soft-\/lock.

{\ttfamily request} and {\ttfamily complete\+\_\+ctx} must be the same pointers provided to the {\ttfamily aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+fn}. {\ttfamily error\+\_\+code} should should be AWS\+\_\+\+ERROR\+\_\+\+SUCCESS if transformation was successful, otherwise pass a different AWS\+\_\+\+ERROR\+\_\+X value. \mbox{\Hypertarget{client_8h_a1c976c194b00ab431b1d688483cf985b}\label{client_8h_a1c976c194b00ab431b1d688483cf985b}} 
\index{client.h@{client.h}!aws\_mqtt\_transform\_websocket\_handshake\_fn@{aws\_mqtt\_transform\_websocket\_handshake\_fn}}
\index{aws\_mqtt\_transform\_websocket\_handshake\_fn@{aws\_mqtt\_transform\_websocket\_handshake\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_transform\_websocket\_handshake\_fn}{aws\_mqtt\_transform\_websocket\_handshake\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+fn(struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}} $\ast$request, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}}, \mbox{\hyperlink{client_8h_a8843612d75070b8c707c3b1519691715}{aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+complete\+\_\+fn}} $\ast$complete\+\_\+fn, void $\ast$complete\+\_\+ctx)}

Function that may transform the websocket handshake request. Called each time a websocket connection is attempted.

The default request uses path \char`\"{}/mqtt\char`\"{}. All required headers are present, plus the optional header \char`\"{}\+Sec-\/\+Web\+Socket-\/\+Protocol\+: mqtt\char`\"{}.

The user MUST invoke the {\ttfamily complete\+\_\+fn} when transformation is complete or the application will soft-\/lock. When invoking the {\ttfamily complete\+\_\+fn}, pass along the {\ttfamily request} and {\ttfamily complete\+\_\+ctx} provided here and an error code. The error code should be AWS\+\_\+\+ERROR\+\_\+\+SUCCESS if transformation was successful, otherwise pass a different AWS\+\_\+\+ERROR\+\_\+X value. \mbox{\Hypertarget{client_8h_a7bcec246282fbf6ad17a94b6b376539a}\label{client_8h_a7bcec246282fbf6ad17a94b6b376539a}} 
\index{client.h@{client.h}!aws\_mqtt\_validate\_websocket\_handshake\_fn@{aws\_mqtt\_validate\_websocket\_handshake\_fn}}
\index{aws\_mqtt\_validate\_websocket\_handshake\_fn@{aws\_mqtt\_validate\_websocket\_handshake\_fn}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_validate\_websocket\_handshake\_fn}{aws\_mqtt\_validate\_websocket\_handshake\_fn}}
{\footnotesize\ttfamily typedef int aws\+\_\+mqtt\+\_\+validate\+\_\+websocket\+\_\+handshake\+\_\+fn(struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$connection, const struct \mbox{\hyperlink{structaws__http__header}{aws\+\_\+http\+\_\+header}} $\ast$header\+\_\+array, size\+\_\+t num\+\_\+headers, void $\ast$userdata)}

Function that may accept or reject a websocket handshake response. Called each time a valid websocket connection is established.

All required headers have been checked already (ex\+: \char`\"{}\+Sec-\/\+Websocket-\/\+Accept\char`\"{}), but optional headers have not (Ex\+: \char`\"{}\+Sec-\/\+Websocket-\/\+Protocol\char`\"{}).

Return AWS\+\_\+\+OP\+\_\+\+SUCCESS to accept the connection or AWS\+\_\+\+OP\+\_\+\+ERR to stop the connection attempt. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{client_8h_a793ccdb64978f8a2365c8ef7fbf0fd92}\label{client_8h_a793ccdb64978f8a2365c8ef7fbf0fd92}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_acquire@{aws\_mqtt\_client\_acquire}}
\index{aws\_mqtt\_client\_acquire@{aws\_mqtt\_client\_acquire}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_acquire()}{aws\_mqtt\_client\_acquire()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}}$\ast$ aws\+\_\+mqtt\+\_\+client\+\_\+acquire (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} $\ast$}]{client }\end{DoxyParamCaption})}

Increments the ref count to an mqtt client, allowing the caller to take a reference to it


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em client} & The client to increment the ref count on\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the mqtt client 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a374c36bd21c0fc24f894d21d0a5edaee}\label{client_8h_a374c36bd21c0fc24f894d21d0a5edaee}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_acquire@{aws\_mqtt\_client\_connection\_acquire}}
\index{aws\_mqtt\_client\_connection\_acquire@{aws\_mqtt\_client\_connection\_acquire}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_acquire()}{aws\_mqtt\_client\_connection\_acquire()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}}$\ast$ aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+acquire (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection }\end{DoxyParamCaption})}

Increments the ref count to an mqtt client connection, allowing the caller to take a reference to it


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the mqtt connection 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a9dcb8d15bf5b4efeeea0cb392ed76010}\label{client_8h_a9dcb8d15bf5b4efeeea0cb392ed76010}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_connect@{aws\_mqtt\_client\_connection\_connect}}
\index{aws\_mqtt\_client\_connection\_connect@{aws\_mqtt\_client\_connection\_connect}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_connect()}{aws\_mqtt\_client\_connection\_connect()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+connect (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{const struct \mbox{\hyperlink{structaws__mqtt__connection__options}{aws\+\_\+mqtt\+\_\+connection\+\_\+options}} $\ast$}]{connection\+\_\+options }\end{DoxyParamCaption})}

Opens the actual connection defined by aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+new. Once the connection is opened, on\+\_\+connack will be called. Only called when connection is disconnected.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
AWS\+\_\+\+OP\+\_\+\+SUCCESS if the connection has been successfully initiated, otherwise AWS\+\_\+\+OP\+\_\+\+ERR and \mbox{\hyperlink{aws-c-common_2include_2aws_2common_2error_8h_a1322935281a00b323a6307e42738781e}{aws\+\_\+last\+\_\+error()}} will be set. 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a818c8e4f3e72777e09e0ef8188c6f8c0}\label{client_8h_a818c8e4f3e72777e09e0ef8188c6f8c0}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_disconnect@{aws\_mqtt\_client\_connection\_disconnect}}
\index{aws\_mqtt\_client\_connection\_disconnect@{aws\_mqtt\_client\_connection\_disconnect}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_disconnect()}{aws\_mqtt\_client\_connection\_disconnect()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+disconnect (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{\mbox{\hyperlink{client_8h_a2d0ff0373f9059b34af07aaf87147e04}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+disconnect\+\_\+fn}} $\ast$}]{on\+\_\+disconnect,  }\item[{void $\ast$}]{userdata }\end{DoxyParamCaption})}

Closes the connection asynchronously, calls the on\+\_\+disconnect callback. All uncompleted requests (publish/subscribe/unsubscribe) will be cancelled, regardless to the status of clean\+\_\+session. DISCONNECT packet will be sent, which deletes the will message from server.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection to close\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
AWS\+\_\+\+OP\+\_\+\+SUCCESS if the connection is open and is being shutdown, otherwise AWS\+\_\+\+OP\+\_\+\+ERR and \mbox{\hyperlink{aws-c-common_2include_2aws_2common_2error_8h_a1322935281a00b323a6307e42738781e}{aws\+\_\+last\+\_\+error()}} is set. 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a74d960a25b25e4a270984406990700b0}\label{client_8h_a74d960a25b25e4a270984406990700b0}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_new@{aws\_mqtt\_client\_connection\_new}}
\index{aws\_mqtt\_client\_connection\_new@{aws\_mqtt\_client\_connection\_new}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_new()}{aws\_mqtt\_client\_connection\_new()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}}$\ast$ aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} $\ast$}]{client }\end{DoxyParamCaption})}

Spawns a new connection object.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em client} & The client to spawn the connection from\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a new mqtt connection on success, NULL otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_accba3c63a72807cabf69fcf11a831954}\label{client_8h_accba3c63a72807cabf69fcf11a831954}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_publish@{aws\_mqtt\_client\_connection\_publish}}
\index{aws\_mqtt\_client\_connection\_publish@{aws\_mqtt\_client\_connection\_publish}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_publish()}{aws\_mqtt\_client\_connection\_publish()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+publish (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic,  }\item[{enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}}}]{qos,  }\item[{\mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{retain,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{payload,  }\item[{\mbox{\hyperlink{client_8h_ab798c331e8c9a78dcb6fb7f300d8b59d}{aws\+\_\+mqtt\+\_\+op\+\_\+complete\+\_\+fn}} $\ast$}]{on\+\_\+complete,  }\item[{void $\ast$}]{userdata }\end{DoxyParamCaption})}

Send a PUBLISH packet over connection.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection to publish on \\
\hline
\mbox{\texttt{ in}}  & {\em topic} & The topic to publish on \\
\hline
\mbox{\texttt{ in}}  & {\em qos} & The requested QoS of the packet \\
\hline
\mbox{\texttt{ in}}  & {\em retain} & True to have the server save the packet, and send to all new subscriptions matching topic \\
\hline
\mbox{\texttt{ in}}  & {\em payload} & The data to send as the payload of the publish \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+complete} & For QoS 0, called as soon as the packet is sent For QoS 1, called when PUBACK is received For QoS 2, called when PUBCOMP is received\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The packet id of the publish packet if successfully sent, otherwise 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a2f7e17b08c7b3c700c8ddd8fafd33455}\label{client_8h_a2f7e17b08c7b3c700c8ddd8fafd33455}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_reconnect@{aws\_mqtt\_client\_connection\_reconnect}}
\index{aws\_mqtt\_client\_connection\_reconnect@{aws\_mqtt\_client\_connection\_reconnect}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_reconnect()}{aws\_mqtt\_client\_connection\_reconnect()}}
{\footnotesize\ttfamily int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+reconnect (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{\mbox{\hyperlink{client_8h_a4cdd60b71e0103c78979e02175c05d05}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+complete\+\_\+fn}} $\ast$}]{on\+\_\+connection\+\_\+complete,  }\item[{void $\ast$}]{userdata }\end{DoxyParamCaption})}

DEPRECATED Opens the actual connection defined by aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+new. Once the connection is opened, on\+\_\+connack will be called.

Must be called on a connection that has previously been open, as the parameters passed during the last connection will be reused.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+connection\+\_\+complete} & The callback to fire when the connection attempt completes \\
\hline
\mbox{\texttt{ in}}  & {\em userdata} & Passed to the userdata param of on\+\_\+connection\+\_\+complete\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
AWS\+\_\+\+OP\+\_\+\+SUCCESS if the connection has been successfully initiated, otherwise AWS\+\_\+\+OP\+\_\+\+ERR and \mbox{\hyperlink{aws-c-common_2include_2aws_2common_2error_8h_a1322935281a00b323a6307e42738781e}{aws\+\_\+last\+\_\+error()}} will be set. 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_adef815e8b43f889c3cb4c9fff871a6c9}\label{client_8h_adef815e8b43f889c3cb4c9fff871a6c9}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_release@{aws\_mqtt\_client\_connection\_release}}
\index{aws\_mqtt\_client\_connection\_release@{aws\_mqtt\_client\_connection\_release}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_release()}{aws\_mqtt\_client\_connection\_release()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} void aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection }\end{DoxyParamCaption})}

Decrements the ref count on an mqtt connection. If the ref count drops to zero, the connection is cleaned up. Note\+: cannot call this with lock held, since it will start the destroy process and cause a dead lock.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_a428c682efc6ab302bc15e345a715af06}\label{client_8h_a428c682efc6ab302bc15e345a715af06}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_set\_connection\_interruption\_handlers@{aws\_mqtt\_client\_connection\_set\_connection\_interruption\_handlers}}
\index{aws\_mqtt\_client\_connection\_set\_connection\_interruption\_handlers@{aws\_mqtt\_client\_connection\_set\_connection\_interruption\_handlers}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_set\_connection\_interruption\_handlers()}{aws\_mqtt\_client\_connection\_set\_connection\_interruption\_handlers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+connection\+\_\+interruption\+\_\+handlers (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{\mbox{\hyperlink{client_8h_aaea81ec53050fb24e6e53db4f3c78f3a}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+interrupted\+\_\+fn}} $\ast$}]{on\+\_\+interrupted,  }\item[{void $\ast$}]{on\+\_\+interrupted\+\_\+ud,  }\item[{\mbox{\hyperlink{client_8h_a453dfd16edcee3bf1c4a2f3766c8adbc}{aws\+\_\+mqtt\+\_\+client\+\_\+on\+\_\+connection\+\_\+resumed\+\_\+fn}} $\ast$}]{on\+\_\+resumed,  }\item[{void $\ast$}]{on\+\_\+resumed\+\_\+ud }\end{DoxyParamCaption})}

Sets the callbacks to call when a connection is interrupted and resumed.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+interrupted} & The function to call when a connection is lost \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+interrupted\+\_\+ud} & Userdata for on\+\_\+interrupted \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+resumed} & The function to call when a connection is resumed (if clean\+\_\+session is true, calling aws\+\_\+mqtt\+\_\+resubscribe\+\_\+existing\+\_\+topics is suggested) \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+resumed\+\_\+ud} & Userdata for on\+\_\+resumed \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_a9334da6046ba4c7c54bc9d102f1159da}\label{client_8h_a9334da6046ba4c7c54bc9d102f1159da}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_set\_login@{aws\_mqtt\_client\_connection\_set\_login}}
\index{aws\_mqtt\_client\_connection\_set\_login@{aws\_mqtt\_client\_connection\_set\_login}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_set\_login()}{aws\_mqtt\_client\_connection\_set\_login()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+login (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{username,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{password }\end{DoxyParamCaption})}

Sets the username and/or password to send with the CONNECT packet.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\mbox{\texttt{ in}}  & {\em username} & The username to connect with \\
\hline
\mbox{\texttt{ in}}  & {\em password} & \mbox{[}optional\mbox{]} The password to connect with \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_a5f1761aff9786a69eac3531de422a1c0}\label{client_8h_a5f1761aff9786a69eac3531de422a1c0}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_set\_on\_any\_publish\_handler@{aws\_mqtt\_client\_connection\_set\_on\_any\_publish\_handler}}
\index{aws\_mqtt\_client\_connection\_set\_on\_any\_publish\_handler@{aws\_mqtt\_client\_connection\_set\_on\_any\_publish\_handler}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_set\_on\_any\_publish\_handler()}{aws\_mqtt\_client\_connection\_set\_on\_any\_publish\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+on\+\_\+any\+\_\+publish\+\_\+handler (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{\mbox{\hyperlink{client_8h_a979def98388f4a6c7eb7de0c3c868555}{aws\+\_\+mqtt\+\_\+client\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$}]{on\+\_\+any\+\_\+publish,  }\item[{void $\ast$}]{on\+\_\+any\+\_\+publish\+\_\+ud }\end{DoxyParamCaption})}

Sets the callback to call whenever ANY publish packet is received. Only safe to set when connection is not connected.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+any\+\_\+publish} & The function to call when a publish is received (pass NULL to unset) \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+any\+\_\+publish\+\_\+ud} & Userdata for on\+\_\+any\+\_\+publish \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_a1284ba84446c1160118dc004fba598ca}\label{client_8h_a1284ba84446c1160118dc004fba598ca}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_set\_reconnect\_timeout@{aws\_mqtt\_client\_connection\_set\_reconnect\_timeout}}
\index{aws\_mqtt\_client\_connection\_set\_reconnect\_timeout@{aws\_mqtt\_client\_connection\_set\_reconnect\_timeout}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_set\_reconnect\_timeout()}{aws\_mqtt\_client\_connection\_set\_reconnect\_timeout()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+reconnect\+\_\+timeout (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{uint64\+\_\+t}]{min\+\_\+timeout,  }\item[{uint64\+\_\+t}]{max\+\_\+timeout }\end{DoxyParamCaption})}

Sets the minimum and maximum reconnect timeouts.

The time between reconnect attempts will start at min and multiply by 2 until max is reached.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\mbox{\texttt{ in}}  & {\em min\+\_\+timeout} & The timeout to start with \\
\hline
\mbox{\texttt{ in}}  & {\em max\+\_\+timeout} & The highest allowable wait time between reconnect attempts \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_ad1de781709b28f40ec9a205acab089e1}\label{client_8h_ad1de781709b28f40ec9a205acab089e1}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_set\_websocket\_proxy\_options@{aws\_mqtt\_client\_connection\_set\_websocket\_proxy\_options}}
\index{aws\_mqtt\_client\_connection\_set\_websocket\_proxy\_options@{aws\_mqtt\_client\_connection\_set\_websocket\_proxy\_options}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_set\_websocket\_proxy\_options()}{aws\_mqtt\_client\_connection\_set\_websocket\_proxy\_options()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+websocket\+\_\+proxy\+\_\+options (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{struct \mbox{\hyperlink{structaws__http__proxy__options}{aws\+\_\+http\+\_\+proxy\+\_\+options}} $\ast$}]{proxy\+\_\+options }\end{DoxyParamCaption})}

Set proxy options for the websocket connection. \mbox{\Hypertarget{client_8h_a62b3d8c85a2613fa1051b1c80b884cad}\label{client_8h_a62b3d8c85a2613fa1051b1c80b884cad}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_set\_will@{aws\_mqtt\_client\_connection\_set\_will}}
\index{aws\_mqtt\_client\_connection\_set\_will@{aws\_mqtt\_client\_connection\_set\_will}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_set\_will()}{aws\_mqtt\_client\_connection\_set\_will()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+set\+\_\+will (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic,  }\item[{enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}}}]{qos,  }\item[{\mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{retain,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{payload }\end{DoxyParamCaption})}

Sets the will message to send with the CONNECT packet.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object \\
\hline
\mbox{\texttt{ in}}  & {\em topic} & The topic to publish the will on \\
\hline
\mbox{\texttt{ in}}  & {\em qos} & The QoS to publish the will with \\
\hline
\mbox{\texttt{ in}}  & {\em retain} & The retain flag to publish the will with \\
\hline
\mbox{\texttt{ in}}  & {\em payload} & The data if the will message \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_a2be79524cd9e58a3d132a89fb0d7226c}\label{client_8h_a2be79524cd9e58a3d132a89fb0d7226c}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_subscribe@{aws\_mqtt\_client\_connection\_subscribe}}
\index{aws\_mqtt\_client\_connection\_subscribe@{aws\_mqtt\_client\_connection\_subscribe}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_subscribe()}{aws\_mqtt\_client\_connection\_subscribe()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+subscribe (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic\+\_\+filter,  }\item[{enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}}}]{qos,  }\item[{\mbox{\hyperlink{client_8h_a979def98388f4a6c7eb7de0c3c868555}{aws\+\_\+mqtt\+\_\+client\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$}]{on\+\_\+publish,  }\item[{void $\ast$}]{on\+\_\+publish\+\_\+ud,  }\item[{\mbox{\hyperlink{mqtt_8h_a4c072048c5bd312923466806b23cea73}{aws\+\_\+mqtt\+\_\+userdata\+\_\+cleanup\+\_\+fn}} $\ast$}]{on\+\_\+ud\+\_\+cleanup,  }\item[{\mbox{\hyperlink{client_8h_a57a5b13d3ef0e02da483985f1a24eb10}{aws\+\_\+mqtt\+\_\+suback\+\_\+fn}} $\ast$}]{on\+\_\+suback,  }\item[{void $\ast$}]{on\+\_\+suback\+\_\+ud }\end{DoxyParamCaption})}

Subscribe to a single topic filter. on\+\_\+publish will be called when a PUBLISH matching topic\+\_\+filter is received.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection to subscribe on \\
\hline
\mbox{\texttt{ in}}  & {\em topic\+\_\+filter} & The topic filter to subscribe on. This resource must persist until on\+\_\+suback. \\
\hline
\mbox{\texttt{ in}}  & {\em qos} & The maximum QoS of messages to receive \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+publish} & Called when a PUBLISH packet matching topic\+\_\+filter is received \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+publish\+\_\+ud} & Passed to on\+\_\+publish \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+ud\+\_\+cleanup} & Called when a subscription is removed, on\+\_\+publish\+\_\+ud is passed. \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+suback} & Called when a SUBACK has been received from the server and the subscription is complete \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+suback\+\_\+ud} & Passed to on\+\_\+suback\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The packet id of the subscribe packet if successfully sent, otherwise 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a4a9dd69b79ae4c96c186d34e1e60e33e}\label{client_8h_a4a9dd69b79ae4c96c186d34e1e60e33e}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_subscribe\_local@{aws\_mqtt\_client\_connection\_subscribe\_local}}
\index{aws\_mqtt\_client\_connection\_subscribe\_local@{aws\_mqtt\_client\_connection\_subscribe\_local}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_subscribe\_local()}{aws\_mqtt\_client\_connection\_subscribe\_local()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+subscribe\+\_\+local (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic\+\_\+filter,  }\item[{\mbox{\hyperlink{client_8h_a979def98388f4a6c7eb7de0c3c868555}{aws\+\_\+mqtt\+\_\+client\+\_\+publish\+\_\+received\+\_\+fn}} $\ast$}]{on\+\_\+publish,  }\item[{void $\ast$}]{on\+\_\+publish\+\_\+ud,  }\item[{\mbox{\hyperlink{mqtt_8h_a4c072048c5bd312923466806b23cea73}{aws\+\_\+mqtt\+\_\+userdata\+\_\+cleanup\+\_\+fn}} $\ast$}]{on\+\_\+ud\+\_\+cleanup,  }\item[{\mbox{\hyperlink{client_8h_a57a5b13d3ef0e02da483985f1a24eb10}{aws\+\_\+mqtt\+\_\+suback\+\_\+fn}} $\ast$}]{on\+\_\+suback,  }\item[{void $\ast$}]{on\+\_\+suback\+\_\+ud }\end{DoxyParamCaption})}

Subscribe to a single topic filter WITHOUT sending a SUBSCRIBE packet. This is useful if you expect the broker to send PUBLISHES without first subscribing. on\+\_\+publish will be called when a PUBLISH matching topic\+\_\+filter is received.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection to subscribe on \\
\hline
\mbox{\texttt{ in}}  & {\em topic\+\_\+filter} & The topic filter to subscribe on. This resource must persist until on\+\_\+suback. \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+publish} & Called when a PUBLISH packet matching topic\+\_\+filter is received \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+publish\+\_\+ud} & Passed to on\+\_\+publish \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+ud\+\_\+cleanup} & Called when a subscription is removed, on\+\_\+publish\+\_\+ud is passed. \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+suback} & Called when a SUBACK has been received from the server and the subscription is complete \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+suback\+\_\+ud} & Passed to on\+\_\+suback\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The \char`\"{}packet id\char`\"{} of the operation if successfully initiated, otherwise 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a143c28a682679fba3b2719e85cd23f7e}\label{client_8h_a143c28a682679fba3b2719e85cd23f7e}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_subscribe\_multiple@{aws\_mqtt\_client\_connection\_subscribe\_multiple}}
\index{aws\_mqtt\_client\_connection\_subscribe\_multiple@{aws\_mqtt\_client\_connection\_subscribe\_multiple}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_subscribe\_multiple()}{aws\_mqtt\_client\_connection\_subscribe\_multiple()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+subscribe\+\_\+multiple (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{const struct \mbox{\hyperlink{structaws__array__list}{aws\+\_\+array\+\_\+list}} $\ast$}]{topic\+\_\+filters,  }\item[{\mbox{\hyperlink{client_8h_a11a3408e5ffe9d1c61fe6c15617b8728}{aws\+\_\+mqtt\+\_\+suback\+\_\+multi\+\_\+fn}} $\ast$}]{on\+\_\+suback,  }\item[{void $\ast$}]{on\+\_\+suback\+\_\+ud }\end{DoxyParamCaption})}

Subscribe to topic filters. on\+\_\+publish will be called when a PUBLISH matching each topic\+\_\+filter is received.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection to subscribe on \\
\hline
\mbox{\texttt{ in}}  & {\em topic\+\_\+filters} & An array\+\_\+list of \mbox{\hyperlink{structaws__mqtt__topic__subscription}{aws\+\_\+mqtt\+\_\+topic\+\_\+subscription}} (NOT pointers) describing the requests. \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+suback} & Called when a SUBACK has been received from the server and the subscription is complete Broker may fail one of the topics, check the qos in \mbox{\hyperlink{structaws__mqtt__topic__subscription}{aws\+\_\+mqtt\+\_\+topic\+\_\+subscription}} from the callback \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+suback\+\_\+ud} & Passed to on\+\_\+suback\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The packet id of the subscribe packet if successfully sent, otherwise 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a92292f9330f16c48a39fe2b09ae4381f}\label{client_8h_a92292f9330f16c48a39fe2b09ae4381f}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_unsubscribe@{aws\_mqtt\_client\_connection\_unsubscribe}}
\index{aws\_mqtt\_client\_connection\_unsubscribe@{aws\_mqtt\_client\_connection\_unsubscribe}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_unsubscribe()}{aws\_mqtt\_client\_connection\_unsubscribe()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+unsubscribe (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic\+\_\+filter,  }\item[{\mbox{\hyperlink{client_8h_ab798c331e8c9a78dcb6fb7f300d8b59d}{aws\+\_\+mqtt\+\_\+op\+\_\+complete\+\_\+fn}} $\ast$}]{on\+\_\+unsuback,  }\item[{void $\ast$}]{on\+\_\+unsuback\+\_\+ud }\end{DoxyParamCaption})}

Unsubscribe to a topic filter.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection to unsubscribe on \\
\hline
\mbox{\texttt{ in}}  & {\em topic\+\_\+filter} & The topic filter to unsubscribe on. This resource must persist until on\+\_\+unsuback. \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+unsuback} & Called when a UNSUBACK has been received from the server and the subscription is removed \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+unsuback\+\_\+ud} & Passed to on\+\_\+unsuback\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The packet id of the unsubscribe packet if successfully sent, otherwise 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_ae2170ac3441ca7b6fe2bdf028143e723}\label{client_8h_ae2170ac3441ca7b6fe2bdf028143e723}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_connection\_use\_websockets@{aws\_mqtt\_client\_connection\_use\_websockets}}
\index{aws\_mqtt\_client\_connection\_use\_websockets@{aws\_mqtt\_client\_connection\_use\_websockets}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_connection\_use\_websockets()}{aws\_mqtt\_client\_connection\_use\_websockets()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} int aws\+\_\+mqtt\+\_\+client\+\_\+connection\+\_\+use\+\_\+websockets (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{\mbox{\hyperlink{client_8h_a1c976c194b00ab431b1d688483cf985b}{aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+fn}} $\ast$}]{transformer,  }\item[{void $\ast$}]{transformer\+\_\+ud,  }\item[{\mbox{\hyperlink{client_8h_a7bcec246282fbf6ad17a94b6b376539a}{aws\+\_\+mqtt\+\_\+validate\+\_\+websocket\+\_\+handshake\+\_\+fn}} $\ast$}]{validator,  }\item[{void $\ast$}]{validator\+\_\+ud }\end{DoxyParamCaption})}

Use MQTT over websockets when connecting. Requires the MQTT\+\_\+\+WITH\+\_\+\+WEBSOCKETS build option.

In this scenario, an HTTP connection is established, which is then upgraded to a websocket connection, which is then used to send MQTT data.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection object. \\
\hline
\mbox{\texttt{ in}}  & {\em transformer} & \mbox{[}optional\mbox{]} Function that may transform the websocket handshake request. See {\ttfamily aws\+\_\+mqtt\+\_\+transform\+\_\+websocket\+\_\+handshake\+\_\+fn} for more info. \\
\hline
\mbox{\texttt{ in}}  & {\em transformer\+\_\+ud} & \mbox{[}optional\mbox{]} Userdata for request\+\_\+transformer. \\
\hline
\mbox{\texttt{ in}}  & {\em validator} & \mbox{[}optional\mbox{]} Function that may reject the websocket handshake response. \\
\hline
\mbox{\texttt{ in}}  & {\em validator\+\_\+ud} & \mbox{[}optional\mbox{]} Userdata for response\+\_\+validator. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_ac52100136122b14fe380b78bd79add4c}\label{client_8h_ac52100136122b14fe380b78bd79add4c}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_new@{aws\_mqtt\_client\_new}}
\index{aws\_mqtt\_client\_new@{aws\_mqtt\_client\_new}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_new()}{aws\_mqtt\_client\_new()}}
{\footnotesize\ttfamily \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}}$\ast$ aws\+\_\+mqtt\+\_\+client\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$}]{bootstrap }\end{DoxyParamCaption})}

Creates an instance of \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em allocator} & The allocator the client will use for all future allocations \\
\hline
\mbox{\texttt{ in}}  & {\em bootstrap} & The client bootstrap to use to initiate new socket connections\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a new instance of an \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} if successful, NULL otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{client_8h_a30f7c13f3278de2016eeac3cf7c84a47}\label{client_8h_a30f7c13f3278de2016eeac3cf7c84a47}} 
\index{client.h@{client.h}!aws\_mqtt\_client\_release@{aws\_mqtt\_client\_release}}
\index{aws\_mqtt\_client\_release@{aws\_mqtt\_client\_release}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_client\_release()}{aws\_mqtt\_client\_release()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} void aws\+\_\+mqtt\+\_\+client\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client}{aws\+\_\+mqtt\+\_\+client}} $\ast$}]{client }\end{DoxyParamCaption})}

Decrements the ref count on an mqtt client. If the ref count drops to zero, the client is cleaned up.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em client} & The client to release a ref count on \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{client_8h_a00b857038baf881c5cb1c1d426e628f0}\label{client_8h_a00b857038baf881c5cb1c1d426e628f0}} 
\index{client.h@{client.h}!aws\_mqtt\_resubscribe\_existing\_topics@{aws\_mqtt\_resubscribe\_existing\_topics}}
\index{aws\_mqtt\_resubscribe\_existing\_topics@{aws\_mqtt\_resubscribe\_existing\_topics}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{aws\_mqtt\_resubscribe\_existing\_topics()}{aws\_mqtt\_resubscribe\_existing\_topics()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-mqtt_2include_2aws_2mqtt_2_exports_8h_a9f8288d6c805910baca30043ee3068bf}{AWS\+\_\+\+MQTT\+\_\+\+API}} uint16\+\_\+t aws\+\_\+mqtt\+\_\+resubscribe\+\_\+existing\+\_\+topics (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__mqtt__client__connection}{aws\+\_\+mqtt\+\_\+client\+\_\+connection}} $\ast$}]{connection,  }\item[{\mbox{\hyperlink{client_8h_a11a3408e5ffe9d1c61fe6c15617b8728}{aws\+\_\+mqtt\+\_\+suback\+\_\+multi\+\_\+fn}} $\ast$}]{on\+\_\+suback,  }\item[{void $\ast$}]{on\+\_\+suback\+\_\+ud }\end{DoxyParamCaption})}

Resubscribe to all topics currently subscribed to. This is to help when resuming a connection with a clean session.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em connection} & The connection to subscribe on \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+suback} & Called when a SUBACK has been received from the server and the subscription is complete \\
\hline
\mbox{\texttt{ in}}  & {\em on\+\_\+suback\+\_\+ud} & Passed to on\+\_\+suback\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The packet id of the subscribe packet if successfully sent, otherwise 0 (and \mbox{\hyperlink{aws-c-common_2include_2aws_2common_2error_8h_a1322935281a00b323a6307e42738781e}{aws\+\_\+last\+\_\+error()}} will be set). 
\end{DoxyReturn}
