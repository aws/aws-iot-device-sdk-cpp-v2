\hypertarget{include_2aws_2crt_2io_2_stream_8h_source}{}\doxysection{Stream.\+h}
\label{include_2aws_2crt_2io_2_stream_8h_source}\index{crt/aws-\/crt-\/cpp/include/aws/crt/io/Stream.h@{crt/aws-\/crt-\/cpp/include/aws/crt/io/Stream.h}}
\mbox{\hyperlink{include_2aws_2crt_2io_2_stream_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{crt_2aws-crt-cpp_2include_2aws_2crt_2_exports_8h}{aws/crt/Exports.h}}>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{include_2aws_2crt_2_types_8h}{aws/crt/Types.h}}>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h}{aws/io/stream.h}}>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_aws}{Aws}}}
\DoxyCodeLine{12 \{}
\DoxyCodeLine{13     \textcolor{keyword}{namespace }Crt}
\DoxyCodeLine{14     \{}
\DoxyCodeLine{15         \textcolor{keyword}{namespace }Io}
\DoxyCodeLine{16         \{}
\DoxyCodeLine{17             \textcolor{keyword}{using} \mbox{\hyperlink{structaws__stream__status}{StreamStatus}} = \mbox{\hyperlink{structaws__stream__status}{aws\_stream\_status}};}
\DoxyCodeLine{18             \textcolor{keyword}{using} \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_af399239ad685d64f2f5b88a0906a232c}{OffsetType}} = \mbox{\hyperlink{stdint_8h_a7c7388565c261c41172ec27cfbbcd9dc}{aws\_off\_t}};}
\DoxyCodeLine{19 }
\DoxyCodeLine{20             \textcolor{keyword}{enum class} \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0}{StreamSeekBasis}}}
\DoxyCodeLine{21             \{}
\DoxyCodeLine{22                 \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0a1a06729125544cab7cee73195fc044f0}{Begin}} = \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20da4bb6f974cda6aeca806aca83789b08e3}{AWS\_SSB\_BEGIN}},}
\DoxyCodeLine{23                 \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0a87557f11575c0ad78e4e28abedc13b6e}{End}} = \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20da8b5d2437615290619a8d8d8f62479cba}{AWS\_SSB\_END}},}
\DoxyCodeLine{24             \};}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{comment}{            /***}}
\DoxyCodeLine{27 \textcolor{comment}{             * Interface for building an Object oriented stream that will be honored by the CRT's low-\/level}}
\DoxyCodeLine{28 \textcolor{comment}{             * aws\_input\_stream interface. To use, create a subclass of InputStream and define the abstract}}
\DoxyCodeLine{29 \textcolor{comment}{             * functions.}}
\DoxyCodeLine{30 \textcolor{comment}{             */}}
\DoxyCodeLine{31             \textcolor{keyword}{class }\mbox{\hyperlink{crt_2aws-crt-cpp_2include_2aws_2crt_2_exports_8h_a0a3f6c46aee6b588ce99a142cdb22d1d}{AWS\_CRT\_CPP\_API}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}}}
\DoxyCodeLine{32             \{}
\DoxyCodeLine{33               \textcolor{keyword}{public}:}
\DoxyCodeLine{34                 \textcolor{keyword}{virtual} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{\string~InputStream}}();}
\DoxyCodeLine{35 }
\DoxyCodeLine{36                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a4c90e7c1e55cc9c68f0e4ed5f098c393}{InputStream}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{37                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_ad75dadb36312abc4c9126b1e5e338897}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{38                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a4c6094ba9a7457d1406b23c625c817eb}{InputStream}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{39                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_ac001ce04acbaa13df20a3790e7bb17a0}{operator=}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}} \&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{40 }
\DoxyCodeLine{41                 \textcolor{keyword}{explicit} \textcolor{keyword}{operator} \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}() const noexcept \{ \textcolor{keywordflow}{return} IsValid(); \}}
\DoxyCodeLine{42                 \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a103064353d7d3d35ecaca566e48febe3}{IsValid}}() const noexcept = 0;}
\DoxyCodeLine{43 }
\DoxyCodeLine{44                 \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *GetUnderlyingStream() noexcept \{ \textcolor{keywordflow}{return} \&m\_underlying\_stream; \}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a63148e32fbcb9b8c607e3b0b038f2e88}{Read}}(\mbox{\hyperlink{structaws__byte__buf}{ByteBuf}} \&\mbox{\hyperlink{namespacecreate-projects_a30fed16487e895222a4b2a8e95fe2e2f}{dest}}) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_ac14e5ef5707c94ffea0244fb36063a2e}{aws\_input\_stream\_read}}(\&m\_underlying\_stream, \&\mbox{\hyperlink{namespacecreate-projects_a30fed16487e895222a4b2a8e95fe2e2f}{dest}}) == 0; \}}
\DoxyCodeLine{47                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a6c04d790f1741ea0a49285e7aa4928fc}{Seek}}(\mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_af399239ad685d64f2f5b88a0906a232c}{OffsetType}} \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0}{StreamSeekBasis}} seekBasis)}
\DoxyCodeLine{48                 \{}
\DoxyCodeLine{49                     \textcolor{keywordflow}{return} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_acae28b35493e757ad6edbc9e7b140e6c}{aws\_input\_stream\_seek}}(\&m\_underlying\_stream, \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, (\mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20d}{aws\_stream\_seek\_basis}})seekBasis) == 0;}
\DoxyCodeLine{50                 \}}
\DoxyCodeLine{51                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a710e72d2234c334663801a98106c92ac}{GetStatus}}(\mbox{\hyperlink{structaws__stream__status}{StreamStatus}} \&status)}
\DoxyCodeLine{52                 \{}
\DoxyCodeLine{53                     \textcolor{keywordflow}{return} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_adb07147f0cea88765aa760dd9457250e}{aws\_input\_stream\_get\_status}}(\&m\_underlying\_stream, \&status) == 0;}
\DoxyCodeLine{54                 \}}
\DoxyCodeLine{55                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_aa50980fbe2d533a751a1f37a96266730}{GetLength}}(int64\_t \&\mbox{\hyperlink{iocp__event__loop_8c_ae809d5359ac030c60a30a8f0b2294b82}{length}})}
\DoxyCodeLine{56                 \{}
\DoxyCodeLine{57                     \textcolor{keywordflow}{return} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a127332e564d2d9868e8e9197d0833c23}{aws\_input\_stream\_get\_length}}(\&m\_underlying\_stream, \&\mbox{\hyperlink{iocp__event__loop_8c_ae809d5359ac030c60a30a8f0b2294b82}{length}}) == 0;}
\DoxyCodeLine{58                 \}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60               \textcolor{keyword}{protected}:}
\DoxyCodeLine{61                 \mbox{\hyperlink{structaws__allocator}{Allocator}} *\mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a336d789eab234c8a4f5226ce535c7c7d}{m\_allocator}};}
\DoxyCodeLine{62                 \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a2d2f659060cab549b200711948b7c158}{m\_underlying\_stream}};}
\DoxyCodeLine{63 }
\DoxyCodeLine{64                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}}(\mbox{\hyperlink{structaws__allocator}{Aws::Crt::Allocator}} *\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}} = \mbox{\hyperlink{namespace_aws_1_1_crt_a7178ef65f261a8db52a624458331bbb2}{g\_allocator}});}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{comment}{                /***}}
\DoxyCodeLine{67 \textcolor{comment}{                 * Read up-\/to buffer::capacity -\/ buffer::len into buffer::buffer}}
\DoxyCodeLine{68 \textcolor{comment}{                 * Increment buffer::len by the amount you read in.}}
\DoxyCodeLine{69 \textcolor{comment}{                 *}}
\DoxyCodeLine{70 \textcolor{comment}{                 * @return true on success, false otherwise. Return false, when there is nothing left to read.}}
\DoxyCodeLine{71 \textcolor{comment}{                 * You SHOULD raise an error via aws\_raise\_error()}}
\DoxyCodeLine{72 \textcolor{comment}{                 * if an actual failure condition occurs.}}
\DoxyCodeLine{73 \textcolor{comment}{                 */}}
\DoxyCodeLine{74                 \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a2881d8accf87c8f772b820baebb84775}{ReadImpl}}(\mbox{\hyperlink{structaws__byte__buf}{ByteBuf}} \&\mbox{\hyperlink{namespace_aws_ab680d00d3625d576b9160710e643da63}{buffer}}) \textcolor{keyword}{noexcept} = 0;}
\DoxyCodeLine{75 }
\DoxyCodeLine{79                 \textcolor{keyword}{virtual} \mbox{\hyperlink{structaws__stream__status}{StreamStatus}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream_a4318d7da0fa035074515decdc0525f22}{GetStatusImpl}}() const noexcept = 0;}
\DoxyCodeLine{80 }
\DoxyCodeLine{85                 virtual int64\_t GetLengthImpl() const noexcept = 0;}
\DoxyCodeLine{86 }
\DoxyCodeLine{96                 virtual \textcolor{keywordtype}{bool} SeekImpl(\mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_af399239ad685d64f2f5b88a0906a232c}{OffsetType}} \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0}{StreamSeekBasis}} seekBasis) noexcept = 0;}
\DoxyCodeLine{97 }
\DoxyCodeLine{98               private:}
\DoxyCodeLine{99                 static \textcolor{keywordtype}{int} s\_Seek(\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, \mbox{\hyperlink{stdint_8h_a7c7388565c261c41172ec27cfbbcd9dc}{aws\_off\_t}} \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, enum \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20d}{aws\_stream\_seek\_basis}} basis);}
\DoxyCodeLine{100                 static \textcolor{keywordtype}{int} s\_Read(\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, \mbox{\hyperlink{structaws__byte__buf}{aws\_byte\_buf}} *\mbox{\hyperlink{namespacecreate-projects_a30fed16487e895222a4b2a8e95fe2e2f}{dest}});}
\DoxyCodeLine{101                 static \textcolor{keywordtype}{int} s\_GetStatus(\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, \mbox{\hyperlink{structaws__stream__status}{aws\_stream\_status}} *status);}
\DoxyCodeLine{102                 static \textcolor{keywordtype}{int} s\_GetLength(struct \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, int64\_t *out\_length);}
\DoxyCodeLine{103                 static \textcolor{keywordtype}{void} s\_Destroy(struct \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream);}
\DoxyCodeLine{104 }
\DoxyCodeLine{105                 static \mbox{\hyperlink{structaws__input__stream__vtable}{aws\_input\_stream\_vtable}} \mbox{\hyperlink{commoncrypto__md5_8c_acc329b2e466833e2d242bbc5dc0e5d92}{s\_vtable}};}
\DoxyCodeLine{106             \};}
\DoxyCodeLine{107 }
\DoxyCodeLine{108 \textcolor{comment}{            /***}}
\DoxyCodeLine{109 \textcolor{comment}{             * Implementation of Aws::Crt::Io::InputStream that wraps a std::input\_stream.}}
\DoxyCodeLine{110 \textcolor{comment}{             */}}
\DoxyCodeLine{111             class \mbox{\hyperlink{crt_2aws-crt-cpp_2include_2aws_2crt_2_exports_8h_a0a3f6c46aee6b588ce99a142cdb22d1d}{AWS\_CRT\_CPP\_API}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_std_i_o_stream_input_stream}{StdIOStreamInputStream}} : public \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_input_stream}{InputStream}}}
\DoxyCodeLine{112             \{}
\DoxyCodeLine{113               \textcolor{keyword}{public}:}
\DoxyCodeLine{114                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_std_i_o_stream_input_stream}{StdIOStreamInputStream}}(}
\DoxyCodeLine{115                     std::shared\_ptr<Aws::Crt::Io::IStream> stream,}
\DoxyCodeLine{116                     \mbox{\hyperlink{structaws__allocator}{Aws::Crt::Allocator}} *\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}} = \mbox{\hyperlink{namespace_aws_1_1_crt_a7178ef65f261a8db52a624458331bbb2}{g\_allocator}}) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{117 }
\DoxyCodeLine{118                 \textcolor{keywordtype}{bool} IsValid() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{119 }
\DoxyCodeLine{120               \textcolor{keyword}{protected}:}
\DoxyCodeLine{121                 \textcolor{keywordtype}{bool} ReadImpl(\mbox{\hyperlink{structaws__byte__buf}{ByteBuf}} \&\mbox{\hyperlink{namespace_aws_ab680d00d3625d576b9160710e643da63}{buffer}}) \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{122                 \mbox{\hyperlink{structaws__stream__status}{StreamStatus}} GetStatusImpl() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{123                 int64\_t GetLengthImpl() \textcolor{keyword}{const} \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{124                 \textcolor{keywordtype}{bool} SeekImpl(\mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_af399239ad685d64f2f5b88a0906a232c}{OffsetType}} offsetType, \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_io_adf764940aea50b061f1ac67366cf41d0}{StreamSeekBasis}} seekBasis) \textcolor{keyword}{noexcept} \textcolor{keyword}{override};}
\DoxyCodeLine{125 }
\DoxyCodeLine{126               \textcolor{keyword}{private}:}
\DoxyCodeLine{127                 std::shared\_ptr<Aws::Crt::Io::IStream> m\_stream;}
\DoxyCodeLine{128             \};}
\DoxyCodeLine{129         \} \textcolor{comment}{// namespace Io}}
\DoxyCodeLine{130     \}     \textcolor{comment}{// namespace Crt}}
\DoxyCodeLine{131 \} \textcolor{comment}{// namespace Aws}}

\end{DoxyCode}
