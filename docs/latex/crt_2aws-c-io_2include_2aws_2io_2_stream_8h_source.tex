\hypertarget{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_source}{}\doxysection{stream.\+h}
\label{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_source}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/include/aws/io/stream.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/include/aws/io/stream.h}}
\mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef AWS\_IO\_STREAM\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define AWS\_IO\_STREAM\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{io_8h}{aws/io/io.h}}>}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}};}
\DoxyCodeLine{12 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__byte__buf}{aws\_byte\_buf}};}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{comment}{/*}}
\DoxyCodeLine{15 \textcolor{comment}{ * For seek calls, where in the stream to seek from.}}
\DoxyCodeLine{16 \textcolor{comment}{ * CUR support can come later}}
\DoxyCodeLine{17 \textcolor{comment}{ * Intentionally mirror libc constants}}
\DoxyCodeLine{18 \textcolor{comment}{ */}}
\DoxyCodeLine{19 \textcolor{keyword}{enum} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20d}{aws\_stream\_seek\_basis}} \{ \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20da4bb6f974cda6aeca806aca83789b08e3}{AWS\_SSB\_BEGIN}} = 0, \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20da8b5d2437615290619a8d8d8f62479cba}{AWS\_SSB\_END}} = 2 \};}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__stream__status}{aws\_stream\_status}} \{}
\DoxyCodeLine{22     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structaws__stream__status_a0e61ef519c51feeda93bec06a7d93d47}{is\_end\_of\_stream}};}
\DoxyCodeLine{23     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structaws__stream__status_a35368f8f7aed455731bb44787e16fd95}{is\_valid}};}
\DoxyCodeLine{24 \};}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream__vtable}{aws\_input\_stream\_vtable}} \{}
\DoxyCodeLine{27     int (*\mbox{\hyperlink{structaws__input__stream__vtable_a8aeec8bf2c20396c60acf50577984e4b}{seek}})(\textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, \mbox{\hyperlink{stdint_8h_a7c7388565c261c41172ec27cfbbcd9dc}{aws\_off\_t}} \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}}, \textcolor{keyword}{enum} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20d}{aws\_stream\_seek\_basis}} basis);}
\DoxyCodeLine{38     int (*\mbox{\hyperlink{structaws__input__stream__vtable_ac72dd3e3ecbc5a922bd4f4743c2bb6f9}{read}})(\textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__byte__buf}{aws\_byte\_buf}} *\mbox{\hyperlink{namespacecreate-projects_a30fed16487e895222a4b2a8e95fe2e2f}{dest}});}
\DoxyCodeLine{39     int (*\mbox{\hyperlink{structaws__input__stream__vtable_a698b0cee7cddc3edec31926cb4484e10}{get\_status}})(\textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__stream__status}{aws\_stream\_status}} *status);}
\DoxyCodeLine{40     int (*\mbox{\hyperlink{structaws__input__stream__vtable_a5ee558e7c8c8c73e14b7103b6584b8f0}{get\_length}})(\textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, int64\_t *out\_length);}
\DoxyCodeLine{41     void (*\mbox{\hyperlink{structaws__input__stream__vtable_af0d5e5b6a3c2b5c0122395d2a8f71c85}{destroy}})(\textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream);}
\DoxyCodeLine{42 \};}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} \{}
\DoxyCodeLine{45     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__allocator}{aws\_allocator}} *\mbox{\hyperlink{structaws__input__stream_a2d8b3fd047d0b2c78739f74912ba352b}{allocator}};}
\DoxyCodeLine{46     \textcolor{keywordtype}{void} *\mbox{\hyperlink{structaws__input__stream_a433bf2c97ed74b010c9406c44469a180}{impl}};}
\DoxyCodeLine{47     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream__vtable}{aws\_input\_stream\_vtable}} *\mbox{\hyperlink{structaws__input__stream_afa9a725f48c5c5bfcb6a2c6512d4e9f8}{vtable}};}
\DoxyCodeLine{48 \};}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\_EXTERN\_C\_BEGIN}}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \textcolor{comment}{/*}}
\DoxyCodeLine{53 \textcolor{comment}{ * Seek to a position within a stream; analagous to fseek() and its relatives}}
\DoxyCodeLine{54 \textcolor{comment}{ */}}
\DoxyCodeLine{55 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\_IO\_API}} \textcolor{keywordtype}{int} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_acae28b35493e757ad6edbc9e7b140e6c}{aws\_input\_stream\_seek}}(}
\DoxyCodeLine{56     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream,}
\DoxyCodeLine{57     \mbox{\hyperlink{stdint_8h_a7c7388565c261c41172ec27cfbbcd9dc}{aws\_off\_t}} \mbox{\hyperlink{namespace_aws_a4b36e73e20878ce98336cfdea0494281}{offset}},}
\DoxyCodeLine{58     \textcolor{keyword}{enum} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a0b9f7391a82ccf025bf6a216c6b3c20d}{aws\_stream\_seek\_basis}} basis);}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{comment}{/*}}
\DoxyCodeLine{61 \textcolor{comment}{ * Read data from a stream.  If data is available, will read up to the (capacity -\/ len) open bytes}}
\DoxyCodeLine{62 \textcolor{comment}{ * in the destination buffer. If AWS\_OP\_ERR is returned, the destination buffer will be unchanged.}}
\DoxyCodeLine{63 \textcolor{comment}{ */}}
\DoxyCodeLine{64 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\_IO\_API}} \textcolor{keywordtype}{int} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_ac14e5ef5707c94ffea0244fb36063a2e}{aws\_input\_stream\_read}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__byte__buf}{aws\_byte\_buf}} *\mbox{\hyperlink{namespacecreate-projects_a30fed16487e895222a4b2a8e95fe2e2f}{dest}});}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{comment}{/*}}
\DoxyCodeLine{67 \textcolor{comment}{ * Queries miscellaneous properties of the stream}}
\DoxyCodeLine{68 \textcolor{comment}{ */}}
\DoxyCodeLine{69 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\_IO\_API}} \textcolor{keywordtype}{int} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_adb07147f0cea88765aa760dd9457250e}{aws\_input\_stream\_get\_status}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__stream__status}{aws\_stream\_status}} *status);}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \textcolor{comment}{/*}}
\DoxyCodeLine{72 \textcolor{comment}{ * Returns the total stream length, if able, regardless of current stream position.  Under certain conditions,}}
\DoxyCodeLine{73 \textcolor{comment}{ * a valid stream may return an error instead when there is not a good answer (socket stream, for example).}}
\DoxyCodeLine{74 \textcolor{comment}{ *}}
\DoxyCodeLine{75 \textcolor{comment}{ */}}
\DoxyCodeLine{76 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\_IO\_API}} \textcolor{keywordtype}{int} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a127332e564d2d9868e8e9197d0833c23}{aws\_input\_stream\_get\_length}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream, int64\_t *out\_length);}
\DoxyCodeLine{77 }
\DoxyCodeLine{78 \textcolor{comment}{/*}}
\DoxyCodeLine{79 \textcolor{comment}{ * Tears down the stream}}
\DoxyCodeLine{80 \textcolor{comment}{ */}}
\DoxyCodeLine{81 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\_IO\_API}} \textcolor{keywordtype}{void} \mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a4565361cbf2539004f4659906a7255f7}{aws\_input\_stream\_destroy}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *stream);}
\DoxyCodeLine{82 }
\DoxyCodeLine{83 \textcolor{comment}{/*}}
\DoxyCodeLine{84 \textcolor{comment}{ * Creates a stream that operates on a range of bytes}}
\DoxyCodeLine{85 \textcolor{comment}{ */}}
\DoxyCodeLine{86 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\_IO\_API}} \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *\mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_a393d18b3bf17c5b621dba239e8542d7e}{aws\_input\_stream\_new\_from\_cursor}}(}
\DoxyCodeLine{87     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__allocator}{aws\_allocator}} *\mbox{\hyperlink{structaws__input__stream_a2d8b3fd047d0b2c78739f74912ba352b}{allocator}},}
\DoxyCodeLine{88     \textcolor{keyword}{const} \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__byte__cursor}{aws\_byte\_cursor}} *cursor);}
\DoxyCodeLine{89 }
\DoxyCodeLine{90 \textcolor{comment}{/*}}
\DoxyCodeLine{91 \textcolor{comment}{ * Creates a stream that operates on a (not-\/yet-\/opened) file.}}
\DoxyCodeLine{92 \textcolor{comment}{ * Destruction closes the file.}}
\DoxyCodeLine{93 \textcolor{comment}{ */}}
\DoxyCodeLine{94 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\_IO\_API}} \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *\mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_acd681692955fa18e641bb4bafcfdb161}{aws\_input\_stream\_new\_from\_file}}(}
\DoxyCodeLine{95     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__allocator}{aws\_allocator}} *\mbox{\hyperlink{structaws__input__stream_a2d8b3fd047d0b2c78739f74912ba352b}{allocator}},}
\DoxyCodeLine{96     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *file\_name);}
\DoxyCodeLine{97 }
\DoxyCodeLine{98 \textcolor{comment}{/*}}
\DoxyCodeLine{99 \textcolor{comment}{ * Creates an input stream that reads from an already opened file.}}
\DoxyCodeLine{100 \textcolor{comment}{ * Destruction does not close the file.}}
\DoxyCodeLine{101 \textcolor{comment}{ */}}
\DoxyCodeLine{102 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\_IO\_API}} \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__input__stream}{aws\_input\_stream}} *\mbox{\hyperlink{crt_2aws-c-io_2include_2aws_2io_2_stream_8h_affabb407b49d3002bb20d46d93f49a7e}{aws\_input\_stream\_new\_from\_open\_file}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__allocator}{aws\_allocator}} *\mbox{\hyperlink{structaws__input__stream_a2d8b3fd047d0b2c78739f74912ba352b}{allocator}}, FILE *file);}
\DoxyCodeLine{103 }
\DoxyCodeLine{104 \mbox{\hyperlink{macros_8h_a24efb76a3b128abc9c35d83cac0030c5}{AWS\_EXTERN\_C\_END}}}
\DoxyCodeLine{105 }
\DoxyCodeLine{106 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* AWS\_IO\_STREAM\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
