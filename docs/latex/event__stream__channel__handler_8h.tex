\hypertarget{event__stream__channel__handler_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/event-\/stream/include/aws/event-\/stream/event\+\_\+stream\+\_\+channel\+\_\+handler.h File Reference}
\label{event__stream__channel__handler_8h}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/event-\/stream/include/aws/event-\/stream/event\_stream\_channel\_handler.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/event-\/stream/include/aws/event-\/stream/event\_stream\_channel\_handler.h}}
{\ttfamily \#include $<$aws/event-\/stream/event\+\_\+stream.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__event__stream__channel__handler__options}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+options}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void() \mbox{\hyperlink{event__stream__channel__handler_8h_afe690198b28ed480dba4663dcee56de8}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+on\+\_\+message\+\_\+received\+\_\+fn}}(struct \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message}} $\ast$message, int error\+\_\+code, void $\ast$user\+\_\+data)
\item 
typedef void() \mbox{\hyperlink{event__stream__channel__handler_8h_a86c28f1aa5fabade81592ac9688c029b}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+on\+\_\+message\+\_\+written\+\_\+fn}}(struct \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message}} $\ast$message, int error\+\_\+code, void $\ast$user\+\_\+data)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{event__stream__exports_8h_a0a7fa56db996f6bbc7203dfc97da094a}{AWS\+\_\+\+EVENT\+\_\+\+STREAM\+\_\+\+API}} struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$ \mbox{\hyperlink{event__stream__channel__handler_8h_a71cb9a7aae020a09e0d4d69ac2939434}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, const struct \mbox{\hyperlink{structaws__event__stream__channel__handler__options}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+options}} $\ast$handler\+\_\+options)
\item 
\mbox{\hyperlink{event__stream__exports_8h_a0a7fa56db996f6bbc7203dfc97da094a}{AWS\+\_\+\+EVENT\+\_\+\+STREAM\+\_\+\+API}} int \mbox{\hyperlink{event__stream__channel__handler_8h_a4e6d873c52ae01bc6d8fdfd7d779269d}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+write\+\_\+message}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler, struct \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message}} $\ast$message, \mbox{\hyperlink{event__stream__channel__handler_8h_a86c28f1aa5fabade81592ac9688c029b}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+on\+\_\+message\+\_\+written\+\_\+fn}} $\ast$on\+\_\+message\+\_\+written, void $\ast$user\+\_\+data)
\item 
\mbox{\hyperlink{event__stream__exports_8h_a0a7fa56db996f6bbc7203dfc97da094a}{AWS\+\_\+\+EVENT\+\_\+\+STREAM\+\_\+\+API}} void \mbox{\hyperlink{event__stream__channel__handler_8h_a0921d350b87c676f34ed9243a0fed62e}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+increment\+\_\+read\+\_\+window}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler, size\+\_\+t window\+\_\+update\+\_\+size)
\item 
\mbox{\hyperlink{event__stream__exports_8h_a0a7fa56db996f6bbc7203dfc97da094a}{AWS\+\_\+\+EVENT\+\_\+\+STREAM\+\_\+\+API}} void $\ast$ \mbox{\hyperlink{event__stream__channel__handler_8h_a43d216e5e9c75548b94cc92f676d03b2}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+get\+\_\+user\+\_\+data}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler)
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{event__stream__channel__handler_8h_afe690198b28ed480dba4663dcee56de8}\label{event__stream__channel__handler_8h_afe690198b28ed480dba4663dcee56de8}} 
\index{event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}!aws\_event\_stream\_channel\_handler\_on\_message\_received\_fn@{aws\_event\_stream\_channel\_handler\_on\_message\_received\_fn}}
\index{aws\_event\_stream\_channel\_handler\_on\_message\_received\_fn@{aws\_event\_stream\_channel\_handler\_on\_message\_received\_fn}!event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}}
\doxysubsubsection{\texorpdfstring{aws\_event\_stream\_channel\_handler\_on\_message\_received\_fn}{aws\_event\_stream\_channel\_handler\_on\_message\_received\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+on\+\_\+message\+\_\+received\+\_\+fn(struct \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message}} $\ast$message, int error\+\_\+code, void $\ast$user\+\_\+data)}

Invoked when an \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message}} is encountered. If the message parsed successfully, message will be non-\/null and error\+\_\+code will be AWS\+\_\+\+ERROR\+\_\+\+SUCCESS. Otherwise message will be null and error\+\_\+code will represent the error that was encountered. Note that any case that error\+\_\+code was not AWS\+\_\+\+OP\+\_\+\+SUCCESS, the channel also shuts down. \mbox{\Hypertarget{event__stream__channel__handler_8h_a86c28f1aa5fabade81592ac9688c029b}\label{event__stream__channel__handler_8h_a86c28f1aa5fabade81592ac9688c029b}} 
\index{event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}!aws\_event\_stream\_channel\_handler\_on\_message\_written\_fn@{aws\_event\_stream\_channel\_handler\_on\_message\_written\_fn}}
\index{aws\_event\_stream\_channel\_handler\_on\_message\_written\_fn@{aws\_event\_stream\_channel\_handler\_on\_message\_written\_fn}!event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}}
\doxysubsubsection{\texorpdfstring{aws\_event\_stream\_channel\_handler\_on\_message\_written\_fn}{aws\_event\_stream\_channel\_handler\_on\_message\_written\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+on\+\_\+message\+\_\+written\+\_\+fn(struct \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message}} $\ast$message, int error\+\_\+code, void $\ast$user\+\_\+data)}

Invoked when an \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message}} is flushed to the IO interface. When error\+\_\+code is AWS\+\_\+\+ERROR\+\_\+\+SUCCESS the write happened successfuly. Regardless, message is held from the \mbox{\hyperlink{event__stream__channel__handler_8h_a4e6d873c52ae01bc6d8fdfd7d779269d}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+write\+\_\+message()}} call and should likely be freed in this callback. If error\+\_\+code is non-\/zero, the channel will be shutdown immediately after this callback returns. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{event__stream__channel__handler_8h_a43d216e5e9c75548b94cc92f676d03b2}\label{event__stream__channel__handler_8h_a43d216e5e9c75548b94cc92f676d03b2}} 
\index{event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}!aws\_event\_stream\_channel\_handler\_get\_user\_data@{aws\_event\_stream\_channel\_handler\_get\_user\_data}}
\index{aws\_event\_stream\_channel\_handler\_get\_user\_data@{aws\_event\_stream\_channel\_handler\_get\_user\_data}!event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}}
\doxysubsubsection{\texorpdfstring{aws\_event\_stream\_channel\_handler\_get\_user\_data()}{aws\_event\_stream\_channel\_handler\_get\_user\_data()}}
{\footnotesize\ttfamily \mbox{\hyperlink{event__stream__exports_8h_a0a7fa56db996f6bbc7203dfc97da094a}{AWS\+\_\+\+EVENT\+\_\+\+STREAM\+\_\+\+API}} void$\ast$ aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+get\+\_\+user\+\_\+data (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})}

\mbox{\Hypertarget{event__stream__channel__handler_8h_a0921d350b87c676f34ed9243a0fed62e}\label{event__stream__channel__handler_8h_a0921d350b87c676f34ed9243a0fed62e}} 
\index{event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}!aws\_event\_stream\_channel\_handler\_increment\_read\_window@{aws\_event\_stream\_channel\_handler\_increment\_read\_window}}
\index{aws\_event\_stream\_channel\_handler\_increment\_read\_window@{aws\_event\_stream\_channel\_handler\_increment\_read\_window}!event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}}
\doxysubsubsection{\texorpdfstring{aws\_event\_stream\_channel\_handler\_increment\_read\_window()}{aws\_event\_stream\_channel\_handler\_increment\_read\_window()}}
{\footnotesize\ttfamily \mbox{\hyperlink{event__stream__exports_8h_a0a7fa56db996f6bbc7203dfc97da094a}{AWS\+\_\+\+EVENT\+\_\+\+STREAM\+\_\+\+API}} void aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+increment\+\_\+read\+\_\+window (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{size\+\_\+t}]{window\+\_\+update\+\_\+size }\end{DoxyParamCaption})}

Updates the read window for the channel if automatic\+\_\+window\+\_\+managemanet was set to false. \mbox{\Hypertarget{event__stream__channel__handler_8h_a71cb9a7aae020a09e0d4d69ac2939434}\label{event__stream__channel__handler_8h_a71cb9a7aae020a09e0d4d69ac2939434}} 
\index{event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}!aws\_event\_stream\_channel\_handler\_new@{aws\_event\_stream\_channel\_handler\_new}}
\index{aws\_event\_stream\_channel\_handler\_new@{aws\_event\_stream\_channel\_handler\_new}!event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}}
\doxysubsubsection{\texorpdfstring{aws\_event\_stream\_channel\_handler\_new()}{aws\_event\_stream\_channel\_handler\_new()}}
{\footnotesize\ttfamily \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{event__stream__exports_8h_a0a7fa56db996f6bbc7203dfc97da094a}{AWS\+\_\+\+EVENT\+\_\+\+STREAM\+\_\+\+API}} struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}}$\ast$ aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__event__stream__channel__handler__options}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+options}} $\ast$}]{handler\+\_\+options }\end{DoxyParamCaption})}

Allocates and initializes a new channel handler for processing \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message()}} events. Handler options must not be null. \mbox{\Hypertarget{event__stream__channel__handler_8h_a4e6d873c52ae01bc6d8fdfd7d779269d}\label{event__stream__channel__handler_8h_a4e6d873c52ae01bc6d8fdfd7d779269d}} 
\index{event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}!aws\_event\_stream\_channel\_handler\_write\_message@{aws\_event\_stream\_channel\_handler\_write\_message}}
\index{aws\_event\_stream\_channel\_handler\_write\_message@{aws\_event\_stream\_channel\_handler\_write\_message}!event\_stream\_channel\_handler.h@{event\_stream\_channel\_handler.h}}
\doxysubsubsection{\texorpdfstring{aws\_event\_stream\_channel\_handler\_write\_message()}{aws\_event\_stream\_channel\_handler\_write\_message()}}
{\footnotesize\ttfamily \mbox{\hyperlink{event__stream__exports_8h_a0a7fa56db996f6bbc7203dfc97da094a}{AWS\+\_\+\+EVENT\+\_\+\+STREAM\+\_\+\+API}} int aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+write\+\_\+message (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{struct \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message}} $\ast$}]{message,  }\item[{\mbox{\hyperlink{event__stream__channel__handler_8h_a86c28f1aa5fabade81592ac9688c029b}{aws\+\_\+event\+\_\+stream\+\_\+channel\+\_\+handler\+\_\+on\+\_\+message\+\_\+written\+\_\+fn}} $\ast$}]{on\+\_\+message\+\_\+written,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})}

Writes an \mbox{\hyperlink{structaws__event__stream__message}{aws\+\_\+event\+\_\+stream\+\_\+message()}} to the channel. Once the channel flushes or an error occurs, on\+\_\+message\+\_\+written will be invoked. message should stay valid until the callback is invoked. If an error an occurs, the channel will automatically be shutdown. 