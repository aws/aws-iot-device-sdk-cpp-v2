\hypertarget{mqtt__mock__server__handler_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/tests/mqtt\+\_\+mock\+\_\+server\+\_\+handler.h File Reference}
\label{mqtt__mock__server__handler_8h}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/tests/mqtt\_mock\_server\_handler.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/mqtt/tests/mqtt\_mock\_server\_handler.h}}
{\ttfamily \#include $<$aws/mqtt/private/packets.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$ \mbox{\hyperlink{mqtt__mock__server__handler_8h_a3320e8b1cfbd5fc95c3a0ea4dbec409c}{new\+\_\+mqtt\+\_\+mock\+\_\+server}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}})
\item 
void \mbox{\hyperlink{mqtt__mock__server__handler_8h_a46c599740c83a7efffc0dd4ae1c749e1}{destroy\+\_\+mqtt\+\_\+mock\+\_\+server}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}})
\item 
void \mbox{\hyperlink{mqtt__mock__server__handler_8h_adb91f567eb5d5dda9dddb6a32bd53812}{mqtt\+\_\+mock\+\_\+server\+\_\+handler\+\_\+update\+\_\+slot}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$slot)
\item 
int \mbox{\hyperlink{mqtt__mock__server__handler_8h_ab028d0c987f38f78076a120547ac8603}{mqtt\+\_\+mock\+\_\+server\+\_\+send\+\_\+publish}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad99baabff61442b2d602f6dd84310f89}{topic}}, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$\mbox{\hyperlink{connection__state__test_8c_ad1560a388c937f36f038c683175d82bf}{payload}}, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} \mbox{\hyperlink{s2n_2pq-crypto_2bike__r2_2decode_8c_aa36ac9b28eef6905672b29e8e398053a}{dup}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} \mbox{\hyperlink{connection__state__test_8c_a65ee2b4b16f25052c441ff9959dcc7e7}{qos}}, \mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}} retain)
\item 
void \mbox{\hyperlink{mqtt__mock__server__handler_8h_ac2ae03a969c730353e25303e85afad05}{mqtt\+\_\+mock\+\_\+server\+\_\+set\+\_\+max\+\_\+ping\+\_\+resp}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, size\+\_\+t max\+\_\+ping)
\item 
void \mbox{\hyperlink{mqtt__mock__server__handler_8h_a7a5201e8556b6876d4809e8c359e7cc5}{mqtt\+\_\+mock\+\_\+server\+\_\+set\+\_\+max\+\_\+connack}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, size\+\_\+t connack\+\_\+avail)
\item 
void \mbox{\hyperlink{mqtt__mock__server__handler_8h_a81e5edc0e146753d0cf824711fdfdd4a}{mqtt\+\_\+mock\+\_\+server\+\_\+disable\+\_\+auto\+\_\+ack}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}})
\item 
void \mbox{\hyperlink{mqtt__mock__server__handler_8h_a58ad8885c749a1d95db64cd735783973}{mqtt\+\_\+mock\+\_\+server\+\_\+enable\+\_\+auto\+\_\+ack}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}})
\item 
int \mbox{\hyperlink{mqtt__mock__server__handler_8h_ad259cc593af33564a7b85d498ed3bae0}{mqtt\+\_\+mock\+\_\+server\+\_\+send\+\_\+unsuback}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}})
\item 
int \mbox{\hyperlink{mqtt__mock__server__handler_8h_a44980213167fbc28b9c3ddb7dc4fbfff}{mqtt\+\_\+mock\+\_\+server\+\_\+send\+\_\+puback}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}})
\item 
int \mbox{\hyperlink{mqtt__mock__server__handler_8h_a9ffe321e81a9b986c6fba084b5caede5}{mqtt\+\_\+mock\+\_\+server\+\_\+send\+\_\+single\+\_\+suback}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}}, enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}} return\+\_\+code)
\item 
void \mbox{\hyperlink{mqtt__mock__server__handler_8h_a9bdd2c03b8acf979d3ce97f5015d89fa}{mqtt\+\_\+mock\+\_\+server\+\_\+wait\+\_\+for\+\_\+pubacks}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, size\+\_\+t puback\+\_\+count)
\item 
size\+\_\+t \mbox{\hyperlink{mqtt__mock__server__handler_8h_ac516663012167d11bc7becf5c2d9b980}{mqtt\+\_\+mock\+\_\+server\+\_\+decoded\+\_\+packets\+\_\+count}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}})
\item 
struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}} $\ast$ \mbox{\hyperlink{mqtt__mock__server__handler_8h_acfda9c24ddcf3ba499df71d54f3a4643}{mqtt\+\_\+mock\+\_\+server\+\_\+get\+\_\+decoded\+\_\+packet\+\_\+by\+\_\+index}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, size\+\_\+t i)
\item 
struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}} $\ast$ \mbox{\hyperlink{mqtt__mock__server__handler_8h_a71a93e16e4b4cf310db18e4dc072d59a}{mqtt\+\_\+mock\+\_\+server\+\_\+get\+\_\+latest\+\_\+decoded\+\_\+packet}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}})
\item 
struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}} $\ast$ \mbox{\hyperlink{mqtt__mock__server__handler_8h_a6fef2f30e40481307df3c9515458db30}{mqtt\+\_\+mock\+\_\+server\+\_\+find\+\_\+decoded\+\_\+packet\+\_\+by\+\_\+id}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, size\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ac26bf81bcc6cb9a83aaf17a31998c9d4}{search\+\_\+start\+\_\+idx}}, uint16\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ad051e090f3817f4549df7dc178790f45}{packet\+\_\+id}}, size\+\_\+t $\ast$out\+\_\+idx)
\item 
struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}} $\ast$ \mbox{\hyperlink{mqtt__mock__server__handler_8h_a4672b10f9bc479e1d7857ad491d536d0}{mqtt\+\_\+mock\+\_\+server\+\_\+find\+\_\+decoded\+\_\+packet\+\_\+by\+\_\+type}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}}, size\+\_\+t \mbox{\hyperlink{connection__state__test_8c_ac26bf81bcc6cb9a83aaf17a31998c9d4}{search\+\_\+start\+\_\+idx}}, enum \mbox{\hyperlink{fixed__header_8h_a88d0cb6ffb07fc72c20665d7ebeec76b}{aws\+\_\+mqtt\+\_\+packet\+\_\+type}} type, size\+\_\+t $\ast$out\+\_\+idx)
\item 
int \mbox{\hyperlink{mqtt__mock__server__handler_8h_a170c32326cea5a74a6886f0d5fba0780}{mqtt\+\_\+mock\+\_\+server\+\_\+decode\+\_\+packets}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$\mbox{\hyperlink{connection__state__test_8c_a5f4fb7eeb486f3159a0f17d3d7d59637}{handler}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const int \mbox{\hyperlink{mqtt__mock__server__handler_8h_a71fc8c485a289c77368bc3f9a792c2ed}{MOCK\+\_\+\+LOG\+\_\+\+SUBJECT}} = 60000
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{mqtt__mock__server__handler_8h_a46c599740c83a7efffc0dd4ae1c749e1}\label{mqtt__mock__server__handler_8h_a46c599740c83a7efffc0dd4ae1c749e1}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!destroy\_mqtt\_mock\_server@{destroy\_mqtt\_mock\_server}}
\index{destroy\_mqtt\_mock\_server@{destroy\_mqtt\_mock\_server}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{destroy\_mqtt\_mock\_server()}{destroy\_mqtt\_mock\_server()}}
{\footnotesize\ttfamily void destroy\+\_\+mqtt\+\_\+mock\+\_\+server (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})}

\mbox{\Hypertarget{mqtt__mock__server__handler_8h_a170c32326cea5a74a6886f0d5fba0780}\label{mqtt__mock__server__handler_8h_a170c32326cea5a74a6886f0d5fba0780}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_decode\_packets@{mqtt\_mock\_server\_decode\_packets}}
\index{mqtt\_mock\_server\_decode\_packets@{mqtt\_mock\_server\_decode\_packets}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_decode\_packets()}{mqtt\_mock\_server\_decode\_packets()}}
{\footnotesize\ttfamily int mqtt\+\_\+mock\+\_\+server\+\_\+decode\+\_\+packets (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})}

Run all received messages through, and decode the messages. \mbox{\Hypertarget{mqtt__mock__server__handler_8h_ac516663012167d11bc7becf5c2d9b980}\label{mqtt__mock__server__handler_8h_ac516663012167d11bc7becf5c2d9b980}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_decoded\_packets\_count@{mqtt\_mock\_server\_decoded\_packets\_count}}
\index{mqtt\_mock\_server\_decoded\_packets\_count@{mqtt\_mock\_server\_decoded\_packets\_count}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_decoded\_packets\_count()}{mqtt\_mock\_server\_decoded\_packets\_count()}}
{\footnotesize\ttfamily size\+\_\+t mqtt\+\_\+mock\+\_\+server\+\_\+decoded\+\_\+packets\+\_\+count (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})}

Getters for decoded packets, call mqtt\+\_\+mock\+\_\+server\+\_\+decode\+\_\+packets first. \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a81e5edc0e146753d0cf824711fdfdd4a}\label{mqtt__mock__server__handler_8h_a81e5edc0e146753d0cf824711fdfdd4a}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_disable\_auto\_ack@{mqtt\_mock\_server\_disable\_auto\_ack}}
\index{mqtt\_mock\_server\_disable\_auto\_ack@{mqtt\_mock\_server\_disable\_auto\_ack}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_disable\_auto\_ack()}{mqtt\_mock\_server\_disable\_auto\_ack()}}
{\footnotesize\ttfamily void mqtt\+\_\+mock\+\_\+server\+\_\+disable\+\_\+auto\+\_\+ack (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})}

Disable the automatically response (suback/unsuback/puback) to the client \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a58ad8885c749a1d95db64cd735783973}\label{mqtt__mock__server__handler_8h_a58ad8885c749a1d95db64cd735783973}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_enable\_auto\_ack@{mqtt\_mock\_server\_enable\_auto\_ack}}
\index{mqtt\_mock\_server\_enable\_auto\_ack@{mqtt\_mock\_server\_enable\_auto\_ack}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_enable\_auto\_ack()}{mqtt\_mock\_server\_enable\_auto\_ack()}}
{\footnotesize\ttfamily void mqtt\+\_\+mock\+\_\+server\+\_\+enable\+\_\+auto\+\_\+ack (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})}

Enable the automatically response (suback/unsuback/puback) to the client \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a6fef2f30e40481307df3c9515458db30}\label{mqtt__mock__server__handler_8h_a6fef2f30e40481307df3c9515458db30}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_find\_decoded\_packet\_by\_id@{mqtt\_mock\_server\_find\_decoded\_packet\_by\_id}}
\index{mqtt\_mock\_server\_find\_decoded\_packet\_by\_id@{mqtt\_mock\_server\_find\_decoded\_packet\_by\_id}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_find\_decoded\_packet\_by\_id()}{mqtt\_mock\_server\_find\_decoded\_packet\_by\_id()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}}$\ast$ mqtt\+\_\+mock\+\_\+server\+\_\+find\+\_\+decoded\+\_\+packet\+\_\+by\+\_\+id (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{size\+\_\+t}]{search\+\_\+start\+\_\+idx,  }\item[{uint16\+\_\+t}]{packet\+\_\+id,  }\item[{size\+\_\+t $\ast$}]{out\+\_\+idx }\end{DoxyParamCaption})}

Get the decoded packet by packet\+\_\+id started from search\+\_\+start\+\_\+idx (included), Note\+: it may have multiple packets with the same ID, this will return the earliest received on with the packet\+\_\+id. If out\+\_\+idx is not NULL, the index of found packet will be stored at there, and if failed to find the packet, it will be set to SIZE\+\_\+\+MAX, and the return value will be NULL. \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a4672b10f9bc479e1d7857ad491d536d0}\label{mqtt__mock__server__handler_8h_a4672b10f9bc479e1d7857ad491d536d0}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_find\_decoded\_packet\_by\_type@{mqtt\_mock\_server\_find\_decoded\_packet\_by\_type}}
\index{mqtt\_mock\_server\_find\_decoded\_packet\_by\_type@{mqtt\_mock\_server\_find\_decoded\_packet\_by\_type}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_find\_decoded\_packet\_by\_type()}{mqtt\_mock\_server\_find\_decoded\_packet\_by\_type()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}}$\ast$ mqtt\+\_\+mock\+\_\+server\+\_\+find\+\_\+decoded\+\_\+packet\+\_\+by\+\_\+type (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{size\+\_\+t}]{search\+\_\+start\+\_\+idx,  }\item[{enum \mbox{\hyperlink{fixed__header_8h_a88d0cb6ffb07fc72c20665d7ebeec76b}{aws\+\_\+mqtt\+\_\+packet\+\_\+type}}}]{type,  }\item[{size\+\_\+t $\ast$}]{out\+\_\+idx }\end{DoxyParamCaption})}

Get the decoded packet by type started from search\+\_\+start\+\_\+idx (included), Note\+: it may have multiple packets with the same type, this will return the earliest received on with the packet\+\_\+id. If out\+\_\+idx is not NULL, the index of found packet will be stored at there, and if failed to find the packet, it will be set to SIZE\+\_\+\+MAX, and the return value will be NULL. \mbox{\Hypertarget{mqtt__mock__server__handler_8h_acfda9c24ddcf3ba499df71d54f3a4643}\label{mqtt__mock__server__handler_8h_acfda9c24ddcf3ba499df71d54f3a4643}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_get\_decoded\_packet\_by\_index@{mqtt\_mock\_server\_get\_decoded\_packet\_by\_index}}
\index{mqtt\_mock\_server\_get\_decoded\_packet\_by\_index@{mqtt\_mock\_server\_get\_decoded\_packet\_by\_index}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_get\_decoded\_packet\_by\_index()}{mqtt\_mock\_server\_get\_decoded\_packet\_by\_index()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}}$\ast$ mqtt\+\_\+mock\+\_\+server\+\_\+get\+\_\+decoded\+\_\+packet\+\_\+by\+\_\+index (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{size\+\_\+t}]{i }\end{DoxyParamCaption})}

Get the decoded packet by index \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a71a93e16e4b4cf310db18e4dc072d59a}\label{mqtt__mock__server__handler_8h_a71a93e16e4b4cf310db18e4dc072d59a}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_get\_latest\_decoded\_packet@{mqtt\_mock\_server\_get\_latest\_decoded\_packet}}
\index{mqtt\_mock\_server\_get\_latest\_decoded\_packet@{mqtt\_mock\_server\_get\_latest\_decoded\_packet}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_get\_latest\_decoded\_packet()}{mqtt\_mock\_server\_get\_latest\_decoded\_packet()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structmqtt__decoded__packet}{mqtt\+\_\+decoded\+\_\+packet}}$\ast$ mqtt\+\_\+mock\+\_\+server\+\_\+get\+\_\+latest\+\_\+decoded\+\_\+packet (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})}

Get the latest received packet by index \mbox{\Hypertarget{mqtt__mock__server__handler_8h_adb91f567eb5d5dda9dddb6a32bd53812}\label{mqtt__mock__server__handler_8h_adb91f567eb5d5dda9dddb6a32bd53812}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_handler\_update\_slot@{mqtt\_mock\_server\_handler\_update\_slot}}
\index{mqtt\_mock\_server\_handler\_update\_slot@{mqtt\_mock\_server\_handler\_update\_slot}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_handler\_update\_slot()}{mqtt\_mock\_server\_handler\_update\_slot()}}
{\footnotesize\ttfamily void mqtt\+\_\+mock\+\_\+server\+\_\+handler\+\_\+update\+\_\+slot (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$}]{slot }\end{DoxyParamCaption})}

\mbox{\Hypertarget{mqtt__mock__server__handler_8h_a44980213167fbc28b9c3ddb7dc4fbfff}\label{mqtt__mock__server__handler_8h_a44980213167fbc28b9c3ddb7dc4fbfff}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_send\_puback@{mqtt\_mock\_server\_send\_puback}}
\index{mqtt\_mock\_server\_send\_puback@{mqtt\_mock\_server\_send\_puback}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_send\_puback()}{mqtt\_mock\_server\_send\_puback()}}
{\footnotesize\ttfamily int mqtt\+\_\+mock\+\_\+server\+\_\+send\+\_\+puback (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{uint16\+\_\+t}]{packet\+\_\+id }\end{DoxyParamCaption})}

\mbox{\Hypertarget{mqtt__mock__server__handler_8h_ab028d0c987f38f78076a120547ac8603}\label{mqtt__mock__server__handler_8h_ab028d0c987f38f78076a120547ac8603}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_send\_publish@{mqtt\_mock\_server\_send\_publish}}
\index{mqtt\_mock\_server\_send\_publish@{mqtt\_mock\_server\_send\_publish}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_send\_publish()}{mqtt\_mock\_server\_send\_publish()}}
{\footnotesize\ttfamily int mqtt\+\_\+mock\+\_\+server\+\_\+send\+\_\+publish (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{topic,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{payload,  }\item[{\mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{dup,  }\item[{enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}}}]{qos,  }\item[{\mbox{\hyperlink{preamble_8h_a1062901a7428fdd9c7f180f5e01ea056}{bool}}}]{retain }\end{DoxyParamCaption})}

Mock server sends a publish packet back to client \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a9ffe321e81a9b986c6fba084b5caede5}\label{mqtt__mock__server__handler_8h_a9ffe321e81a9b986c6fba084b5caede5}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_send\_single\_suback@{mqtt\_mock\_server\_send\_single\_suback}}
\index{mqtt\_mock\_server\_send\_single\_suback@{mqtt\_mock\_server\_send\_single\_suback}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_send\_single\_suback()}{mqtt\_mock\_server\_send\_single\_suback()}}
{\footnotesize\ttfamily int mqtt\+\_\+mock\+\_\+server\+\_\+send\+\_\+single\+\_\+suback (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{uint16\+\_\+t}]{packet\+\_\+id,  }\item[{enum \mbox{\hyperlink{mqtt_8h_a9c8e7e4cfbb7dcb3fc4a5402000998ce}{aws\+\_\+mqtt\+\_\+qos}}}]{return\+\_\+code }\end{DoxyParamCaption})}

\mbox{\Hypertarget{mqtt__mock__server__handler_8h_ad259cc593af33564a7b85d498ed3bae0}\label{mqtt__mock__server__handler_8h_ad259cc593af33564a7b85d498ed3bae0}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_send\_unsuback@{mqtt\_mock\_server\_send\_unsuback}}
\index{mqtt\_mock\_server\_send\_unsuback@{mqtt\_mock\_server\_send\_unsuback}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_send\_unsuback()}{mqtt\_mock\_server\_send\_unsuback()}}
{\footnotesize\ttfamily int mqtt\+\_\+mock\+\_\+server\+\_\+send\+\_\+unsuback (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{uint16\+\_\+t}]{packet\+\_\+id }\end{DoxyParamCaption})}

Send response back the client given the packet ID \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a7a5201e8556b6876d4809e8c359e7cc5}\label{mqtt__mock__server__handler_8h_a7a5201e8556b6876d4809e8c359e7cc5}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_set\_max\_connack@{mqtt\_mock\_server\_set\_max\_connack}}
\index{mqtt\_mock\_server\_set\_max\_connack@{mqtt\_mock\_server\_set\_max\_connack}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_set\_max\_connack()}{mqtt\_mock\_server\_set\_max\_connack()}}
{\footnotesize\ttfamily void mqtt\+\_\+mock\+\_\+server\+\_\+set\+\_\+max\+\_\+connack (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{size\+\_\+t}]{connack\+\_\+avail }\end{DoxyParamCaption})}

Set max number of CONACK that mock server will send back to client \mbox{\Hypertarget{mqtt__mock__server__handler_8h_ac2ae03a969c730353e25303e85afad05}\label{mqtt__mock__server__handler_8h_ac2ae03a969c730353e25303e85afad05}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_set\_max\_ping\_resp@{mqtt\_mock\_server\_set\_max\_ping\_resp}}
\index{mqtt\_mock\_server\_set\_max\_ping\_resp@{mqtt\_mock\_server\_set\_max\_ping\_resp}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_set\_max\_ping\_resp()}{mqtt\_mock\_server\_set\_max\_ping\_resp()}}
{\footnotesize\ttfamily void mqtt\+\_\+mock\+\_\+server\+\_\+set\+\_\+max\+\_\+ping\+\_\+resp (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{size\+\_\+t}]{max\+\_\+ping }\end{DoxyParamCaption})}

Set max number of PINGRESP that mock server will send back to client \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a9bdd2c03b8acf979d3ce97f5015d89fa}\label{mqtt__mock__server__handler_8h_a9bdd2c03b8acf979d3ce97f5015d89fa}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!mqtt\_mock\_server\_wait\_for\_pubacks@{mqtt\_mock\_server\_wait\_for\_pubacks}}
\index{mqtt\_mock\_server\_wait\_for\_pubacks@{mqtt\_mock\_server\_wait\_for\_pubacks}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{mqtt\_mock\_server\_wait\_for\_pubacks()}{mqtt\_mock\_server\_wait\_for\_pubacks()}}
{\footnotesize\ttfamily void mqtt\+\_\+mock\+\_\+server\+\_\+wait\+\_\+for\+\_\+pubacks (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{size\+\_\+t}]{puback\+\_\+count }\end{DoxyParamCaption})}

Wait for puback\+\_\+count PUBACK packages from client \mbox{\Hypertarget{mqtt__mock__server__handler_8h_a3320e8b1cfbd5fc95c3a0ea4dbec409c}\label{mqtt__mock__server__handler_8h_a3320e8b1cfbd5fc95c3a0ea4dbec409c}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!new\_mqtt\_mock\_server@{new\_mqtt\_mock\_server}}
\index{new\_mqtt\_mock\_server@{new\_mqtt\_mock\_server}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{new\_mqtt\_mock\_server()}{new\_mqtt\_mock\_server()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}}$\ast$ new\+\_\+mqtt\+\_\+mock\+\_\+server (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{mqtt__mock__server__handler_8h_a71fc8c485a289c77368bc3f9a792c2ed}\label{mqtt__mock__server__handler_8h_a71fc8c485a289c77368bc3f9a792c2ed}} 
\index{mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}!MOCK\_LOG\_SUBJECT@{MOCK\_LOG\_SUBJECT}}
\index{MOCK\_LOG\_SUBJECT@{MOCK\_LOG\_SUBJECT}!mqtt\_mock\_server\_handler.h@{mqtt\_mock\_server\_handler.h}}
\doxysubsubsection{\texorpdfstring{MOCK\_LOG\_SUBJECT}{MOCK\_LOG\_SUBJECT}}
{\footnotesize\ttfamily const int MOCK\+\_\+\+LOG\+\_\+\+SUBJECT = 60000\hspace{0.3cm}{\ttfamily [static]}}

