\hypertarget{_device_defender_8h_source}{}\doxysection{Device\+Defender.\+h}
\label{_device_defender_8h_source}\index{devicedefender/include/aws/iotdevicedefender/DeviceDefender.h@{devicedefender/include/aws/iotdevicedefender/DeviceDefender.h}}
\mbox{\hyperlink{_device_defender_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{devicedefender_2include_2aws_2iotdevicedefender_2_exports_8h}{aws/iotdevicedefender/Exports.h}}>}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_event_loop_group_8h}{aws/crt/io/EventLoopGroup.h}}>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{crt_2mqtt_2_mqtt_client_8h}{aws/crt/mqtt/MqttClient.h}}>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{device__defender_8h}{aws/iotdevice/device\_defender.h}}>}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_aws}{Aws}}}
\DoxyCodeLine{15 \{}
\DoxyCodeLine{16     \textcolor{keyword}{namespace }Crt}
\DoxyCodeLine{17     \{}
\DoxyCodeLine{18 }
\DoxyCodeLine{19     \}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21     \textcolor{keyword}{namespace }Iotdevicedefenderv1}
\DoxyCodeLine{22     \{}
\DoxyCodeLine{23 }
\DoxyCodeLine{24         \textcolor{keyword}{class }\mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task}{ReportTask}};}
\DoxyCodeLine{25         \textcolor{keyword}{class }\mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}};}
\DoxyCodeLine{26 }
\DoxyCodeLine{30         \textcolor{keyword}{using} \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a809b6645d5d82549c8a2436fc68a6925}{OnTaskCancelledHandler}} = std::function<void(\textcolor{keywordtype}{void} *)>;}
\DoxyCodeLine{31 }
\DoxyCodeLine{32         \textcolor{keyword}{using} \mbox{\hyperlink{device__defender_8h_adf4df3bc233ba928ffab5dafe05fb9d4}{ReportFormat}} = \mbox{\hyperlink{device__defender_8h_adf4df3bc233ba928ffab5dafe05fb9d4}{aws\_iotdevice\_defender\_report\_format}};}
\DoxyCodeLine{33 }
\DoxyCodeLine{37         \textcolor{keyword}{enum class} \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a09b588a32427e8a6cc07bb218c536e48}{ReportTaskStatus}}}
\DoxyCodeLine{38         \{}
\DoxyCodeLine{39             \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a09b588a32427e8a6cc07bb218c536e48ae7d31fc0602fb2ede144d18cdffd816b}{Ready}} = 0,}
\DoxyCodeLine{40             \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a09b588a32427e8a6cc07bb218c536e48a5bda814c4aedb126839228f1a3d92f09}{Running}} = 1,}
\DoxyCodeLine{41             \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a09b588a32427e8a6cc07bb218c536e48ac23e2b09ebe6bf4cb5e2a9abe85c0be2}{Stopped}} = 2,}
\DoxyCodeLine{42         \};}
\DoxyCodeLine{43 }
\DoxyCodeLine{47         \textcolor{keyword}{class }\mbox{\hyperlink{devicedefender_2include_2aws_2iotdevicedefender_2_exports_8h_aa6735d61baab66e47a24794702ee4444}{AWS\_IOTDEVICEDEFENDER\_API}} \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task}{ReportTask}} \mbox{\hyperlink{lookup3_8inl_ab4646d77540701d2eb2c877effbe5739}{final}}}
\DoxyCodeLine{48         \{}
\DoxyCodeLine{49             \textcolor{keyword}{friend} \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51           \textcolor{keyword}{public}:}
\DoxyCodeLine{52             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task}{\string~ReportTask}}();}
\DoxyCodeLine{53             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_a6e62cf26cba510192cea01541474788d}{ReportTask}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task}{ReportTask}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{54             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task}{ReportTask}} \&\mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_a4fdf4e6b931134504adb0c77739062e4}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task}{ReportTask}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{55 }
\DoxyCodeLine{59             \textcolor{keywordtype}{void} StopTask() noexcept;}
\DoxyCodeLine{60 }
\DoxyCodeLine{64             \textcolor{keywordtype}{int} StartTask() noexcept;}
\DoxyCodeLine{65 }
\DoxyCodeLine{69             \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a09b588a32427e8a6cc07bb218c536e48}{ReportTaskStatus}} GetStatus() noexcept;}
\DoxyCodeLine{70 }
\DoxyCodeLine{71             \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a809b6645d5d82549c8a2436fc68a6925}{OnTaskCancelledHandler}} OnTaskCancelled;}
\DoxyCodeLine{72 }
\DoxyCodeLine{73             \textcolor{keywordtype}{void} *cancellationUserdata;}
\DoxyCodeLine{74 }
\DoxyCodeLine{78             \textcolor{keywordtype}{int} \mbox{\hyperlink{namespace_aws_1_1_crt_aec41cfe367315d4e4e1712f19e3d3061}{LastError}}() const noexcept \{ \textcolor{keywordflow}{return} m\_lastError; \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80           \textcolor{keyword}{private}:}
\DoxyCodeLine{81             \mbox{\hyperlink{structaws__allocator}{Crt::Allocator}} *m\_allocator;}
\DoxyCodeLine{82             \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a09b588a32427e8a6cc07bb218c536e48}{ReportTaskStatus}} m\_status;}
\DoxyCodeLine{83             aws\_iotdevice\_defender\_task\_config *m\_taskConfig;}
\DoxyCodeLine{84             aws\_iotdevice\_defender\_task *m\_owningTask;}
\DoxyCodeLine{85             \textcolor{keywordtype}{int} m\_lastError;}
\DoxyCodeLine{86             std::shared\_ptr<Crt::Mqtt::MqttConnection> m\_mqttConnection;}
\DoxyCodeLine{87             \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_event_loop_group}{Crt::Io::EventLoopGroup}} \&m\_eventLoopGroup;}
\DoxyCodeLine{88 }
\DoxyCodeLine{89             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task}{ReportTask}}(}
\DoxyCodeLine{90                 \mbox{\hyperlink{structaws__allocator}{Crt::Allocator}} *\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}},}
\DoxyCodeLine{91                 std::shared\_ptr<Crt::Mqtt::MqttConnection> mqttConnection,}
\DoxyCodeLine{92                 \textcolor{keyword}{const} \mbox{\hyperlink{namespace_aws_1_1_crt_a865381ab2bc5db45524fa6ce43c394c3}{Crt::String}} \&thingName,}
\DoxyCodeLine{93                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_event_loop_group}{Crt::Io::EventLoopGroup}} \&eventLoopGroup,}
\DoxyCodeLine{94                 \mbox{\hyperlink{device__defender_8h_adf4df3bc233ba928ffab5dafe05fb9d4}{ReportFormat}} reportFormat,}
\DoxyCodeLine{95                 uint32\_t taskPeriodSeconds,}
\DoxyCodeLine{96                 uint32\_t networkConnectionSamplePeriodSeconds,}
\DoxyCodeLine{97                 \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a809b6645d5d82549c8a2436fc68a6925}{OnTaskCancelledHandler}} \&\&onCancelled = \mbox{\hyperlink{namespace_aws_a41b67e809416e9bd96026fa1f414925d}{NULL}},}
\DoxyCodeLine{98                 \textcolor{keywordtype}{void} *cancellationUserdata = \textcolor{keyword}{nullptr}) noexcept;}
\DoxyCodeLine{99 }
\DoxyCodeLine{100             static \textcolor{keywordtype}{void} s\_onDefenderV1TaskCancelled(\textcolor{keywordtype}{void} *userData);}
\DoxyCodeLine{101         \};}
\DoxyCodeLine{102 }
\DoxyCodeLine{106         class \mbox{\hyperlink{devicedefender_2include_2aws_2iotdevicedefender_2_exports_8h_aa6735d61baab66e47a24794702ee4444}{AWS\_IOTDEVICEDEFENDER\_API}} \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}} \mbox{\hyperlink{lookup3_8inl_ab4646d77540701d2eb2c877effbe5739}{final}}}
\DoxyCodeLine{107         \{}
\DoxyCodeLine{108           \textcolor{keyword}{public}:}
\DoxyCodeLine{109             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}}(}
\DoxyCodeLine{110                 \mbox{\hyperlink{structaws__allocator}{Crt::Allocator}} *\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}},}
\DoxyCodeLine{111                 std::shared\_ptr<Crt::Mqtt::MqttConnection> mqttConnection,}
\DoxyCodeLine{112                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_event_loop_group}{Crt::Io::EventLoopGroup}} \&eventLoopGroup,}
\DoxyCodeLine{113                 \textcolor{keyword}{const} \mbox{\hyperlink{namespace_aws_1_1_crt_a865381ab2bc5db45524fa6ce43c394c3}{Crt::String}} \&thingName);}
\DoxyCodeLine{114 }
\DoxyCodeLine{118             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}} \&WithReportFormat(\mbox{\hyperlink{device__defender_8h_adf4df3bc233ba928ffab5dafe05fb9d4}{ReportFormat}} reportFormat) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{119 }
\DoxyCodeLine{123             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}} \&WithTaskPeriodSeconds(uint32\_t taskPeriodSeconds) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{124 }
\DoxyCodeLine{128             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}} \&WithNetworkConnectionSamplePeriodSeconds(}
\DoxyCodeLine{129                 uint32\_t networkConnectionSamplePeriodSeconds) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{130 }
\DoxyCodeLine{134             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}} \&WithTaskCancelledHandler(\mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a809b6645d5d82549c8a2436fc68a6925}{OnTaskCancelledHandler}} \&\&onCancelled) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{135 }
\DoxyCodeLine{139             \mbox{\hyperlink{class_aws_1_1_iotdevicedefenderv1_1_1_report_task_builder}{ReportTaskBuilder}} \&WithTaskCancellationUserData(\textcolor{keywordtype}{void} *cancellationUserdata) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{140 }
\DoxyCodeLine{144             std::shared\_ptr<ReportTask> Build() \textcolor{keyword}{noexcept};}
\DoxyCodeLine{145 }
\DoxyCodeLine{146           \textcolor{keyword}{private}:}
\DoxyCodeLine{147             \mbox{\hyperlink{structaws__allocator}{Crt::Allocator}} *m\_allocator;}
\DoxyCodeLine{148             std::shared\_ptr<Crt::Mqtt::MqttConnection> m\_mqttConnection;}
\DoxyCodeLine{149             \mbox{\hyperlink{namespace_aws_1_1_crt_a865381ab2bc5db45524fa6ce43c394c3}{Crt::String}} m\_thingName;}
\DoxyCodeLine{150             \mbox{\hyperlink{class_aws_1_1_crt_1_1_io_1_1_event_loop_group}{Crt::Io::EventLoopGroup}} \&m\_eventLoopGroup;}
\DoxyCodeLine{151             \mbox{\hyperlink{device__defender_8h_adf4df3bc233ba928ffab5dafe05fb9d4}{ReportFormat}} m\_reportFormat;}
\DoxyCodeLine{152             uint32\_t m\_taskPeriodSeconds;}
\DoxyCodeLine{153             uint32\_t m\_networkConnectionSamplePeriodSeconds;}
\DoxyCodeLine{154             \mbox{\hyperlink{namespace_aws_1_1_iotdevicedefenderv1_a809b6645d5d82549c8a2436fc68a6925}{OnTaskCancelledHandler}} m\_onCancelled;}
\DoxyCodeLine{155             \textcolor{keywordtype}{void} *m\_cancellationUserdata;}
\DoxyCodeLine{156         \};}
\DoxyCodeLine{157 }
\DoxyCodeLine{158     \} \textcolor{comment}{// namespace Iotdevicedefenderv1}}
\DoxyCodeLine{159 \} \textcolor{comment}{// namespace Aws}}

\end{DoxyCode}
