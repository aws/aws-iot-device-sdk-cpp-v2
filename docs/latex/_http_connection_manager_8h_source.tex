\hypertarget{_http_connection_manager_8h_source}{}\doxysection{Http\+Connection\+Manager.\+h}
\label{_http_connection_manager_8h_source}\index{crt/aws-\/crt-\/cpp/include/aws/crt/http/HttpConnectionManager.h@{crt/aws-\/crt-\/cpp/include/aws/crt/http/HttpConnectionManager.h}}
\mbox{\hyperlink{_http_connection_manager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_http_connection_8h}{aws/crt/http/HttpConnection.h}}>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <condition\_variable>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <future>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <mutex>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__http__connection__manager}{aws\_http\_connection\_manager}};}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_aws}{Aws}}}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{17     \textcolor{keyword}{namespace }Crt}
\DoxyCodeLine{18     \{}
\DoxyCodeLine{19         \textcolor{keyword}{namespace }Http}
\DoxyCodeLine{20         \{}
\DoxyCodeLine{26             \textcolor{keyword}{using} \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_http_abf17b6f7768fa03af126b8c812ef9bd1}{OnClientConnectionAvailable}} =}
\DoxyCodeLine{27                 std::function<void(std::shared\_ptr<HttpClientConnection>, \textcolor{keywordtype}{int} errorCode)>;}
\DoxyCodeLine{28 }
\DoxyCodeLine{32             \textcolor{keyword}{class }\mbox{\hyperlink{crt_2aws-crt-cpp_2include_2aws_2crt_2_exports_8h_a0a3f6c46aee6b588ce99a142cdb22d1d}{AWS\_CRT\_CPP\_API}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}}}
\DoxyCodeLine{33             \{}
\DoxyCodeLine{34               \textcolor{keyword}{public}:}
\DoxyCodeLine{35                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}}() \textcolor{keyword}{noexcept};}
\DoxyCodeLine{36                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options_ae9d7c43df048a3ed7d58cfe174fda598}{HttpClientConnectionManagerOptions}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} \&rhs) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{37                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options_ad0b12376571150ca1733de2e470ed2dc}{HttpClientConnectionManagerOptions}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} \&\&rhs) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{38 }
\DoxyCodeLine{39                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options_a2c042902867aa9d030120ee3d5db9e75}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} \&rhs) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{40                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} \&\mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options_a86670420b331cb8fdc752aa9343b261a}{operator=}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} \&\&rhs) = \textcolor{keywordflow}{default};}
\DoxyCodeLine{41 }
\DoxyCodeLine{45                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_options}{HttpClientConnectionOptions}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options_a17e375fc50cc7a74302ecc284bb1bb0f}{ConnectionOptions}};}
\DoxyCodeLine{46 }
\DoxyCodeLine{50                 \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options_a7fb01bcc751c2f6af2f622682cbe45eb}{MaxConnections}};}
\DoxyCodeLine{51 }
\DoxyCodeLine{59                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options_ad11468906db10b1ef09583efabcbce2d}{EnableBlockingShutdown}};}
\DoxyCodeLine{60             \};}
\DoxyCodeLine{61 }
\DoxyCodeLine{65             \textcolor{keyword}{class }\mbox{\hyperlink{crt_2aws-crt-cpp_2include_2aws_2crt_2_exports_8h_a0a3f6c46aee6b588ce99a142cdb22d1d}{AWS\_CRT\_CPP\_API}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager}{HttpClientConnectionManager}} \mbox{\hyperlink{lookup3_8inl_ab4646d77540701d2eb2c877effbe5739}{final}}}
\DoxyCodeLine{66                 : \textcolor{keyword}{public} std::enable\_shared\_from\_this<HttpClientConnectionManager>}
\DoxyCodeLine{67             \{}
\DoxyCodeLine{68               \textcolor{keyword}{public}:}
\DoxyCodeLine{69                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager}{\string~HttpClientConnectionManager}}();}
\DoxyCodeLine{70 }
\DoxyCodeLine{77                 \textcolor{keywordtype}{bool} AcquireConnection(\textcolor{keyword}{const} \mbox{\hyperlink{namespace_aws_1_1_crt_1_1_http_abf17b6f7768fa03af126b8c812ef9bd1}{OnClientConnectionAvailable}} \&onClientConnectionAvailable) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{78 }
\DoxyCodeLine{85                 std::future<void> InitiateShutdown() \textcolor{keyword}{noexcept};}
\DoxyCodeLine{86 }
\DoxyCodeLine{90                 \textcolor{keyword}{static} std::shared\_ptr<HttpClientConnectionManager> NewClientConnectionManager(}
\DoxyCodeLine{91                     \textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} \&connectionManagerOptions,}
\DoxyCodeLine{92                     \mbox{\hyperlink{structaws__allocator}{Allocator}} *allocator = \mbox{\hyperlink{namespace_aws_1_1_crt_a7178ef65f261a8db52a624458331bbb2}{g\_allocator}}) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{93 }
\DoxyCodeLine{94               \textcolor{keyword}{private}:}
\DoxyCodeLine{95                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager}{HttpClientConnectionManager}}(}
\DoxyCodeLine{96                     \textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} \&options,}
\DoxyCodeLine{97                     \mbox{\hyperlink{structaws__allocator}{Allocator}} *allocator = \mbox{\hyperlink{namespace_aws_1_1_crt_a7178ef65f261a8db52a624458331bbb2}{g\_allocator}}) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{98 }
\DoxyCodeLine{99                 \mbox{\hyperlink{structaws__allocator}{Allocator}} *m\_allocator;}
\DoxyCodeLine{100 }
\DoxyCodeLine{101                 \mbox{\hyperlink{structaws__http__connection__manager}{aws\_http\_connection\_manager}} *m\_connectionManager;}
\DoxyCodeLine{102 }
\DoxyCodeLine{103                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_http_client_connection_manager_options}{HttpClientConnectionManagerOptions}} m\_options;}
\DoxyCodeLine{104                 std::promise<void> m\_shutdownPromise;}
\DoxyCodeLine{105                 std::atomic<bool> m\_releaseInvoked;}
\DoxyCodeLine{106 }
\DoxyCodeLine{107                 \textcolor{keyword}{static} \textcolor{keywordtype}{void} s\_onConnectionSetup(}
\DoxyCodeLine{108                     \mbox{\hyperlink{structaws__http__connection}{aws\_http\_connection}} *connection,}
\DoxyCodeLine{109                     \textcolor{keywordtype}{int} errorCode,}
\DoxyCodeLine{110                     \textcolor{keywordtype}{void} *userData) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{111 }
\DoxyCodeLine{112                 \textcolor{keyword}{static} \textcolor{keywordtype}{void} s\_shutdownCompleted(\textcolor{keywordtype}{void} *userData) \textcolor{keyword}{noexcept};}
\DoxyCodeLine{113 }
\DoxyCodeLine{114                 \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{class_aws_1_1_crt_1_1_http_1_1_managed_connection}{ManagedConnection}};}
\DoxyCodeLine{115             \};}
\DoxyCodeLine{116         \} \textcolor{comment}{// namespace Http}}
\DoxyCodeLine{117     \}     \textcolor{comment}{// namespace Crt}}
\DoxyCodeLine{118 \} \textcolor{comment}{// namespace Aws}}

\end{DoxyCode}
