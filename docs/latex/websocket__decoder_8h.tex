\hypertarget{websocket__decoder_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/private/websocket\+\_\+decoder.h File Reference}
\label{websocket__decoder_8h}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/private/websocket\_decoder.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/private/websocket\_decoder.h}}
{\ttfamily \#include $<$aws/http/private/websocket\+\_\+impl.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__websocket__decoder}{aws\+\_\+websocket\+\_\+decoder}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int() \mbox{\hyperlink{websocket__decoder_8h_a500a94daa4d5564f07794f8280a121e1}{aws\+\_\+websocket\+\_\+decoder\+\_\+frame\+\_\+fn}}(const struct \mbox{\hyperlink{structaws__websocket__frame}{aws\+\_\+websocket\+\_\+frame}} $\ast$frame, void $\ast$user\+\_\+data)
\item 
typedef int() \mbox{\hyperlink{websocket__decoder_8h_a07eafb6d2e544a056420074ae68c2808}{aws\+\_\+websocket\+\_\+decoder\+\_\+payload\+\_\+fn}}(struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} data, void $\ast$user\+\_\+data)
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469}{aws\+\_\+websocket\+\_\+decoder\+\_\+state}} \{ \newline
\mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a2acedb28179520ab10271bd26de7f16a}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+INIT}}
, \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469afef261b5dbbf35d827ddf1baea3a4691}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+OPCODE\+\_\+\+BYTE}}
, \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a06017d4d221aa964c5f131b4ff1b62e3}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+LENGTH\+\_\+\+BYTE}}
, \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469aa2416f9dd7e11d91c59ab1a8ff72c4f2}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+EXTENDED\+\_\+\+LENGTH}}
, \newline
\mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a46fde057c8b854f83207e864fd9896d6}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+MASKING\+\_\+\+KEY\+\_\+\+CHECK}}
, \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a6ca5b45819dba480c4f0c24c9ac44df2}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+MASKING\+\_\+\+KEY}}
, \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a0f53c345591ebfbe5cfcb7abc5364ddd}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+PAYLOAD\+\_\+\+CHECK}}
, \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a29d8506aead4dd61085152c8313c6007}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+PAYLOAD}}
, \newline
\mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a95c7627bbd12d467ef03075ca25a7595}{AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+DONE}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} void \mbox{\hyperlink{websocket__decoder_8h_a2453010a4195d01e3b5fb22793978b65}{aws\+\_\+websocket\+\_\+decoder\+\_\+init}} (struct \mbox{\hyperlink{structaws__websocket__decoder}{aws\+\_\+websocket\+\_\+decoder}} $\ast$decoder, \mbox{\hyperlink{websocket__decoder_8h_a500a94daa4d5564f07794f8280a121e1}{aws\+\_\+websocket\+\_\+decoder\+\_\+frame\+\_\+fn}} $\ast$on\+\_\+frame, \mbox{\hyperlink{websocket__decoder_8h_a07eafb6d2e544a056420074ae68c2808}{aws\+\_\+websocket\+\_\+decoder\+\_\+payload\+\_\+fn}} $\ast$on\+\_\+payload, void $\ast$user\+\_\+data)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int \mbox{\hyperlink{websocket__decoder_8h_a53fa736a27af409a90401914df800650}{aws\+\_\+websocket\+\_\+decoder\+\_\+process}} (struct \mbox{\hyperlink{structaws__websocket__decoder}{aws\+\_\+websocket\+\_\+decoder}} $\ast$decoder, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$data, bool $\ast$frame\+\_\+complete)
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{websocket__decoder_8h_a500a94daa4d5564f07794f8280a121e1}\label{websocket__decoder_8h_a500a94daa4d5564f07794f8280a121e1}} 
\index{websocket\_decoder.h@{websocket\_decoder.h}!aws\_websocket\_decoder\_frame\_fn@{aws\_websocket\_decoder\_frame\_fn}}
\index{aws\_websocket\_decoder\_frame\_fn@{aws\_websocket\_decoder\_frame\_fn}!websocket\_decoder.h@{websocket\_decoder.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_decoder\_frame\_fn}{aws\_websocket\_decoder\_frame\_fn}}
{\footnotesize\ttfamily typedef int() aws\+\_\+websocket\+\_\+decoder\+\_\+frame\+\_\+fn(const struct \mbox{\hyperlink{structaws__websocket__frame}{aws\+\_\+websocket\+\_\+frame}} $\ast$frame, void $\ast$user\+\_\+data)}

Copyright Amazon.\+com, Inc. or its affiliates. All Rights Reserved. SPDX-\/\+License-\/\+Identifier\+: Apache-\/2.\+0. \mbox{\Hypertarget{websocket__decoder_8h_a07eafb6d2e544a056420074ae68c2808}\label{websocket__decoder_8h_a07eafb6d2e544a056420074ae68c2808}} 
\index{websocket\_decoder.h@{websocket\_decoder.h}!aws\_websocket\_decoder\_payload\_fn@{aws\_websocket\_decoder\_payload\_fn}}
\index{aws\_websocket\_decoder\_payload\_fn@{aws\_websocket\_decoder\_payload\_fn}!websocket\_decoder.h@{websocket\_decoder.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_decoder\_payload\_fn}{aws\_websocket\_decoder\_payload\_fn}}
{\footnotesize\ttfamily typedef int() aws\+\_\+websocket\+\_\+decoder\+\_\+payload\+\_\+fn(struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} data, void $\ast$user\+\_\+data)}



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469}} 
\index{websocket\_decoder.h@{websocket\_decoder.h}!aws\_websocket\_decoder\_state@{aws\_websocket\_decoder\_state}}
\index{aws\_websocket\_decoder\_state@{aws\_websocket\_decoder\_state}!websocket\_decoder.h@{websocket\_decoder.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_decoder\_state}{aws\_websocket\_decoder\_state}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469}{aws\+\_\+websocket\+\_\+decoder\+\_\+state}}}

Each state consumes data and/or moves decoder to a subsequent state. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_INIT@{AWS\_WEBSOCKET\_DECODER\_STATE\_INIT}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_INIT@{AWS\_WEBSOCKET\_DECODER\_STATE\_INIT}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a2acedb28179520ab10271bd26de7f16a}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a2acedb28179520ab10271bd26de7f16a}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+INIT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_OPCODE\_BYTE@{AWS\_WEBSOCKET\_DECODER\_STATE\_OPCODE\_BYTE}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_OPCODE\_BYTE@{AWS\_WEBSOCKET\_DECODER\_STATE\_OPCODE\_BYTE}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469afef261b5dbbf35d827ddf1baea3a4691}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469afef261b5dbbf35d827ddf1baea3a4691}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+OPCODE\+\_\+\+BYTE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_LENGTH\_BYTE@{AWS\_WEBSOCKET\_DECODER\_STATE\_LENGTH\_BYTE}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_LENGTH\_BYTE@{AWS\_WEBSOCKET\_DECODER\_STATE\_LENGTH\_BYTE}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a06017d4d221aa964c5f131b4ff1b62e3}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a06017d4d221aa964c5f131b4ff1b62e3}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+LENGTH\+\_\+\+BYTE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_EXTENDED\_LENGTH@{AWS\_WEBSOCKET\_DECODER\_STATE\_EXTENDED\_LENGTH}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_EXTENDED\_LENGTH@{AWS\_WEBSOCKET\_DECODER\_STATE\_EXTENDED\_LENGTH}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469aa2416f9dd7e11d91c59ab1a8ff72c4f2}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469aa2416f9dd7e11d91c59ab1a8ff72c4f2}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+EXTENDED\+\_\+\+LENGTH&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY\_CHECK@{AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY\_CHECK}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY\_CHECK@{AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY\_CHECK}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a46fde057c8b854f83207e864fd9896d6}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a46fde057c8b854f83207e864fd9896d6}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+MASKING\+\_\+\+KEY\+\_\+\+CHECK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY@{AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY@{AWS\_WEBSOCKET\_DECODER\_STATE\_MASKING\_KEY}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a6ca5b45819dba480c4f0c24c9ac44df2}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a6ca5b45819dba480c4f0c24c9ac44df2}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+MASKING\+\_\+\+KEY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD\_CHECK@{AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD\_CHECK}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD\_CHECK@{AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD\_CHECK}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a0f53c345591ebfbe5cfcb7abc5364ddd}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a0f53c345591ebfbe5cfcb7abc5364ddd}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+PAYLOAD\+\_\+\+CHECK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD@{AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD@{AWS\_WEBSOCKET\_DECODER\_STATE\_PAYLOAD}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a29d8506aead4dd61085152c8313c6007}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a29d8506aead4dd61085152c8313c6007}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+PAYLOAD&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_DECODER\_STATE\_DONE@{AWS\_WEBSOCKET\_DECODER\_STATE\_DONE}!websocket\_decoder.h@{websocket\_decoder.h}}\index{websocket\_decoder.h@{websocket\_decoder.h}!AWS\_WEBSOCKET\_DECODER\_STATE\_DONE@{AWS\_WEBSOCKET\_DECODER\_STATE\_DONE}}}\mbox{\Hypertarget{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a95c7627bbd12d467ef03075ca25a7595}\label{websocket__decoder_8h_a66ab202976c0cf938a41a9f411f74469a95c7627bbd12d467ef03075ca25a7595}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+DECODER\+\_\+\+STATE\+\_\+\+DONE&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{websocket__decoder_8h_a2453010a4195d01e3b5fb22793978b65}\label{websocket__decoder_8h_a2453010a4195d01e3b5fb22793978b65}} 
\index{websocket\_decoder.h@{websocket\_decoder.h}!aws\_websocket\_decoder\_init@{aws\_websocket\_decoder\_init}}
\index{aws\_websocket\_decoder\_init@{aws\_websocket\_decoder\_init}!websocket\_decoder.h@{websocket\_decoder.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_decoder\_init()}{aws\_websocket\_decoder\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} void aws\+\_\+websocket\+\_\+decoder\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket__decoder}{aws\+\_\+websocket\+\_\+decoder}} $\ast$}]{decoder,  }\item[{\mbox{\hyperlink{websocket__decoder_8h_a500a94daa4d5564f07794f8280a121e1}{aws\+\_\+websocket\+\_\+decoder\+\_\+frame\+\_\+fn}} $\ast$}]{on\+\_\+frame,  }\item[{\mbox{\hyperlink{websocket__decoder_8h_a07eafb6d2e544a056420074ae68c2808}{aws\+\_\+websocket\+\_\+decoder\+\_\+payload\+\_\+fn}} $\ast$}]{on\+\_\+payload,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})}

\mbox{\Hypertarget{websocket__decoder_8h_a53fa736a27af409a90401914df800650}\label{websocket__decoder_8h_a53fa736a27af409a90401914df800650}} 
\index{websocket\_decoder.h@{websocket\_decoder.h}!aws\_websocket\_decoder\_process@{aws\_websocket\_decoder\_process}}
\index{aws\_websocket\_decoder\_process@{aws\_websocket\_decoder\_process}!websocket\_decoder.h@{websocket\_decoder.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_decoder\_process()}{aws\_websocket\_decoder\_process()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int aws\+\_\+websocket\+\_\+decoder\+\_\+process (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket__decoder}{aws\+\_\+websocket\+\_\+decoder}} $\ast$}]{decoder,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{data,  }\item[{bool $\ast$}]{frame\+\_\+complete }\end{DoxyParamCaption})}

Returns when all data is processed, or a frame and its payload have completed. {\ttfamily data} will be advanced to reflect the amount of data processed by this call. {\ttfamily frame\+\_\+complete} will be set true if this call returned due to completion of a frame. The {\ttfamily on\+\_\+frame} and {\ttfamily on\+\_\+payload} callbacks may each be invoked once as a result of this call. If an error occurs, the decoder is invalid forevermore. 