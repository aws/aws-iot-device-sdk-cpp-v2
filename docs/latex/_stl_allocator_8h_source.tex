\hypertarget{_stl_allocator_8h_source}{}\doxysection{Stl\+Allocator.\+h}
\label{_stl_allocator_8h_source}\index{crt/aws-\/crt-\/cpp/include/aws/crt/StlAllocator.h@{crt/aws-\/crt-\/cpp/include/aws/crt/StlAllocator.h}}
\mbox{\hyperlink{_stl_allocator_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{aws-c-common_2include_2aws_2common_2common_8h}{aws/common/common.h}}>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{crt_2aws-crt-cpp_2include_2aws_2crt_2_exports_8h}{aws/crt/Exports.h}}>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_aws}{Aws}}}
\DoxyCodeLine{13 \{}
\DoxyCodeLine{14     \textcolor{keyword}{namespace }Crt}
\DoxyCodeLine{15     \{}
\DoxyCodeLine{16         \textcolor{keyword}{using} \mbox{\hyperlink{structaws__allocator}{Allocator}} = \mbox{\hyperlink{structaws__allocator}{aws\_allocator}};}
\DoxyCodeLine{17         \textcolor{keyword}{extern} \mbox{\hyperlink{crt_2aws-crt-cpp_2include_2aws_2crt_2_exports_8h_a0a3f6c46aee6b588ce99a142cdb22d1d}{AWS\_CRT\_CPP\_API}} \mbox{\hyperlink{structaws__allocator}{Allocator}} *\mbox{\hyperlink{namespace_aws_1_1_crt_a7178ef65f261a8db52a624458331bbb2}{g\_allocator}};}
\DoxyCodeLine{18 }
\DoxyCodeLine{19         \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{class }\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator}{StlAllocator}} : \textcolor{keyword}{public} std::allocator<T>}
\DoxyCodeLine{20         \{}
\DoxyCodeLine{21           \textcolor{keyword}{public}:}
\DoxyCodeLine{22             \textcolor{keyword}{using} \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_ad7e471cb2839c664bb211d0057cd543a}{Base}} = std::allocator<T>;}
\DoxyCodeLine{23 }
\DoxyCodeLine{24             \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a7a33fce7a208df119287657f3555f261}{StlAllocator}}() noexcept : \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_ad7e471cb2839c664bb211d0057cd543a}{Base}}() \{ \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}} = \mbox{\hyperlink{namespace_aws_1_1_crt_a7178ef65f261a8db52a624458331bbb2}{g\_allocator}}; \}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26             \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a4744bfdb69fa6c0514fd8425a9cea7f3}{StlAllocator}}(\mbox{\hyperlink{structaws__allocator}{Allocator}} *allocator) noexcept : \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_ad7e471cb2839c664bb211d0057cd543a}{Base}}() \{ \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}} = allocator; \}}
\DoxyCodeLine{27 }
\DoxyCodeLine{28             \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_ae1d130f0891abd502d3c43c8b326366c}{StlAllocator}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator}{StlAllocator<T>}} \&\mbox{\hyperlink{namespace_aws_a63d22a0af7bbcae8152004baa4756a4d}{a}}) noexcept : \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_ad7e471cb2839c664bb211d0057cd543a}{Base}}(\mbox{\hyperlink{namespace_aws_a63d22a0af7bbcae8152004baa4756a4d}{a}}) \{ \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}} = \mbox{\hyperlink{namespace_aws_a63d22a0af7bbcae8152004baa4756a4d}{a}}.m\_allocator; \}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30             \textcolor{keyword}{template} <\textcolor{keyword}{class} U> \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_ab13b3c5a2a89fdc649346876c1570153}{StlAllocator}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator}{StlAllocator<U>}} \&\mbox{\hyperlink{namespace_aws_a63d22a0af7bbcae8152004baa4756a4d}{a}}) noexcept : \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_ad7e471cb2839c664bb211d0057cd543a}{Base}}(\mbox{\hyperlink{namespace_aws_a63d22a0af7bbcae8152004baa4756a4d}{a}})}
\DoxyCodeLine{31             \{}
\DoxyCodeLine{32                 \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}} = \mbox{\hyperlink{namespace_aws_a63d22a0af7bbcae8152004baa4756a4d}{a}}.m\_allocator;}
\DoxyCodeLine{33             \}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35             \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_acb81e21dc53ebebe6a5a8d6cb447fdcd}{\string~StlAllocator}}() \{\}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37             \textcolor{keyword}{using} \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a2791ff1e4ee66eadf9b9e78714de824d}{size\_type}} = std::size\_t;}
\DoxyCodeLine{38 }
\DoxyCodeLine{39             \textcolor{keyword}{template} <\textcolor{keyword}{typename} U> \textcolor{keyword}{struct }\mbox{\hyperlink{struct_aws_1_1_crt_1_1_stl_allocator_1_1rebind}{rebind}}}
\DoxyCodeLine{40             \{}
\DoxyCodeLine{41                 \textcolor{keyword}{typedef} \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator}{StlAllocator<U>}} \mbox{\hyperlink{struct_aws_1_1_crt_1_1_stl_allocator_1_1rebind_a5105f935d27565c80cc2768baea17723}{other}};}
\DoxyCodeLine{42             \};}
\DoxyCodeLine{43 }
\DoxyCodeLine{44             \textcolor{keyword}{using} \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a08643480cd7c52083c48e914a83ca878}{RawPointer}} = \textcolor{keyword}{typename} std::allocator\_traits<std::allocator<T>>::pointer;}
\DoxyCodeLine{45 }
\DoxyCodeLine{46             \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a08643480cd7c52083c48e914a83ca878}{RawPointer}} \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a240c6a2eeee33f591f93eaed9ebc312b}{allocate}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a2791ff1e4ee66eadf9b9e78714de824d}{size\_type}} \mbox{\hyperlink{namespace_aws_a56a46d10ee9f89f5ff63ceb62ec27991}{n}}, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *hint = \textcolor{keyword}{nullptr})}
\DoxyCodeLine{47             \{}
\DoxyCodeLine{48                 (void)hint;}
\DoxyCodeLine{49                 \mbox{\hyperlink{assert_8h_a2c17f0f768532f761b99a8fee0c656f1}{AWS\_ASSERT}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}});}
\DoxyCodeLine{50                 \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a08643480cd7c52083c48e914a83ca878}{RawPointer}}\textcolor{keyword}{>}(\mbox{\hyperlink{allocator_8h_a5137d8d9aa39ddc261c3cb5e54c2c302}{aws\_mem\_acquire}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}}, \mbox{\hyperlink{namespace_aws_a56a46d10ee9f89f5ff63ceb62ec27991}{n}} * \textcolor{keyword}{sizeof}(T)));}
\DoxyCodeLine{51             \}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53             \textcolor{keywordtype}{void} \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a060ac0a43eb52efd4e32889fa298561e}{deallocate}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a08643480cd7c52083c48e914a83ca878}{RawPointer}} \mbox{\hyperlink{namespace_aws_a704cef6a112538ac7afcf5098d6d248f}{p}}, \mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a2791ff1e4ee66eadf9b9e78714de824d}{size\_type}})}
\DoxyCodeLine{54             \{}
\DoxyCodeLine{55                 \mbox{\hyperlink{assert_8h_a2c17f0f768532f761b99a8fee0c656f1}{AWS\_ASSERT}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}});}
\DoxyCodeLine{56                 \mbox{\hyperlink{allocator_8h_ac34324e684063da863a00f4fb8129906}{aws\_mem\_release}}(\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}}, \mbox{\hyperlink{namespace_aws_a704cef6a112538ac7afcf5098d6d248f}{p}});}
\DoxyCodeLine{57             \}}
\DoxyCodeLine{58 }
\DoxyCodeLine{59             \mbox{\hyperlink{structaws__allocator}{Allocator}} *\mbox{\hyperlink{class_aws_1_1_crt_1_1_stl_allocator_a300fc6267ca73db38028df6a2983793a}{m\_allocator}};}
\DoxyCodeLine{60         \};}
\DoxyCodeLine{61     \} \textcolor{comment}{// namespace Crt}}
\DoxyCodeLine{62 \} \textcolor{comment}{// namespace Aws}}

\end{DoxyCode}
