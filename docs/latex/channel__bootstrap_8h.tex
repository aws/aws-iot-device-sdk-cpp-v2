\hypertarget{channel__bootstrap_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/include/aws/io/channel\+\_\+bootstrap.h File Reference}
\label{channel__bootstrap_8h}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/include/aws/io/channel\_bootstrap.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/include/aws/io/channel\_bootstrap.h}}
{\ttfamily \#include $<$aws/common/ref\+\_\+count.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/channel.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/host\+\_\+resolver.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}}
\item 
struct \mbox{\hyperlink{structaws__client__bootstrap__options}{aws\+\_\+client\+\_\+bootstrap\+\_\+options}}
\item 
struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}}
\item 
struct \mbox{\hyperlink{structaws__socket__channel__bootstrap__options}{aws\+\_\+socket\+\_\+channel\+\_\+bootstrap\+\_\+options}}
\item 
struct \mbox{\hyperlink{structaws__server__socket__channel__bootstrap__options}{aws\+\_\+server\+\_\+socket\+\_\+channel\+\_\+bootstrap\+\_\+options}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void() \mbox{\hyperlink{channel__bootstrap_8h_a414ed9b93c1890d5292fa22b405539d2}{aws\+\_\+client\+\_\+bootstrap\+\_\+on\+\_\+channel\+\_\+event\+\_\+fn}}(struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$bootstrap, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$channel, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
typedef struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$() \mbox{\hyperlink{channel__bootstrap_8h_a1dc65b7da6b1ca0ae3a6e13264cd2ca0}{aws\+\_\+channel\+\_\+on\+\_\+protocol\+\_\+negotiated\+\_\+fn}}(struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$new\+\_\+slot, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$protocol, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
typedef void \mbox{\hyperlink{channel__bootstrap_8h_ac1fb6ae6b6df4ee077af50d2d94b94b9}{aws\+\_\+client\+\_\+bootstrap\+\_\+shutdown\+\_\+complete\+\_\+fn}}(void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
typedef void() \mbox{\hyperlink{channel__bootstrap_8h_a000bdecbc51db8d47c736c53015dbb67}{aws\+\_\+server\+\_\+bootstrap\+\_\+on\+\_\+accept\+\_\+channel\+\_\+setup\+\_\+fn}}(struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$channel, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
typedef void() \mbox{\hyperlink{channel__bootstrap_8h_a51c1bf25cc4fe1c46a45cfa86a7da308}{aws\+\_\+server\+\_\+bootstrap\+\_\+on\+\_\+accept\+\_\+channel\+\_\+shutdown\+\_\+fn}}(struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$channel, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
typedef void() \mbox{\hyperlink{channel__bootstrap_8h_a7c501f6beabaa5ee62d8ee7d451e48af}{aws\+\_\+server\+\_\+bootstrap\+\_\+on\+\_\+server\+\_\+listener\+\_\+destroy\+\_\+fn}}(struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$ \mbox{\hyperlink{channel__bootstrap_8h_a4e0a35301e332c74656e9b1ac284a060}{aws\+\_\+client\+\_\+bootstrap\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, const struct \mbox{\hyperlink{structaws__client__bootstrap__options}{aws\+\_\+client\+\_\+bootstrap\+\_\+options}} $\ast$options)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$ \mbox{\hyperlink{channel__bootstrap_8h_a95a6a9b08e2f4706e6df6cc468869042}{aws\+\_\+client\+\_\+bootstrap\+\_\+acquire}} (struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$bootstrap)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void \mbox{\hyperlink{channel__bootstrap_8h_abb8be16e6eb7bc524caaf35abb59ea8f}{aws\+\_\+client\+\_\+bootstrap\+\_\+release}} (struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$bootstrap)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int \mbox{\hyperlink{channel__bootstrap_8h_aefac7664620cbf351f589656700841c9}{aws\+\_\+client\+\_\+bootstrap\+\_\+set\+\_\+alpn\+\_\+callback}} (struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$bootstrap, \mbox{\hyperlink{channel__bootstrap_8h_a1dc65b7da6b1ca0ae3a6e13264cd2ca0}{aws\+\_\+channel\+\_\+on\+\_\+protocol\+\_\+negotiated\+\_\+fn}} $\ast$on\+\_\+protocol\+\_\+negotiated)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int \mbox{\hyperlink{channel__bootstrap_8h_a6444a3d5af1927a0bdebd448aca21a67}{aws\+\_\+client\+\_\+bootstrap\+\_\+new\+\_\+socket\+\_\+channel}} (struct \mbox{\hyperlink{structaws__socket__channel__bootstrap__options}{aws\+\_\+socket\+\_\+channel\+\_\+bootstrap\+\_\+options}} $\ast$options)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$ \mbox{\hyperlink{channel__bootstrap_8h_ac32cb5dad90823f4a6d7778250881b54}{aws\+\_\+server\+\_\+bootstrap\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$el\+\_\+group)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$ \mbox{\hyperlink{channel__bootstrap_8h_a2bab66478bc0fca8ca8a01f20c0042eb}{aws\+\_\+server\+\_\+bootstrap\+\_\+acquire}} (struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void \mbox{\hyperlink{channel__bootstrap_8h_a63610de5a611fb0fc93ee465abe0fb6d}{aws\+\_\+server\+\_\+bootstrap\+\_\+release}} (struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int \mbox{\hyperlink{channel__bootstrap_8h_a035cd88654dfdbbde18080bf77d6c775}{aws\+\_\+server\+\_\+bootstrap\+\_\+set\+\_\+alpn\+\_\+callback}} (struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap, \mbox{\hyperlink{channel__bootstrap_8h_a1dc65b7da6b1ca0ae3a6e13264cd2ca0}{aws\+\_\+channel\+\_\+on\+\_\+protocol\+\_\+negotiated\+\_\+fn}} $\ast$on\+\_\+protocol\+\_\+negotiated)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__socket}{aws\+\_\+socket}} $\ast$ \mbox{\hyperlink{channel__bootstrap_8h_ae86a947fd10e7b558ac538cbd61967f7}{aws\+\_\+server\+\_\+bootstrap\+\_\+new\+\_\+socket\+\_\+listener}} (const struct \mbox{\hyperlink{structaws__server__socket__channel__bootstrap__options}{aws\+\_\+server\+\_\+socket\+\_\+channel\+\_\+bootstrap\+\_\+options}} $\ast$bootstrap\+\_\+options)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void \mbox{\hyperlink{channel__bootstrap_8h_a2ab045243e1ca2147c134bc81c0cb5f2}{aws\+\_\+server\+\_\+bootstrap\+\_\+destroy\+\_\+socket\+\_\+listener}} (struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap, struct \mbox{\hyperlink{structaws__socket}{aws\+\_\+socket}} $\ast$listener)
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{channel__bootstrap_8h_a1dc65b7da6b1ca0ae3a6e13264cd2ca0}\label{channel__bootstrap_8h_a1dc65b7da6b1ca0ae3a6e13264cd2ca0}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_channel\_on\_protocol\_negotiated\_fn@{aws\_channel\_on\_protocol\_negotiated\_fn}}
\index{aws\_channel\_on\_protocol\_negotiated\_fn@{aws\_channel\_on\_protocol\_negotiated\_fn}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_channel\_on\_protocol\_negotiated\_fn}{aws\_channel\_on\_protocol\_negotiated\_fn}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}}$\ast$() aws\+\_\+channel\+\_\+on\+\_\+protocol\+\_\+negotiated\+\_\+fn(struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$new\+\_\+slot, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$protocol, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})}

If ALPN is being used this function will be invoked by the channel once an ALPN message is received. The returned channel\+\_\+handler will be added to, and managed by, the channel. \mbox{\Hypertarget{channel__bootstrap_8h_a414ed9b93c1890d5292fa22b405539d2}\label{channel__bootstrap_8h_a414ed9b93c1890d5292fa22b405539d2}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_client\_bootstrap\_on\_channel\_event\_fn@{aws\_client\_bootstrap\_on\_channel\_event\_fn}}
\index{aws\_client\_bootstrap\_on\_channel\_event\_fn@{aws\_client\_bootstrap\_on\_channel\_event\_fn}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_client\_bootstrap\_on\_channel\_event\_fn}{aws\_client\_bootstrap\_on\_channel\_event\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+client\+\_\+bootstrap\+\_\+on\+\_\+channel\+\_\+event\+\_\+fn(struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$bootstrap, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$channel, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})}

Generic event function for channel lifecycle events.

Callbacks are provided for\+: (1) Channel creation (2) Channel setup -\/ If TLS is being used, this function is called once the socket has connected, the channel has been initialized, and TLS has been successfully negotiated. A TLS handler has already been added to the channel. If TLS negotiation fails, this function will be called with the corresponding error code. If TLS is not being used, this function is called once the socket has connected and the channel has been initialized. (3) Channel shutdown

These callbacks are always invoked within the thread of the event-\/loop that the channel is assigned to.

This function does NOT always imply \char`\"{}success\char`\"{} -- if error\+\_\+code is AWS\+\_\+\+OP\+\_\+\+SUCCESS then everything was successful, otherwise an error condition occurred. \mbox{\Hypertarget{channel__bootstrap_8h_ac1fb6ae6b6df4ee077af50d2d94b94b9}\label{channel__bootstrap_8h_ac1fb6ae6b6df4ee077af50d2d94b94b9}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_client\_bootstrap\_shutdown\_complete\_fn@{aws\_client\_bootstrap\_shutdown\_complete\_fn}}
\index{aws\_client\_bootstrap\_shutdown\_complete\_fn@{aws\_client\_bootstrap\_shutdown\_complete\_fn}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_client\_bootstrap\_shutdown\_complete\_fn}{aws\_client\_bootstrap\_shutdown\_complete\_fn}}
{\footnotesize\ttfamily typedef void aws\+\_\+client\+\_\+bootstrap\+\_\+shutdown\+\_\+complete\+\_\+fn(void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})}

Called after client bootstrap has been completely cleaned up, after its last refcount is released. \mbox{\Hypertarget{channel__bootstrap_8h_a000bdecbc51db8d47c736c53015dbb67}\label{channel__bootstrap_8h_a000bdecbc51db8d47c736c53015dbb67}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_on\_accept\_channel\_setup\_fn@{aws\_server\_bootstrap\_on\_accept\_channel\_setup\_fn}}
\index{aws\_server\_bootstrap\_on\_accept\_channel\_setup\_fn@{aws\_server\_bootstrap\_on\_accept\_channel\_setup\_fn}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_on\_accept\_channel\_setup\_fn}{aws\_server\_bootstrap\_on\_accept\_channel\_setup\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+server\+\_\+bootstrap\+\_\+on\+\_\+accept\+\_\+channel\+\_\+setup\+\_\+fn(struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$channel, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})}

If TLS is being used, this function is called once the socket has received an incoming connection, the channel has been initialized, and TLS has been successfully negotiated. A TLS handler has already been added to the channel. If TLS negotiation fails, this function will be called with the corresponding error code.

If TLS is not being used, this function is called once the socket has received an incoming connection and the channel has been initialized.

This function is always called within the thread of the event-\/loop that the new channel is assigned to upon success.

On failure, the channel might not be assigned to an event loop yet, and will thus be invoked on the listener\textquotesingle{}s event-\/loop thread.

This function does NOT mean \char`\"{}success\char`\"{}, if error\+\_\+code is AWS\+\_\+\+OP\+\_\+\+SUCCESS then everything was successful, otherwise an error condition occurred.

If an error occurred, you do not need to shutdown the channel. The {\ttfamily aws\+\_\+channel\+\_\+client\+\_\+shutdown\+\_\+callback} will be invoked once the channel has finished shutting down. \mbox{\Hypertarget{channel__bootstrap_8h_a51c1bf25cc4fe1c46a45cfa86a7da308}\label{channel__bootstrap_8h_a51c1bf25cc4fe1c46a45cfa86a7da308}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_on\_accept\_channel\_shutdown\_fn@{aws\_server\_bootstrap\_on\_accept\_channel\_shutdown\_fn}}
\index{aws\_server\_bootstrap\_on\_accept\_channel\_shutdown\_fn@{aws\_server\_bootstrap\_on\_accept\_channel\_shutdown\_fn}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_on\_accept\_channel\_shutdown\_fn}{aws\_server\_bootstrap\_on\_accept\_channel\_shutdown\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+server\+\_\+bootstrap\+\_\+on\+\_\+accept\+\_\+channel\+\_\+shutdown\+\_\+fn(struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap, int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$channel, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})}

Once the channel shuts down, this function will be invoked within the thread of the event-\/loop that the channel is assigned to.

Note\+: this function is only invoked if the channel was successfully setup, e.\+g. \mbox{\hyperlink{channel__bootstrap_8h_a000bdecbc51db8d47c736c53015dbb67}{aws\+\_\+server\+\_\+bootstrap\+\_\+on\+\_\+accept\+\_\+channel\+\_\+setup\+\_\+fn()}} was invoked without an error code. \mbox{\Hypertarget{channel__bootstrap_8h_a7c501f6beabaa5ee62d8ee7d451e48af}\label{channel__bootstrap_8h_a7c501f6beabaa5ee62d8ee7d451e48af}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_on\_server\_listener\_destroy\_fn@{aws\_server\_bootstrap\_on\_server\_listener\_destroy\_fn}}
\index{aws\_server\_bootstrap\_on\_server\_listener\_destroy\_fn@{aws\_server\_bootstrap\_on\_server\_listener\_destroy\_fn}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_on\_server\_listener\_destroy\_fn}{aws\_server\_bootstrap\_on\_server\_listener\_destroy\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+server\+\_\+bootstrap\+\_\+on\+\_\+server\+\_\+listener\+\_\+destroy\+\_\+fn(struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$bootstrap, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})}

Once the server listener socket is finished destroying, and all the existing connections are closed, this fuction will be invoked. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{channel__bootstrap_8h_a95a6a9b08e2f4706e6df6cc468869042}\label{channel__bootstrap_8h_a95a6a9b08e2f4706e6df6cc468869042}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_client\_bootstrap\_acquire@{aws\_client\_bootstrap\_acquire}}
\index{aws\_client\_bootstrap\_acquire@{aws\_client\_bootstrap\_acquire}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_client\_bootstrap\_acquire()}{aws\_client\_bootstrap\_acquire()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}}$\ast$ aws\+\_\+client\+\_\+bootstrap\+\_\+acquire (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$}]{bootstrap }\end{DoxyParamCaption})}

Increments a client bootstrap\textquotesingle{}s ref count, allowing the caller to take a reference to it.

Returns the same client bootstrap passed in. \mbox{\Hypertarget{channel__bootstrap_8h_a4e0a35301e332c74656e9b1ac284a060}\label{channel__bootstrap_8h_a4e0a35301e332c74656e9b1ac284a060}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_client\_bootstrap\_new@{aws\_client\_bootstrap\_new}}
\index{aws\_client\_bootstrap\_new@{aws\_client\_bootstrap\_new}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_client\_bootstrap\_new()}{aws\_client\_bootstrap\_new()}}
{\footnotesize\ttfamily \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}}$\ast$ aws\+\_\+client\+\_\+bootstrap\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__client__bootstrap__options}{aws\+\_\+client\+\_\+bootstrap\+\_\+options}} $\ast$}]{options }\end{DoxyParamCaption})}

Create the client bootstrap. \mbox{\Hypertarget{channel__bootstrap_8h_a6444a3d5af1927a0bdebd448aca21a67}\label{channel__bootstrap_8h_a6444a3d5af1927a0bdebd448aca21a67}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_client\_bootstrap\_new\_socket\_channel@{aws\_client\_bootstrap\_new\_socket\_channel}}
\index{aws\_client\_bootstrap\_new\_socket\_channel@{aws\_client\_bootstrap\_new\_socket\_channel}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_client\_bootstrap\_new\_socket\_channel()}{aws\_client\_bootstrap\_new\_socket\_channel()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int aws\+\_\+client\+\_\+bootstrap\+\_\+new\+\_\+socket\+\_\+channel (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__socket__channel__bootstrap__options}{aws\+\_\+socket\+\_\+channel\+\_\+bootstrap\+\_\+options}} $\ast$}]{options }\end{DoxyParamCaption})}

Sets up a client socket channel. \mbox{\Hypertarget{channel__bootstrap_8h_abb8be16e6eb7bc524caaf35abb59ea8f}\label{channel__bootstrap_8h_abb8be16e6eb7bc524caaf35abb59ea8f}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_client\_bootstrap\_release@{aws\_client\_bootstrap\_release}}
\index{aws\_client\_bootstrap\_release@{aws\_client\_bootstrap\_release}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_client\_bootstrap\_release()}{aws\_client\_bootstrap\_release()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void aws\+\_\+client\+\_\+bootstrap\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$}]{bootstrap }\end{DoxyParamCaption})}

Decrements a client bootstrap\textquotesingle{}s ref count. When the ref count drops to zero, the bootstrap will be destroyed. \mbox{\Hypertarget{channel__bootstrap_8h_aefac7664620cbf351f589656700841c9}\label{channel__bootstrap_8h_aefac7664620cbf351f589656700841c9}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_client\_bootstrap\_set\_alpn\_callback@{aws\_client\_bootstrap\_set\_alpn\_callback}}
\index{aws\_client\_bootstrap\_set\_alpn\_callback@{aws\_client\_bootstrap\_set\_alpn\_callback}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_client\_bootstrap\_set\_alpn\_callback()}{aws\_client\_bootstrap\_set\_alpn\_callback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int aws\+\_\+client\+\_\+bootstrap\+\_\+set\+\_\+alpn\+\_\+callback (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$}]{bootstrap,  }\item[{\mbox{\hyperlink{channel__bootstrap_8h_a1dc65b7da6b1ca0ae3a6e13264cd2ca0}{aws\+\_\+channel\+\_\+on\+\_\+protocol\+\_\+negotiated\+\_\+fn}} $\ast$}]{on\+\_\+protocol\+\_\+negotiated }\end{DoxyParamCaption})}

When using TLS, if ALPN is used, this callback will be invoked from the channel. The returned handler will be added to the channel. \mbox{\Hypertarget{channel__bootstrap_8h_a2bab66478bc0fca8ca8a01f20c0042eb}\label{channel__bootstrap_8h_a2bab66478bc0fca8ca8a01f20c0042eb}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_acquire@{aws\_server\_bootstrap\_acquire}}
\index{aws\_server\_bootstrap\_acquire@{aws\_server\_bootstrap\_acquire}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_acquire()}{aws\_server\_bootstrap\_acquire()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}}$\ast$ aws\+\_\+server\+\_\+bootstrap\+\_\+acquire (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$}]{bootstrap }\end{DoxyParamCaption})}

Increments a server bootstrap\textquotesingle{}s ref count, allowing the caller to take a reference to it.

Returns the same server bootstrap passed in. \mbox{\Hypertarget{channel__bootstrap_8h_a2ab045243e1ca2147c134bc81c0cb5f2}\label{channel__bootstrap_8h_a2ab045243e1ca2147c134bc81c0cb5f2}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_destroy\_socket\_listener@{aws\_server\_bootstrap\_destroy\_socket\_listener}}
\index{aws\_server\_bootstrap\_destroy\_socket\_listener@{aws\_server\_bootstrap\_destroy\_socket\_listener}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_destroy\_socket\_listener()}{aws\_server\_bootstrap\_destroy\_socket\_listener()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void aws\+\_\+server\+\_\+bootstrap\+\_\+destroy\+\_\+socket\+\_\+listener (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$}]{bootstrap,  }\item[{struct \mbox{\hyperlink{structaws__socket}{aws\+\_\+socket}} $\ast$}]{listener }\end{DoxyParamCaption})}

Shuts down \textquotesingle{}listener\textquotesingle{} and cleans up any resources associated with it. Any incoming channels on {\ttfamily listener} will still be active. {\ttfamily destroy\+\_\+callback} will be invoked after the server socket listener is destroyed, and all associated connections and channels have finished shutting down. \mbox{\Hypertarget{channel__bootstrap_8h_ac32cb5dad90823f4a6d7778250881b54}\label{channel__bootstrap_8h_ac32cb5dad90823f4a6d7778250881b54}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_new@{aws\_server\_bootstrap\_new}}
\index{aws\_server\_bootstrap\_new@{aws\_server\_bootstrap\_new}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_new()}{aws\_server\_bootstrap\_new()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}}$\ast$ aws\+\_\+server\+\_\+bootstrap\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$}]{el\+\_\+group }\end{DoxyParamCaption})}

Initializes the server bootstrap with {\ttfamily allocator} and {\ttfamily el\+\_\+group}. This object manages listeners, server connections, and channels. \mbox{\Hypertarget{channel__bootstrap_8h_ae86a947fd10e7b558ac538cbd61967f7}\label{channel__bootstrap_8h_ae86a947fd10e7b558ac538cbd61967f7}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_new\_socket\_listener@{aws\_server\_bootstrap\_new\_socket\_listener}}
\index{aws\_server\_bootstrap\_new\_socket\_listener@{aws\_server\_bootstrap\_new\_socket\_listener}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_new\_socket\_listener()}{aws\_server\_bootstrap\_new\_socket\_listener()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} struct \mbox{\hyperlink{structaws__socket}{aws\+\_\+socket}}$\ast$ aws\+\_\+server\+\_\+bootstrap\+\_\+new\+\_\+socket\+\_\+listener (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__server__socket__channel__bootstrap__options}{aws\+\_\+server\+\_\+socket\+\_\+channel\+\_\+bootstrap\+\_\+options}} $\ast$}]{bootstrap\+\_\+options }\end{DoxyParamCaption})}

Sets up a server socket listener. If you are planning on using TLS, use {\ttfamily aws\+\_\+server\+\_\+bootstrap\+\_\+new\+\_\+tls\+\_\+socket\+\_\+listener} instead. This creates a socket listener bound to {\ttfamily local\+\_\+endpoint} using socket options {\ttfamily options}. {\ttfamily incoming\+\_\+callback} will be invoked once an incoming channel is ready for use or if an error is encountered. {\ttfamily shutdown\+\_\+callback} will be invoked once the channel has shutdown. {\ttfamily destroy\+\_\+callback} will be invoked after the server socket listener is destroyed, and all associated connections and channels have finished shutting down. Immediately after the {\ttfamily shutdown\+\_\+callback} returns, the channel is cleaned up automatically. All callbacks are invoked the thread of the event-\/loop that the listening socket is assigned to

Upon shutdown of your application, you\textquotesingle{}ll want to call {\ttfamily aws\+\_\+server\+\_\+bootstrap\+\_\+destroy\+\_\+socket\+\_\+listener} with the return value from this function.

bootstrap\+\_\+options is copied. \mbox{\Hypertarget{channel__bootstrap_8h_a63610de5a611fb0fc93ee465abe0fb6d}\label{channel__bootstrap_8h_a63610de5a611fb0fc93ee465abe0fb6d}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_release@{aws\_server\_bootstrap\_release}}
\index{aws\_server\_bootstrap\_release@{aws\_server\_bootstrap\_release}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_release()}{aws\_server\_bootstrap\_release()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} void aws\+\_\+server\+\_\+bootstrap\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$}]{bootstrap }\end{DoxyParamCaption})}

Decrements a server bootstrap\textquotesingle{}s ref count. When the ref count drops to zero, the bootstrap will be destroyed. \mbox{\Hypertarget{channel__bootstrap_8h_a035cd88654dfdbbde18080bf77d6c775}\label{channel__bootstrap_8h_a035cd88654dfdbbde18080bf77d6c775}} 
\index{channel\_bootstrap.h@{channel\_bootstrap.h}!aws\_server\_bootstrap\_set\_alpn\_callback@{aws\_server\_bootstrap\_set\_alpn\_callback}}
\index{aws\_server\_bootstrap\_set\_alpn\_callback@{aws\_server\_bootstrap\_set\_alpn\_callback}!channel\_bootstrap.h@{channel\_bootstrap.h}}
\doxysubsubsection{\texorpdfstring{aws\_server\_bootstrap\_set\_alpn\_callback()}{aws\_server\_bootstrap\_set\_alpn\_callback()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-io_2include_2aws_2io_2_exports_8h_a26db8dfe8d149d3ddd330c792f3e67df}{AWS\+\_\+\+IO\+\_\+\+API}} int aws\+\_\+server\+\_\+bootstrap\+\_\+set\+\_\+alpn\+\_\+callback (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__server__bootstrap}{aws\+\_\+server\+\_\+bootstrap}} $\ast$}]{bootstrap,  }\item[{\mbox{\hyperlink{channel__bootstrap_8h_a1dc65b7da6b1ca0ae3a6e13264cd2ca0}{aws\+\_\+channel\+\_\+on\+\_\+protocol\+\_\+negotiated\+\_\+fn}} $\ast$}]{on\+\_\+protocol\+\_\+negotiated }\end{DoxyParamCaption})}

When using TLS, if ALPN is used, this callback will be invoked from the channel. The returned handler will be added to the channel. 