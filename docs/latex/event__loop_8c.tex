\hypertarget{event__loop_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/source/event\+\_\+loop.c File Reference}
\label{event__loop_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/source/event\_loop.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/source/event\_loop.c}}
{\ttfamily \#include $<$aws/io/event\+\_\+loop.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/clock.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/device\+\_\+random.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/system\+\_\+info.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/thread.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$ \mbox{\hyperlink{event__loop_8c_a3582eaa999d41840f0908d20743fe5e8}{aws\+\_\+event\+\_\+loop\+\_\+new\+\_\+default}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, \mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$clock)
\item 
static void \mbox{\hyperlink{event__loop_8c_a8fe91843385f48c39cfdf5cfe7c8cccd}{s\+\_\+event\+\_\+loop\+\_\+group\+\_\+thread\+\_\+exit}} (void $\ast$user\+\_\+data)
\item 
static void \mbox{\hyperlink{event__loop_8c_acd5e1ba548978f553c84470e987c74df}{s\+\_\+aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+shutdown\+\_\+sync}} (struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$el\+\_\+group)
\item 
static void \mbox{\hyperlink{event__loop_8c_af3b4c8488e46ba80ffd56ada7b1c8df5}{s\+\_\+event\+\_\+loop\+\_\+destroy\+\_\+async\+\_\+thread\+\_\+fn}} (void $\ast$thread\+\_\+data)
\item 
static void \mbox{\hyperlink{event__loop_8c_a77b6e8a3afa6834a9c72319122480d3b}{s\+\_\+aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+shutdown\+\_\+async}} (struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$el\+\_\+group)
\item 
static struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$ \mbox{\hyperlink{event__loop_8c_a6c693c5737415a8c67f9c534e99a43a6}{s\+\_\+event\+\_\+loop\+\_\+group\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, \mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$clock, uint16\+\_\+t el\+\_\+count, uint16\+\_\+t cpu\+\_\+group, bool pin\+\_\+threads, \mbox{\hyperlink{event__loop_8h_ade70b6f3aa4d29abe788c0e082a970ce}{aws\+\_\+new\+\_\+event\+\_\+loop\+\_\+fn}} $\ast$new\+\_\+loop\+\_\+fn, void $\ast$new\+\_\+loop\+\_\+user\+\_\+data, const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$shutdown\+\_\+options)
\item 
struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$ \mbox{\hyperlink{event__loop_8c_adda01f2b9a69515d25d28c45327510d4}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, \mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$clock, uint16\+\_\+t el\+\_\+count, \mbox{\hyperlink{event__loop_8h_ade70b6f3aa4d29abe788c0e082a970ce}{aws\+\_\+new\+\_\+event\+\_\+loop\+\_\+fn}} $\ast$new\+\_\+loop\+\_\+fn, void $\ast$new\+\_\+loop\+\_\+user\+\_\+data, const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$shutdown\+\_\+options)
\item 
static struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$ \mbox{\hyperlink{event__loop_8c_a0e6843016aed832c5a793a1350852632}{s\+\_\+default\+\_\+new\+\_\+event\+\_\+loop}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, const struct \mbox{\hyperlink{structaws__event__loop__options}{aws\+\_\+event\+\_\+loop\+\_\+options}} $\ast$options, void $\ast$user\+\_\+data)
\item 
struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$ \mbox{\hyperlink{event__loop_8c_aabe6812d6fefa324f826aed61334ca24}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+new\+\_\+default}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, uint16\+\_\+t max\+\_\+threads, const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$shutdown\+\_\+options)
\item 
struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$ \mbox{\hyperlink{event__loop_8c_aedfc9fafc5897233762eff0ca257e465}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+new\+\_\+pinned\+\_\+to\+\_\+cpu\+\_\+group}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, \mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$clock, uint16\+\_\+t el\+\_\+count, uint16\+\_\+t cpu\+\_\+group, \mbox{\hyperlink{event__loop_8h_ade70b6f3aa4d29abe788c0e082a970ce}{aws\+\_\+new\+\_\+event\+\_\+loop\+\_\+fn}} $\ast$new\+\_\+loop\+\_\+fn, void $\ast$new\+\_\+loop\+\_\+user\+\_\+data, const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$shutdown\+\_\+options)
\item 
struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$ \mbox{\hyperlink{event__loop_8c_aaacfa148b3ddd3c74ccc1f9fb1757883}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+new\+\_\+default\+\_\+pinned\+\_\+to\+\_\+cpu\+\_\+group}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, uint16\+\_\+t max\+\_\+threads, uint16\+\_\+t cpu\+\_\+group, const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$shutdown\+\_\+options)
\item 
struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$ \mbox{\hyperlink{event__loop_8c_accddccf2c7151a533cf0c45941e3a6d0}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+acquire}} (struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$el\+\_\+group)
\item 
void \mbox{\hyperlink{event__loop_8c_a996dd09b71d03f3e321a5ab1e9875764}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+release}} (struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$el\+\_\+group)
\item 
size\+\_\+t \mbox{\hyperlink{event__loop_8c_a683c2739d94c785da5347e196cbeba1d}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+get\+\_\+loop\+\_\+count}} (struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$el\+\_\+group)
\item 
struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$ \mbox{\hyperlink{event__loop_8c_af2b7fe0e70865fb667b77768f0347a14}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+get\+\_\+loop\+\_\+at}} (struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$el\+\_\+group, size\+\_\+t \mbox{\hyperlink{aws-crt-cpp_2crt_2aws-c-auth_2include_2aws_2auth_2external_2c_j_s_o_n_8h_a750b5d744c39a06bfb13e6eb010e35d0}{index}})
\item 
struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$ \mbox{\hyperlink{event__loop_8c_a64dd6ca4337f7fc7d034722b84db5ba1}{aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+get\+\_\+next\+\_\+loop}} (struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$el\+\_\+group)
\item 
static void \mbox{\hyperlink{event__loop_8c_a3a840da24bf450d5a58c21d369e6f473}{s\+\_\+object\+\_\+removed}} (void $\ast$value)
\item 
int \mbox{\hyperlink{event__loop_8c_aeca8831140ea885bef457b390c80e281}{aws\+\_\+event\+\_\+loop\+\_\+init\+\_\+base}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc, \mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$clock)
\item 
void \mbox{\hyperlink{event__loop_8c_afa47bc8ae9b62e8c44c3692be0c86a6f}{aws\+\_\+event\+\_\+loop\+\_\+clean\+\_\+up\+\_\+base}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
void \mbox{\hyperlink{event__loop_8c_aa1d05378d4a13ede067ea3df84e383a7}{aws\+\_\+event\+\_\+loop\+\_\+register\+\_\+tick\+\_\+start}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
void \mbox{\hyperlink{event__loop_8c_a7f3aaa12033f42015090869a6885ff28}{aws\+\_\+event\+\_\+loop\+\_\+register\+\_\+tick\+\_\+end}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
size\+\_\+t \mbox{\hyperlink{event__loop_8c_a0106a819c567367cbeaae71751b5a7a3}{aws\+\_\+event\+\_\+loop\+\_\+get\+\_\+load\+\_\+factor}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
void \mbox{\hyperlink{event__loop_8c_a8ebaeb64424b435dae6c57cf7bf45b7f}{aws\+\_\+event\+\_\+loop\+\_\+destroy}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
int \mbox{\hyperlink{event__loop_8c_ab90d5d8e389f61aaabf0f6874a36ef00}{aws\+\_\+event\+\_\+loop\+\_\+fetch\+\_\+local\+\_\+object}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, void $\ast$key, struct \mbox{\hyperlink{structaws__event__loop__local__object}{aws\+\_\+event\+\_\+loop\+\_\+local\+\_\+object}} $\ast$obj)
\item 
int \mbox{\hyperlink{event__loop_8c_ae025a4db60a9f8e400afdaf71067e5b3}{aws\+\_\+event\+\_\+loop\+\_\+put\+\_\+local\+\_\+object}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, struct \mbox{\hyperlink{structaws__event__loop__local__object}{aws\+\_\+event\+\_\+loop\+\_\+local\+\_\+object}} $\ast$obj)
\item 
int \mbox{\hyperlink{event__loop_8c_a1d01bba3cf29e6cf638c7533f9fa25d6}{aws\+\_\+event\+\_\+loop\+\_\+remove\+\_\+local\+\_\+object}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, void $\ast$key, struct \mbox{\hyperlink{structaws__event__loop__local__object}{aws\+\_\+event\+\_\+loop\+\_\+local\+\_\+object}} $\ast$removed\+\_\+obj)
\item 
int \mbox{\hyperlink{event__loop_8c_a1f7fd97538b3e9b65a3e9d2b6d2b0bd3}{aws\+\_\+event\+\_\+loop\+\_\+run}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
int \mbox{\hyperlink{event__loop_8c_ac6a699204451344c7b76b683ac0c58d0}{aws\+\_\+event\+\_\+loop\+\_\+stop}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
int \mbox{\hyperlink{event__loop_8c_ae5349fe1abc0ae0c95e52f53c6004ec9}{aws\+\_\+event\+\_\+loop\+\_\+wait\+\_\+for\+\_\+stop\+\_\+completion}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
void \mbox{\hyperlink{event__loop_8c_a93d15800f62a121228fdfd82f449266a}{aws\+\_\+event\+\_\+loop\+\_\+schedule\+\_\+task\+\_\+now}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$task)
\item 
void \mbox{\hyperlink{event__loop_8c_a276fa193ecad3706b2fcd807cd4fd663}{aws\+\_\+event\+\_\+loop\+\_\+schedule\+\_\+task\+\_\+future}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$task, uint64\+\_\+t run\+\_\+at\+\_\+nanos)
\item 
void \mbox{\hyperlink{event__loop_8c_a01fae4c0c828be0e8abd0379cb7ae396}{aws\+\_\+event\+\_\+loop\+\_\+cancel\+\_\+task}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$task)
\item 
int \mbox{\hyperlink{event__loop_8c_a948a5b2c31adbc53bc7d31bc3fd70127}{aws\+\_\+event\+\_\+loop\+\_\+subscribe\+\_\+to\+\_\+io\+\_\+events}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, struct \mbox{\hyperlink{structaws__io__handle}{aws\+\_\+io\+\_\+handle}} $\ast$handle, int events, \mbox{\hyperlink{event__loop_8h_a566c239a15c99256d054af59e81a4038}{aws\+\_\+event\+\_\+loop\+\_\+on\+\_\+event\+\_\+fn}} $\ast$on\+\_\+event, void $\ast$user\+\_\+data)
\item 
int \mbox{\hyperlink{event__loop_8c_aa75212e47cf2fb77bd43e1a15689c252}{aws\+\_\+event\+\_\+loop\+\_\+unsubscribe\+\_\+from\+\_\+io\+\_\+events}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, struct \mbox{\hyperlink{structaws__io__handle}{aws\+\_\+io\+\_\+handle}} $\ast$handle)
\item 
void \mbox{\hyperlink{event__loop_8c_a867527a9363c0e0306a5ad839b89b35d}{aws\+\_\+event\+\_\+loop\+\_\+free\+\_\+io\+\_\+event\+\_\+resources}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, struct \mbox{\hyperlink{structaws__io__handle}{aws\+\_\+io\+\_\+handle}} $\ast$handle)
\item 
bool \mbox{\hyperlink{event__loop_8c_aada21a511876d5ba1d53181673df81da}{aws\+\_\+event\+\_\+loop\+\_\+thread\+\_\+is\+\_\+callers\+\_\+thread}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop)
\item 
int \mbox{\hyperlink{event__loop_8c_ae70b5d1b3809759d18c48a1c71f4fef2}{aws\+\_\+event\+\_\+loop\+\_\+current\+\_\+clock\+\_\+time}} (struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$event\+\_\+loop, uint64\+\_\+t $\ast$time\+\_\+nanos)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{event__loop_8c_a01fae4c0c828be0e8abd0379cb7ae396}\label{event__loop_8c_a01fae4c0c828be0e8abd0379cb7ae396}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_cancel\_task@{aws\_event\_loop\_cancel\_task}}
\index{aws\_event\_loop\_cancel\_task@{aws\_event\_loop\_cancel\_task}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_cancel\_task()}{aws\_event\_loop\_cancel\_task()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+cancel\+\_\+task (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$}]{task }\end{DoxyParamCaption})}

Cancels task. This function must be called from the event loop\textquotesingle{}s thread, and is only guaranteed to work properly on tasks scheduled from within the event loop\textquotesingle{}s thread. The task will be executed with the AWS\+\_\+\+TASK\+\_\+\+STATUS\+\_\+\+CANCELED status inside this call. \mbox{\Hypertarget{event__loop_8c_afa47bc8ae9b62e8c44c3692be0c86a6f}\label{event__loop_8c_afa47bc8ae9b62e8c44c3692be0c86a6f}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_clean\_up\_base@{aws\_event\_loop\_clean\_up\_base}}
\index{aws\_event\_loop\_clean\_up\_base@{aws\_event\_loop\_clean\_up\_base}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_clean\_up\_base()}{aws\_event\_loop\_clean\_up\_base()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+clean\+\_\+up\+\_\+base (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

Common cleanup code for all implementations. This is only called from the $\ast$destroy() function of event loop implementations. \mbox{\Hypertarget{event__loop_8c_ae70b5d1b3809759d18c48a1c71f4fef2}\label{event__loop_8c_ae70b5d1b3809759d18c48a1c71f4fef2}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_current\_clock\_time@{aws\_event\_loop\_current\_clock\_time}}
\index{aws\_event\_loop\_current\_clock\_time@{aws\_event\_loop\_current\_clock\_time}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_current\_clock\_time()}{aws\_event\_loop\_current\_clock\_time()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+current\+\_\+clock\+\_\+time (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{uint64\+\_\+t $\ast$}]{time\+\_\+nanos }\end{DoxyParamCaption})}

Gets the current timestamp for the event loop\textquotesingle{}s clock, in nanoseconds. This function is thread-\/safe. \mbox{\Hypertarget{event__loop_8c_a8ebaeb64424b435dae6c57cf7bf45b7f}\label{event__loop_8c_a8ebaeb64424b435dae6c57cf7bf45b7f}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_destroy@{aws\_event\_loop\_destroy}}
\index{aws\_event\_loop\_destroy@{aws\_event\_loop\_destroy}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_destroy()}{aws\_event\_loop\_destroy()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

Invokes the destroy() fn for the event loop implementation. If the event loop is still in a running state, this function will block waiting on the event loop to shutdown. If you do not want this function to block, call \mbox{\hyperlink{event__loop_8h_a38d943ff4628110b3bdb18704a923173}{aws\+\_\+event\+\_\+loop\+\_\+stop()}} manually first. If the event loop is shared by multiple threads then destroy must be called by exactly one thread. All other threads must ensure their API calls to the event loop happen-\/before the call to destroy. \mbox{\Hypertarget{event__loop_8c_ab90d5d8e389f61aaabf0f6874a36ef00}\label{event__loop_8c_ab90d5d8e389f61aaabf0f6874a36ef00}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_fetch\_local\_object@{aws\_event\_loop\_fetch\_local\_object}}
\index{aws\_event\_loop\_fetch\_local\_object@{aws\_event\_loop\_fetch\_local\_object}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_fetch\_local\_object()}{aws\_event\_loop\_fetch\_local\_object()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+fetch\+\_\+local\+\_\+object (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{void $\ast$}]{key,  }\item[{struct \mbox{\hyperlink{structaws__event__loop__local__object}{aws\+\_\+event\+\_\+loop\+\_\+local\+\_\+object}} $\ast$}]{obj }\end{DoxyParamCaption})}

Fetches an object from the event-\/loop\textquotesingle{}s data store. Key will be taken as the memory address of the memory pointed to by key. This function is not thread safe and should be called inside the event-\/loop\textquotesingle{}s thread. \mbox{\Hypertarget{event__loop_8c_a867527a9363c0e0306a5ad839b89b35d}\label{event__loop_8c_a867527a9363c0e0306a5ad839b89b35d}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_free\_io\_event\_resources@{aws\_event\_loop\_free\_io\_event\_resources}}
\index{aws\_event\_loop\_free\_io\_event\_resources@{aws\_event\_loop\_free\_io\_event\_resources}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_free\_io\_event\_resources()}{aws\_event\_loop\_free\_io\_event\_resources()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+free\+\_\+io\+\_\+event\+\_\+resources (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{struct \mbox{\hyperlink{structaws__io__handle}{aws\+\_\+io\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Cleans up resources (user\+\_\+data) associated with the I/O eventing subsystem for a given handle. This should only ever be necessary in the case where you are cleaning up an event loop during shutdown and its thread has already been joined. \mbox{\Hypertarget{event__loop_8c_a0106a819c567367cbeaae71751b5a7a3}\label{event__loop_8c_a0106a819c567367cbeaae71751b5a7a3}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_get\_load\_factor@{aws\_event\_loop\_get\_load\_factor}}
\index{aws\_event\_loop\_get\_load\_factor@{aws\_event\_loop\_get\_load\_factor}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_get\_load\_factor()}{aws\_event\_loop\_get\_load\_factor()}}
{\footnotesize\ttfamily size\+\_\+t aws\+\_\+event\+\_\+loop\+\_\+get\+\_\+load\+\_\+factor (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

Returns the current load factor (however that may be calculated). If the event-\/loop is not invoking \mbox{\hyperlink{event__loop_8h_abe67b989bbf5c7ab95785093c3ac786a}{aws\+\_\+event\+\_\+loop\+\_\+register\+\_\+tick\+\_\+start()}} and \mbox{\hyperlink{event__loop_8h_ab0120de1e9a609e237bdbc6ee47a4430}{aws\+\_\+event\+\_\+loop\+\_\+register\+\_\+tick\+\_\+end()}}, this value will always be 0. \mbox{\Hypertarget{event__loop_8c_accddccf2c7151a533cf0c45941e3a6d0}\label{event__loop_8c_accddccf2c7151a533cf0c45941e3a6d0}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_acquire@{aws\_event\_loop\_group\_acquire}}
\index{aws\_event\_loop\_group\_acquire@{aws\_event\_loop\_group\_acquire}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_acquire()}{aws\_event\_loop\_group\_acquire()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}}$\ast$ aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+acquire (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$}]{el\+\_\+group }\end{DoxyParamCaption})}

Increments the reference count on the event loop group, allowing the caller to take a reference to it.

Returns the same event loop group passed in. \mbox{\Hypertarget{event__loop_8c_af2b7fe0e70865fb667b77768f0347a14}\label{event__loop_8c_af2b7fe0e70865fb667b77768f0347a14}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_get\_loop\_at@{aws\_event\_loop\_group\_get\_loop\_at}}
\index{aws\_event\_loop\_group\_get\_loop\_at@{aws\_event\_loop\_group\_get\_loop\_at}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_get\_loop\_at()}{aws\_event\_loop\_group\_get\_loop\_at()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}}$\ast$ aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+get\+\_\+loop\+\_\+at (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$}]{el\+\_\+group,  }\item[{size\+\_\+t}]{index }\end{DoxyParamCaption})}

\mbox{\Hypertarget{event__loop_8c_a683c2739d94c785da5347e196cbeba1d}\label{event__loop_8c_a683c2739d94c785da5347e196cbeba1d}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_get\_loop\_count@{aws\_event\_loop\_group\_get\_loop\_count}}
\index{aws\_event\_loop\_group\_get\_loop\_count@{aws\_event\_loop\_group\_get\_loop\_count}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_get\_loop\_count()}{aws\_event\_loop\_group\_get\_loop\_count()}}
{\footnotesize\ttfamily size\+\_\+t aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+get\+\_\+loop\+\_\+count (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$}]{el\+\_\+group }\end{DoxyParamCaption})}

\mbox{\Hypertarget{event__loop_8c_a64dd6ca4337f7fc7d034722b84db5ba1}\label{event__loop_8c_a64dd6ca4337f7fc7d034722b84db5ba1}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_get\_next\_loop@{aws\_event\_loop\_group\_get\_next\_loop}}
\index{aws\_event\_loop\_group\_get\_next\_loop@{aws\_event\_loop\_group\_get\_next\_loop}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_get\_next\_loop()}{aws\_event\_loop\_group\_get\_next\_loop()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}}$\ast$ aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+get\+\_\+next\+\_\+loop (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$}]{el\+\_\+group }\end{DoxyParamCaption})}

Fetches the next loop for use. The purpose is to enable load balancing across loops. You should not depend on how this load balancing is done as it is subject to change in the future. Currently it uses the \char`\"{}best-\/of-\/two\char`\"{} algorithm based on the load factor of each loop. \mbox{\Hypertarget{event__loop_8c_adda01f2b9a69515d25d28c45327510d4}\label{event__loop_8c_adda01f2b9a69515d25d28c45327510d4}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_new@{aws\_event\_loop\_group\_new}}
\index{aws\_event\_loop\_group\_new@{aws\_event\_loop\_group\_new}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_new()}{aws\_event\_loop\_group\_new()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}}$\ast$ aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{\mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$}]{clock,  }\item[{uint16\+\_\+t}]{el\+\_\+count,  }\item[{\mbox{\hyperlink{event__loop_8h_ade70b6f3aa4d29abe788c0e082a970ce}{aws\+\_\+new\+\_\+event\+\_\+loop\+\_\+fn}} $\ast$}]{new\+\_\+loop\+\_\+fn,  }\item[{void $\ast$}]{new\+\_\+loop\+\_\+user\+\_\+data,  }\item[{const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$}]{shutdown\+\_\+options }\end{DoxyParamCaption})}

Creates an event loop group, with clock, number of loops to manage, and the function to call for creating a new event loop. \mbox{\Hypertarget{event__loop_8c_aabe6812d6fefa324f826aed61334ca24}\label{event__loop_8c_aabe6812d6fefa324f826aed61334ca24}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_new\_default@{aws\_event\_loop\_group\_new\_default}}
\index{aws\_event\_loop\_group\_new\_default@{aws\_event\_loop\_group\_new\_default}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_new\_default()}{aws\_event\_loop\_group\_new\_default()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}}$\ast$ aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+new\+\_\+default (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{uint16\+\_\+t}]{max\+\_\+threads,  }\item[{const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$}]{shutdown\+\_\+options }\end{DoxyParamCaption})}

Initializes an event loop group with platform defaults. If max\+\_\+threads == 0, then the loop count will be the number of available processors on the machine / 2 (to exclude hyper-\/threads). Otherwise, max\+\_\+threads will be the number of event loops in the group. \mbox{\Hypertarget{event__loop_8c_aaacfa148b3ddd3c74ccc1f9fb1757883}\label{event__loop_8c_aaacfa148b3ddd3c74ccc1f9fb1757883}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_new\_default\_pinned\_to\_cpu\_group@{aws\_event\_loop\_group\_new\_default\_pinned\_to\_cpu\_group}}
\index{aws\_event\_loop\_group\_new\_default\_pinned\_to\_cpu\_group@{aws\_event\_loop\_group\_new\_default\_pinned\_to\_cpu\_group}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_new\_default\_pinned\_to\_cpu\_group()}{aws\_event\_loop\_group\_new\_default\_pinned\_to\_cpu\_group()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}}$\ast$ aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+new\+\_\+default\+\_\+pinned\+\_\+to\+\_\+cpu\+\_\+group (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{uint16\+\_\+t}]{max\+\_\+threads,  }\item[{uint16\+\_\+t}]{cpu\+\_\+group,  }\item[{const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$}]{shutdown\+\_\+options }\end{DoxyParamCaption})}

Creates an event loop group, with clock, number of loops to manage, the function to call for creating a new event loop, and also pins all loops to hw threads on the same cpu\+\_\+group (e.\+g. NUMA nodes). Note\+: If el\+\_\+count exceeds the number of hw threads in the cpu\+\_\+group it will be clamped to the number of hw threads on the assumption that if you care about NUMA, you don\textquotesingle{}t want hyper-\/threads doing your IO and you especially don\textquotesingle{}t want IO on a different node.

If max\+\_\+threads == 0, then the loop count will be the number of available processors in the cpu\+\_\+group / 2 (to exclude hyper-\/threads) \mbox{\Hypertarget{event__loop_8c_aedfc9fafc5897233762eff0ca257e465}\label{event__loop_8c_aedfc9fafc5897233762eff0ca257e465}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_new\_pinned\_to\_cpu\_group@{aws\_event\_loop\_group\_new\_pinned\_to\_cpu\_group}}
\index{aws\_event\_loop\_group\_new\_pinned\_to\_cpu\_group@{aws\_event\_loop\_group\_new\_pinned\_to\_cpu\_group}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_new\_pinned\_to\_cpu\_group()}{aws\_event\_loop\_group\_new\_pinned\_to\_cpu\_group()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}}$\ast$ aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+new\+\_\+pinned\+\_\+to\+\_\+cpu\+\_\+group (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{\mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$}]{clock,  }\item[{uint16\+\_\+t}]{el\+\_\+count,  }\item[{uint16\+\_\+t}]{cpu\+\_\+group,  }\item[{\mbox{\hyperlink{event__loop_8h_ade70b6f3aa4d29abe788c0e082a970ce}{aws\+\_\+new\+\_\+event\+\_\+loop\+\_\+fn}} $\ast$}]{new\+\_\+loop\+\_\+fn,  }\item[{void $\ast$}]{new\+\_\+loop\+\_\+user\+\_\+data,  }\item[{const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$}]{shutdown\+\_\+options }\end{DoxyParamCaption})}

Creates an event loop group, with clock, number of loops to manage, the function to call for creating a new event loop, and also pins all loops to hw threads on the same cpu\+\_\+group (e.\+g. NUMA nodes). Note\+: If el\+\_\+count exceeds the number of hw threads in the cpu\+\_\+group it will be ignored on the assumption that if you care about NUMA, you don\textquotesingle{}t want hyper-\/threads doing your IO and you especially don\textquotesingle{}t want IO on a different node. \mbox{\Hypertarget{event__loop_8c_a996dd09b71d03f3e321a5ab1e9875764}\label{event__loop_8c_a996dd09b71d03f3e321a5ab1e9875764}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_group\_release@{aws\_event\_loop\_group\_release}}
\index{aws\_event\_loop\_group\_release@{aws\_event\_loop\_group\_release}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_group\_release()}{aws\_event\_loop\_group\_release()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$}]{el\+\_\+group }\end{DoxyParamCaption})}

Decrements an event loop group\textquotesingle{}s ref count. When the ref count drops to zero, the event loop group will be destroyed. \mbox{\Hypertarget{event__loop_8c_aeca8831140ea885bef457b390c80e281}\label{event__loop_8c_aeca8831140ea885bef457b390c80e281}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_init\_base@{aws\_event\_loop\_init\_base}}
\index{aws\_event\_loop\_init\_base@{aws\_event\_loop\_init\_base}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_init\_base()}{aws\_event\_loop\_init\_base()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+init\+\_\+base (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{\mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$}]{clock }\end{DoxyParamCaption})}

Initializes common event-\/loop data structures. This is only called from the $\ast$new() function of event loop implementations. \mbox{\Hypertarget{event__loop_8c_a3582eaa999d41840f0908d20743fe5e8}\label{event__loop_8c_a3582eaa999d41840f0908d20743fe5e8}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_new\_default@{aws\_event\_loop\_new\_default}}
\index{aws\_event\_loop\_new\_default@{aws\_event\_loop\_new\_default}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_new\_default()}{aws\_event\_loop\_new\_default()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}}$\ast$ aws\+\_\+event\+\_\+loop\+\_\+new\+\_\+default (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{\mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$}]{clock }\end{DoxyParamCaption})}

Copyright Amazon.\+com, Inc. or its affiliates. All Rights Reserved. SPDX-\/\+License-\/\+Identifier\+: Apache-\/2.\+0. \mbox{\Hypertarget{event__loop_8c_ae025a4db60a9f8e400afdaf71067e5b3}\label{event__loop_8c_ae025a4db60a9f8e400afdaf71067e5b3}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_put\_local\_object@{aws\_event\_loop\_put\_local\_object}}
\index{aws\_event\_loop\_put\_local\_object@{aws\_event\_loop\_put\_local\_object}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_put\_local\_object()}{aws\_event\_loop\_put\_local\_object()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+put\+\_\+local\+\_\+object (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{struct \mbox{\hyperlink{structaws__event__loop__local__object}{aws\+\_\+event\+\_\+loop\+\_\+local\+\_\+object}} $\ast$}]{obj }\end{DoxyParamCaption})}

Puts an item object the event-\/loop\textquotesingle{}s data store. Key will be taken as the memory address of the memory pointed to by key. The lifetime of item must live until remove or a put item overrides it. This function is not thread safe and should be called inside the event-\/loop\textquotesingle{}s thread. \mbox{\Hypertarget{event__loop_8c_a7f3aaa12033f42015090869a6885ff28}\label{event__loop_8c_a7f3aaa12033f42015090869a6885ff28}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_register\_tick\_end@{aws\_event\_loop\_register\_tick\_end}}
\index{aws\_event\_loop\_register\_tick\_end@{aws\_event\_loop\_register\_tick\_end}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_register\_tick\_end()}{aws\_event\_loop\_register\_tick\_end()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+register\+\_\+tick\+\_\+end (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

For event-\/loop implementations to use for providing metrics info to the base event-\/loop. This enables the event-\/loop load balancer to take into account load when vending another event-\/loop to a caller.

Call this function at the end of your event-\/loop tick\+: after processing IO and tasks. \mbox{\Hypertarget{event__loop_8c_aa1d05378d4a13ede067ea3df84e383a7}\label{event__loop_8c_aa1d05378d4a13ede067ea3df84e383a7}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_register\_tick\_start@{aws\_event\_loop\_register\_tick\_start}}
\index{aws\_event\_loop\_register\_tick\_start@{aws\_event\_loop\_register\_tick\_start}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_register\_tick\_start()}{aws\_event\_loop\_register\_tick\_start()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+register\+\_\+tick\+\_\+start (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

For event-\/loop implementations to use for providing metrics info to the base event-\/loop. This enables the event-\/loop load balancer to take into account load when vending another event-\/loop to a caller.

Call this function at the beginning of your event-\/loop tick\+: after wake-\/up, but before processing any IO or tasks. \mbox{\Hypertarget{event__loop_8c_a1d01bba3cf29e6cf638c7533f9fa25d6}\label{event__loop_8c_a1d01bba3cf29e6cf638c7533f9fa25d6}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_remove\_local\_object@{aws\_event\_loop\_remove\_local\_object}}
\index{aws\_event\_loop\_remove\_local\_object@{aws\_event\_loop\_remove\_local\_object}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_remove\_local\_object()}{aws\_event\_loop\_remove\_local\_object()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+remove\+\_\+local\+\_\+object (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{void $\ast$}]{key,  }\item[{struct \mbox{\hyperlink{structaws__event__loop__local__object}{aws\+\_\+event\+\_\+loop\+\_\+local\+\_\+object}} $\ast$}]{removed\+\_\+obj }\end{DoxyParamCaption})}

Removes an object from the event-\/loop\textquotesingle{}s data store. Key will be taken as the memory address of the memory pointed to by key. If removed\+\_\+item is not null, the removed item will be moved to it if it exists. Otherwise, the default deallocation strategy will be used. This function is not thread safe and should be called inside the event-\/loop\textquotesingle{}s thread. \mbox{\Hypertarget{event__loop_8c_a1f7fd97538b3e9b65a3e9d2b6d2b0bd3}\label{event__loop_8c_a1f7fd97538b3e9b65a3e9d2b6d2b0bd3}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_run@{aws\_event\_loop\_run}}
\index{aws\_event\_loop\_run@{aws\_event\_loop\_run}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_run()}{aws\_event\_loop\_run()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+run (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

Triggers the running of the event loop. This function must not block. The event loop is not active until this function is invoked. This function can be called again on an event loop after calling \mbox{\hyperlink{event__loop_8h_a38d943ff4628110b3bdb18704a923173}{aws\+\_\+event\+\_\+loop\+\_\+stop()}} and \mbox{\hyperlink{event__loop_8h_a50bc199522005fa5ba85ae12c399e1c9}{aws\+\_\+event\+\_\+loop\+\_\+wait\+\_\+for\+\_\+stop\+\_\+completion()}}. \mbox{\Hypertarget{event__loop_8c_a276fa193ecad3706b2fcd807cd4fd663}\label{event__loop_8c_a276fa193ecad3706b2fcd807cd4fd663}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_schedule\_task\_future@{aws\_event\_loop\_schedule\_task\_future}}
\index{aws\_event\_loop\_schedule\_task\_future@{aws\_event\_loop\_schedule\_task\_future}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_schedule\_task\_future()}{aws\_event\_loop\_schedule\_task\_future()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+schedule\+\_\+task\+\_\+future (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$}]{task,  }\item[{uint64\+\_\+t}]{run\+\_\+at\+\_\+nanos }\end{DoxyParamCaption})}

The event loop will schedule the task and run it at the specified time. Use \mbox{\hyperlink{event__loop_8h_a0d157ed49d35a53bad8ae296132c7371}{aws\+\_\+event\+\_\+loop\+\_\+current\+\_\+clock\+\_\+time()}} to query the current time in nanoseconds. Note that cancelled tasks may execute outside the event loop thread. This function may be called from outside or inside the event loop thread.

The task should not be cleaned up or modified until its function is executed. \mbox{\Hypertarget{event__loop_8c_a93d15800f62a121228fdfd82f449266a}\label{event__loop_8c_a93d15800f62a121228fdfd82f449266a}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_schedule\_task\_now@{aws\_event\_loop\_schedule\_task\_now}}
\index{aws\_event\_loop\_schedule\_task\_now@{aws\_event\_loop\_schedule\_task\_now}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_schedule\_task\_now()}{aws\_event\_loop\_schedule\_task\_now()}}
{\footnotesize\ttfamily void aws\+\_\+event\+\_\+loop\+\_\+schedule\+\_\+task\+\_\+now (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$}]{task }\end{DoxyParamCaption})}

The event loop will schedule the task and run it on the event loop thread as soon as possible. Note that cancelled tasks may execute outside the event loop thread. This function may be called from outside or inside the event loop thread.

The task should not be cleaned up or modified until its function is executed. \mbox{\Hypertarget{event__loop_8c_ac6a699204451344c7b76b683ac0c58d0}\label{event__loop_8c_ac6a699204451344c7b76b683ac0c58d0}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_stop@{aws\_event\_loop\_stop}}
\index{aws\_event\_loop\_stop@{aws\_event\_loop\_stop}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_stop()}{aws\_event\_loop\_stop()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+stop (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

Triggers the event loop to stop, but does not wait for the loop to stop completely. This function may be called from outside or inside the event loop thread. It is safe to call multiple times. This function is called from destroy().

If you do not call destroy(), an event loop can be run again by calling stop(), wait\+\_\+for\+\_\+stop\+\_\+completion(), run(). \mbox{\Hypertarget{event__loop_8c_a948a5b2c31adbc53bc7d31bc3fd70127}\label{event__loop_8c_a948a5b2c31adbc53bc7d31bc3fd70127}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_subscribe\_to\_io\_events@{aws\_event\_loop\_subscribe\_to\_io\_events}}
\index{aws\_event\_loop\_subscribe\_to\_io\_events@{aws\_event\_loop\_subscribe\_to\_io\_events}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_subscribe\_to\_io\_events()}{aws\_event\_loop\_subscribe\_to\_io\_events()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+subscribe\+\_\+to\+\_\+io\+\_\+events (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{struct \mbox{\hyperlink{structaws__io__handle}{aws\+\_\+io\+\_\+handle}} $\ast$}]{handle,  }\item[{int}]{events,  }\item[{\mbox{\hyperlink{event__loop_8h_a566c239a15c99256d054af59e81a4038}{aws\+\_\+event\+\_\+loop\+\_\+on\+\_\+event\+\_\+fn}} $\ast$}]{on\+\_\+event,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})}

Subscribes on\+\_\+event to events on the event-\/loop for handle. events is a bitwise concatenation of the events that were received. The definition for these values can be found in aws\+\_\+io\+\_\+event\+\_\+type. Currently, only AWS\+\_\+\+IO\+\_\+\+EVENT\+\_\+\+TYPE\+\_\+\+READABLE and AWS\+\_\+\+IO\+\_\+\+EVENT\+\_\+\+TYPE\+\_\+\+WRITABLE are honored. You always are registered for error conditions and closure. This function may be called from outside or inside the event loop thread. However, the unsubscribe function must be called inside the event-\/loop\textquotesingle{}s thread. \mbox{\Hypertarget{event__loop_8c_aada21a511876d5ba1d53181673df81da}\label{event__loop_8c_aada21a511876d5ba1d53181673df81da}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_thread\_is\_callers\_thread@{aws\_event\_loop\_thread\_is\_callers\_thread}}
\index{aws\_event\_loop\_thread\_is\_callers\_thread@{aws\_event\_loop\_thread\_is\_callers\_thread}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_thread\_is\_callers\_thread()}{aws\_event\_loop\_thread\_is\_callers\_thread()}}
{\footnotesize\ttfamily bool aws\+\_\+event\+\_\+loop\+\_\+thread\+\_\+is\+\_\+callers\+\_\+thread (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

Returns true if the event loop\textquotesingle{}s thread is the same thread that called this function, otherwise false. \mbox{\Hypertarget{event__loop_8c_aa75212e47cf2fb77bd43e1a15689c252}\label{event__loop_8c_aa75212e47cf2fb77bd43e1a15689c252}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_unsubscribe\_from\_io\_events@{aws\_event\_loop\_unsubscribe\_from\_io\_events}}
\index{aws\_event\_loop\_unsubscribe\_from\_io\_events@{aws\_event\_loop\_unsubscribe\_from\_io\_events}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_unsubscribe\_from\_io\_events()}{aws\_event\_loop\_unsubscribe\_from\_io\_events()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+unsubscribe\+\_\+from\+\_\+io\+\_\+events (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop,  }\item[{struct \mbox{\hyperlink{structaws__io__handle}{aws\+\_\+io\+\_\+handle}} $\ast$}]{handle }\end{DoxyParamCaption})}

Unsubscribes handle from event-\/loop notifications. This function is not thread safe and should be called inside the event-\/loop\textquotesingle{}s thread.

NOTE\+: if you are using io completion ports, this is a risky call. We use it in places, but only when we\textquotesingle{}re certain there\textquotesingle{}s no pending events. If you want to use it, it\textquotesingle{}s your job to make sure you don\textquotesingle{}t have pending events before calling it. \mbox{\Hypertarget{event__loop_8c_ae5349fe1abc0ae0c95e52f53c6004ec9}\label{event__loop_8c_ae5349fe1abc0ae0c95e52f53c6004ec9}} 
\index{event\_loop.c@{event\_loop.c}!aws\_event\_loop\_wait\_for\_stop\_completion@{aws\_event\_loop\_wait\_for\_stop\_completion}}
\index{aws\_event\_loop\_wait\_for\_stop\_completion@{aws\_event\_loop\_wait\_for\_stop\_completion}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{aws\_event\_loop\_wait\_for\_stop\_completion()}{aws\_event\_loop\_wait\_for\_stop\_completion()}}
{\footnotesize\ttfamily int aws\+\_\+event\+\_\+loop\+\_\+wait\+\_\+for\+\_\+stop\+\_\+completion (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}} $\ast$}]{event\+\_\+loop }\end{DoxyParamCaption})}

Blocks until the event loop stops completely. If you want to call \mbox{\hyperlink{event__loop_8h_a56fec361375f8bd53ee6c29e60b48166}{aws\+\_\+event\+\_\+loop\+\_\+run()}} again, you must call this after \mbox{\hyperlink{event__loop_8h_a38d943ff4628110b3bdb18704a923173}{aws\+\_\+event\+\_\+loop\+\_\+stop()}}. It is not safe to call this function from inside the event loop thread. \mbox{\Hypertarget{event__loop_8c_a77b6e8a3afa6834a9c72319122480d3b}\label{event__loop_8c_a77b6e8a3afa6834a9c72319122480d3b}} 
\index{event\_loop.c@{event\_loop.c}!s\_aws\_event\_loop\_group\_shutdown\_async@{s\_aws\_event\_loop\_group\_shutdown\_async}}
\index{s\_aws\_event\_loop\_group\_shutdown\_async@{s\_aws\_event\_loop\_group\_shutdown\_async}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{s\_aws\_event\_loop\_group\_shutdown\_async()}{s\_aws\_event\_loop\_group\_shutdown\_async()}}
{\footnotesize\ttfamily static void s\+\_\+aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+shutdown\+\_\+async (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$}]{el\+\_\+group }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{event__loop_8c_acd5e1ba548978f553c84470e987c74df}\label{event__loop_8c_acd5e1ba548978f553c84470e987c74df}} 
\index{event\_loop.c@{event\_loop.c}!s\_aws\_event\_loop\_group\_shutdown\_sync@{s\_aws\_event\_loop\_group\_shutdown\_sync}}
\index{s\_aws\_event\_loop\_group\_shutdown\_sync@{s\_aws\_event\_loop\_group\_shutdown\_sync}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{s\_aws\_event\_loop\_group\_shutdown\_sync()}{s\_aws\_event\_loop\_group\_shutdown\_sync()}}
{\footnotesize\ttfamily static void s\+\_\+aws\+\_\+event\+\_\+loop\+\_\+group\+\_\+shutdown\+\_\+sync (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}} $\ast$}]{el\+\_\+group }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{event__loop_8c_a0e6843016aed832c5a793a1350852632}\label{event__loop_8c_a0e6843016aed832c5a793a1350852632}} 
\index{event\_loop.c@{event\_loop.c}!s\_default\_new\_event\_loop@{s\_default\_new\_event\_loop}}
\index{s\_default\_new\_event\_loop@{s\_default\_new\_event\_loop}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{s\_default\_new\_event\_loop()}{s\_default\_new\_event\_loop()}}
{\footnotesize\ttfamily static struct \mbox{\hyperlink{structaws__event__loop}{aws\+\_\+event\+\_\+loop}}$\ast$ s\+\_\+default\+\_\+new\+\_\+event\+\_\+loop (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__event__loop__options}{aws\+\_\+event\+\_\+loop\+\_\+options}} $\ast$}]{options,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{event__loop_8c_af3b4c8488e46ba80ffd56ada7b1c8df5}\label{event__loop_8c_af3b4c8488e46ba80ffd56ada7b1c8df5}} 
\index{event\_loop.c@{event\_loop.c}!s\_event\_loop\_destroy\_async\_thread\_fn@{s\_event\_loop\_destroy\_async\_thread\_fn}}
\index{s\_event\_loop\_destroy\_async\_thread\_fn@{s\_event\_loop\_destroy\_async\_thread\_fn}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{s\_event\_loop\_destroy\_async\_thread\_fn()}{s\_event\_loop\_destroy\_async\_thread\_fn()}}
{\footnotesize\ttfamily static void s\+\_\+event\+\_\+loop\+\_\+destroy\+\_\+async\+\_\+thread\+\_\+fn (\begin{DoxyParamCaption}\item[{void $\ast$}]{thread\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{event__loop_8c_a6c693c5737415a8c67f9c534e99a43a6}\label{event__loop_8c_a6c693c5737415a8c67f9c534e99a43a6}} 
\index{event\_loop.c@{event\_loop.c}!s\_event\_loop\_group\_new@{s\_event\_loop\_group\_new}}
\index{s\_event\_loop\_group\_new@{s\_event\_loop\_group\_new}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{s\_event\_loop\_group\_new()}{s\_event\_loop\_group\_new()}}
{\footnotesize\ttfamily static struct \mbox{\hyperlink{structaws__event__loop__group}{aws\+\_\+event\+\_\+loop\+\_\+group}}$\ast$ s\+\_\+event\+\_\+loop\+\_\+group\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc,  }\item[{\mbox{\hyperlink{io_8h_a7a7ab49e790eaef3914aba12fdfae2c4}{aws\+\_\+io\+\_\+clock\+\_\+fn}} $\ast$}]{clock,  }\item[{uint16\+\_\+t}]{el\+\_\+count,  }\item[{uint16\+\_\+t}]{cpu\+\_\+group,  }\item[{bool}]{pin\+\_\+threads,  }\item[{\mbox{\hyperlink{event__loop_8h_ade70b6f3aa4d29abe788c0e082a970ce}{aws\+\_\+new\+\_\+event\+\_\+loop\+\_\+fn}} $\ast$}]{new\+\_\+loop\+\_\+fn,  }\item[{void $\ast$}]{new\+\_\+loop\+\_\+user\+\_\+data,  }\item[{const struct \mbox{\hyperlink{structaws__shutdown__callback__options}{aws\+\_\+shutdown\+\_\+callback\+\_\+options}} $\ast$}]{shutdown\+\_\+options }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{event__loop_8c_a8fe91843385f48c39cfdf5cfe7c8cccd}\label{event__loop_8c_a8fe91843385f48c39cfdf5cfe7c8cccd}} 
\index{event\_loop.c@{event\_loop.c}!s\_event\_loop\_group\_thread\_exit@{s\_event\_loop\_group\_thread\_exit}}
\index{s\_event\_loop\_group\_thread\_exit@{s\_event\_loop\_group\_thread\_exit}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{s\_event\_loop\_group\_thread\_exit()}{s\_event\_loop\_group\_thread\_exit()}}
{\footnotesize\ttfamily static void s\+\_\+event\+\_\+loop\+\_\+group\+\_\+thread\+\_\+exit (\begin{DoxyParamCaption}\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{event__loop_8c_a3a840da24bf450d5a58c21d369e6f473}\label{event__loop_8c_a3a840da24bf450d5a58c21d369e6f473}} 
\index{event\_loop.c@{event\_loop.c}!s\_object\_removed@{s\_object\_removed}}
\index{s\_object\_removed@{s\_object\_removed}!event\_loop.c@{event\_loop.c}}
\doxysubsubsection{\texorpdfstring{s\_object\_removed()}{s\_object\_removed()}}
{\footnotesize\ttfamily static void s\+\_\+object\+\_\+removed (\begin{DoxyParamCaption}\item[{void $\ast$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

