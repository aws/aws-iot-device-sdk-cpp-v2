\hypertarget{assert_8h_source}{}\doxysection{assert.\+h}
\label{assert_8h_source}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/include/aws/common/assert.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/include/aws/common/assert.h}}
\mbox{\hyperlink{assert_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef AWS\_COMMON\_ASSERT\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define AWS\_COMMON\_ASSERT\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h}{aws/common/exports.h}}>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{macros_8h}{aws/common/macros.h}}>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\_EXTERN\_C\_BEGIN}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{16 AWS\_DECLSPEC\_NORETURN}
\DoxyCodeLine{17 \textcolor{keywordtype}{void} \mbox{\hyperlink{assert_8h_a3b1759cf8ee1caf8deded2afb4e344db}{aws\_fatal\_assert}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *cond\_str, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacefixup__makefiles_a48861649c723a22094b936f074258210}{file}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacefixup__makefiles_a5e26abe70faebb0ef1e8af214967f145}{line}}) AWS\_ATTRIBUTE\_NORETURN;}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \mbox{\hyperlink{macros_8h_a24efb76a3b128abc9c35d83cac0030c5}{AWS\_EXTERN\_C\_END}}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#if defined(CBMC)}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#    define AWS\_ASSUME(cond) \_\_CPROVER\_assume(cond)}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#elif defined(\_MSC\_VER)}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#    define AWS\_ASSUME(cond) \_\_assume(cond)}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#    define AWS\_UNREACHABLE() \_\_assume(0)}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#elif defined(\_\_clang\_\_)}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#    define AWS\_ASSUME(cond)                                                                                           \(\backslash\)}}
\DoxyCodeLine{28 \textcolor{preprocessor}{        do \{                                                                                                           \(\backslash\)}}
\DoxyCodeLine{29 \textcolor{preprocessor}{            bool \_result = (cond);                                                                                     \(\backslash\)}}
\DoxyCodeLine{30 \textcolor{preprocessor}{            \_\_builtin\_assume(\_result);                                                                                 \(\backslash\)}}
\DoxyCodeLine{31 \textcolor{preprocessor}{        \} while (false)}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#    define AWS\_UNREACHABLE() \_\_builtin\_unreachable()}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#elif defined(\_\_GNUC\_\_) \&\& (\_\_GNUC\_\_ > 4 || (\_\_GNUC\_\_ == 4 \&\& \_\_GNUC\_MINOR\_\_ >= 5))}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#    define AWS\_ASSUME(cond) ((cond) ? (void)0 : \_\_builtin\_unreachable())}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#    define AWS\_UNREACHABLE() \_\_builtin\_unreachable()}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#    define AWS\_ASSUME(cond)}}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#    define AWS\_UNREACHABLE()}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{preprocessor}{\#if defined(CBMC)}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#    include <\mbox{\hyperlink{assert_8h}{assert.h}}>}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#    define AWS\_ASSERT(cond) assert(cond)}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#elif defined(DEBUG\_BUILD) || \_\_clang\_analyzer\_\_}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#    define AWS\_ASSERT(cond) AWS\_FATAL\_ASSERT(cond)}}
\DoxyCodeLine{46 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#    define AWS\_ASSERT(cond)}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/*  defined(CBMC) */}\textcolor{preprocessor}{}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{preprocessor}{\#if defined(CBMC)}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#    define AWS\_FATAL\_ASSERT(cond) AWS\_ASSERT(cond)}}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#elif \_\_clang\_analyzer\_\_}}
\DoxyCodeLine{53 \textcolor{preprocessor}{\#    define AWS\_FATAL\_ASSERT(cond)                                                                                     \(\backslash\)}}
\DoxyCodeLine{54 \textcolor{preprocessor}{        if (!(cond)) \{                                                                                                 \(\backslash\)}}
\DoxyCodeLine{55 \textcolor{preprocessor}{            abort();                                                                                                   \(\backslash\)}}
\DoxyCodeLine{56 \textcolor{preprocessor}{        \}}}
\DoxyCodeLine{57 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{58 \textcolor{preprocessor}{\#    if defined(\_MSC\_VER)}}
\DoxyCodeLine{59 \textcolor{preprocessor}{\#        define AWS\_FATAL\_ASSERT(cond)                                                                                 \(\backslash\)}}
\DoxyCodeLine{60 \textcolor{preprocessor}{            \_\_pragma(warning(push)) \_\_pragma(warning(disable : 4127)) }\textcolor{comment}{/* conditional expression is constant */}\textcolor{preprocessor}{         \(\backslash\)}}
\DoxyCodeLine{61 \textcolor{preprocessor}{                if (!(cond)) \{                                                                                         \(\backslash\)}}
\DoxyCodeLine{62 \textcolor{preprocessor}{                aws\_fatal\_assert(\#cond, \_\_FILE\_\_, \_\_LINE\_\_);                                                           \(\backslash\)}}
\DoxyCodeLine{63 \textcolor{preprocessor}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{64 \textcolor{preprocessor}{            \_\_pragma(warning(pop))}}
\DoxyCodeLine{65 \textcolor{preprocessor}{\#    else}}
\DoxyCodeLine{66 \textcolor{preprocessor}{\#        define AWS\_FATAL\_ASSERT(cond)                                                                                 \(\backslash\)}}
\DoxyCodeLine{67 \textcolor{preprocessor}{            if (!(cond)) \{                                                                                             \(\backslash\)}}
\DoxyCodeLine{68 \textcolor{preprocessor}{                aws\_fatal\_assert(\#cond, \_\_FILE\_\_, \_\_LINE\_\_);                                                           \(\backslash\)}}
\DoxyCodeLine{69 \textcolor{preprocessor}{            \}}}
\DoxyCodeLine{70 \textcolor{preprocessor}{\#    endif }\textcolor{comment}{/* defined(\_MSC\_VER) */}\textcolor{preprocessor}{}}
\DoxyCodeLine{71 \textcolor{preprocessor}{\#endif     }\textcolor{comment}{/* defined(CBMC) */}\textcolor{preprocessor}{}}
\DoxyCodeLine{72 }
\DoxyCodeLine{80 \textcolor{preprocessor}{\#ifdef CBMC}}
\DoxyCodeLine{81 \textcolor{preprocessor}{\#    define AWS\_PRECONDITION2(cond, explanation) \_\_CPROVER\_precondition((cond), (explanation))}}
\DoxyCodeLine{82 \textcolor{preprocessor}{\#    define AWS\_PRECONDITION1(cond) \_\_CPROVER\_precondition((cond), \#    cond "{} check failed"{}})}
\DoxyCodeLine{83 \textcolor{preprocessor}{\#    define AWS\_FATAL\_PRECONDITION2(cond, explanation) \_\_CPROVER\_precondition((cond), (explanation))}}
\DoxyCodeLine{84 \textcolor{preprocessor}{\#    define AWS\_FATAL\_PRECONDITION1(cond) \_\_CPROVER\_precondition((cond), \#    cond "{} check failed"{}})}
\DoxyCodeLine{85 \textcolor{preprocessor}{\#    define AWS\_POSTCONDITION2(cond, explanation) \_\_CPROVER\_assert((cond), (explanation))}}
\DoxyCodeLine{86 \textcolor{preprocessor}{\#    define AWS\_POSTCONDITION1(cond) \_\_CPROVER\_assert((cond), \#    cond "{} check failed"{}})}
\DoxyCodeLine{87 \textcolor{preprocessor}{\#    define AWS\_FATAL\_POSTCONDITION2(cond, explanation) \_\_CPROVER\_assert((cond), (explanation))}}
\DoxyCodeLine{88 \textcolor{preprocessor}{\#    define AWS\_FATAL\_POSTCONDITION1(cond) \_\_CPROVER\_assert((cond), \#    cond "{} check failed"{}})}
\DoxyCodeLine{89 \textcolor{preprocessor}{\#    define AWS\_MEM\_IS\_READABLE(base, len) (((len) == 0) || (\_\_CPROVER\_r\_ok((base), (len))))}}
\DoxyCodeLine{90 \textcolor{preprocessor}{\#    define AWS\_MEM\_IS\_WRITABLE(base, len) (((len) == 0) || (\_\_CPROVER\_r\_ok((base), (len))))}}
\DoxyCodeLine{91 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{92 \textcolor{preprocessor}{\#    define AWS\_PRECONDITION2(cond, expl) AWS\_ASSERT(cond)}}
\DoxyCodeLine{93 \textcolor{preprocessor}{\#    define AWS\_PRECONDITION1(cond) AWS\_ASSERT(cond)}}
\DoxyCodeLine{94 \textcolor{preprocessor}{\#    define AWS\_FATAL\_PRECONDITION2(cond, expl) AWS\_FATAL\_ASSERT(cond)}}
\DoxyCodeLine{95 \textcolor{preprocessor}{\#    define AWS\_FATAL\_PRECONDITION1(cond) AWS\_FATAL\_ASSERT(cond)}}
\DoxyCodeLine{96 \textcolor{preprocessor}{\#    define AWS\_POSTCONDITION2(cond, expl) AWS\_ASSERT(cond)}}
\DoxyCodeLine{97 \textcolor{preprocessor}{\#    define AWS\_POSTCONDITION1(cond) AWS\_ASSERT(cond)}}
\DoxyCodeLine{98 \textcolor{preprocessor}{\#    define AWS\_FATAL\_POSTCONDITION2(cond, expl) AWS\_FATAL\_ASSERT(cond)}}
\DoxyCodeLine{99 \textcolor{preprocessor}{\#    define AWS\_FATAL\_POSTCONDITION1(cond) AWS\_FATAL\_ASSERT(cond)}}
\DoxyCodeLine{103 \textcolor{preprocessor}{\#    define AWS\_MEM\_IS\_READABLE(base, len) (((len) == 0) || (base))}}
\DoxyCodeLine{104 \textcolor{preprocessor}{\#    define AWS\_MEM\_IS\_WRITABLE(base, len) (((len) == 0) || (base))}}
\DoxyCodeLine{105 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* CBMC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \textcolor{comment}{/* Logical consequence. */}}
\DoxyCodeLine{108 \textcolor{preprocessor}{\#define AWS\_IMPLIES(a, b) (!(a) || (b))}}
\DoxyCodeLine{109 }
\DoxyCodeLine{115 \textcolor{preprocessor}{\#define AWS\_IFF(a, b) (!!(a) == !!(b))}}
\DoxyCodeLine{116 }
\DoxyCodeLine{117 \textcolor{preprocessor}{\#define AWS\_RETURN\_ERROR\_IF\_IMPL(type, cond, err, explanation)                                                         \(\backslash\)}}
\DoxyCodeLine{118 \textcolor{preprocessor}{    do \{                                                                                                               \(\backslash\)}}
\DoxyCodeLine{119 \textcolor{preprocessor}{        if (!(cond)) \{                                                                                                 \(\backslash\)}}
\DoxyCodeLine{120 \textcolor{preprocessor}{            return aws\_raise\_error(err);                                                                               \(\backslash\)}}
\DoxyCodeLine{121 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{122 \textcolor{preprocessor}{    \} while (0)}}
\DoxyCodeLine{123 }
\DoxyCodeLine{124 \textcolor{preprocessor}{\#define AWS\_RETURN\_ERROR\_IF3(cond, err, explanation) AWS\_RETURN\_ERROR\_IF\_IMPL("{}InternalCheck"{}}, cond, err, explanation)}
\DoxyCodeLine{125 \textcolor{preprocessor}{\#define AWS\_RETURN\_ERROR\_IF2(cond, err) AWS\_RETURN\_ERROR\_IF3(cond, err, \#cond "{} check failed"{}})}
\DoxyCodeLine{126 \textcolor{preprocessor}{\#define AWS\_RETURN\_ERROR\_IF(...) CALL\_OVERLOAD(AWS\_RETURN\_ERROR\_IF, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{127 }
\DoxyCodeLine{128 \textcolor{preprocessor}{\#define AWS\_ERROR\_PRECONDITION3(cond, err, explanation) AWS\_RETURN\_ERROR\_IF\_IMPL("{}Precondition"{}}, cond, err, explanation)}
\DoxyCodeLine{129 \textcolor{preprocessor}{\#define AWS\_ERROR\_PRECONDITION2(cond, err) AWS\_ERROR\_PRECONDITION3(cond, err, \#cond "{} check failed"{}})}
\DoxyCodeLine{130 \textcolor{preprocessor}{\#define AWS\_ERROR\_PRECONDITION1(cond) AWS\_ERROR\_PRECONDITION2(cond, AWS\_ERROR\_INVALID\_ARGUMENT)}}
\DoxyCodeLine{131 }
\DoxyCodeLine{132 \textcolor{preprocessor}{\#define AWS\_ERROR\_POSTCONDITION3(cond, err, explanation)                                                               \(\backslash\)}}
\DoxyCodeLine{133 \textcolor{preprocessor}{    AWS\_RETURN\_ERROR\_IF\_IMPL("{}Postcondition"{}}, cond, err, explanation)}
\DoxyCodeLine{134 \textcolor{preprocessor}{\#define AWS\_ERROR\_POSTCONDITION2(cond, err) AWS\_ERROR\_POSTCONDITION3(cond, err, \#cond "{} check failed"{}})}
\DoxyCodeLine{135 \textcolor{preprocessor}{\#define AWS\_ERROR\_POSTCONDITION1(cond) AWS\_ERROR\_POSTCONDITION2(cond, AWS\_ERROR\_INVALID\_ARGUMENT)}}
\DoxyCodeLine{136 }
\DoxyCodeLine{137 \textcolor{comment}{// The UNUSED is used to silence the complains of GCC for zero arguments in variadic macro}}
\DoxyCodeLine{138 \textcolor{preprocessor}{\#define AWS\_PRECONDITION(...) CALL\_OVERLOAD(AWS\_PRECONDITION, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{139 \textcolor{preprocessor}{\#define AWS\_FATAL\_PRECONDITION(...) CALL\_OVERLOAD(AWS\_FATAL\_PRECONDITION, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{140 \textcolor{preprocessor}{\#define AWS\_POSTCONDITION(...) CALL\_OVERLOAD(AWS\_POSTCONDITION, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{141 \textcolor{preprocessor}{\#define AWS\_FATAL\_POSTCONDITION(...) CALL\_OVERLOAD(AWS\_FATAL\_POSTCONDITION, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{142 \textcolor{preprocessor}{\#define AWS\_ERROR\_PRECONDITION(...) CALL\_OVERLOAD(AWS\_ERROR\_PRECONDITION, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{143 \textcolor{preprocessor}{\#define AWS\_ERROR\_POSTCONDITION(...) CALL\_OVERLOAD(AWS\_ERROR\_PRECONDITION, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{144 }
\DoxyCodeLine{145 \textcolor{preprocessor}{\#define AWS\_RETURN\_WITH\_POSTCONDITION(\_rval, ...)                                                                      \(\backslash\)}}
\DoxyCodeLine{146 \textcolor{preprocessor}{    do \{                                                                                                               \(\backslash\)}}
\DoxyCodeLine{147 \textcolor{preprocessor}{        AWS\_POSTCONDITION(\_\_VA\_ARGS\_\_);                                                                                \(\backslash\)}}
\DoxyCodeLine{148 \textcolor{preprocessor}{        return \_rval;                                                                                                  \(\backslash\)}}
\DoxyCodeLine{149 \textcolor{preprocessor}{    \} while (0)}}
\DoxyCodeLine{150 }
\DoxyCodeLine{151 \textcolor{preprocessor}{\#define AWS\_SUCCEED\_WITH\_POSTCONDITION(...) AWS\_RETURN\_WITH\_POSTCONDITION(AWS\_OP\_SUCCESS, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{152 }
\DoxyCodeLine{153 \textcolor{preprocessor}{\#define AWS\_OBJECT\_PTR\_IS\_READABLE(ptr) AWS\_MEM\_IS\_READABLE((ptr), sizeof(*(ptr)))}}
\DoxyCodeLine{154 \textcolor{preprocessor}{\#define AWS\_OBJECT\_PTR\_IS\_WRITABLE(ptr) AWS\_MEM\_IS\_WRITABLE((ptr), sizeof(*(ptr)))}}
\DoxyCodeLine{155 }
\DoxyCodeLine{156 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* AWS\_COMMON\_ASSERT\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
