\hypertarget{ref__count_8h_source}{}\doxysection{ref\+\_\+count.\+h}
\label{ref__count_8h_source}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/include/aws/common/ref\_count.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/include/aws/common/ref\_count.h}}
\mbox{\hyperlink{ref__count_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef AWS\_COMMON\_REF\_COUNT\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define AWS\_COMMON\_REF\_COUNT\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{aws-c-common_2include_2aws_2common_2common_8h}{aws/common/common.h}}>}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{atomics_8h}{aws/common/atomics.h}}>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{typedef} void(\mbox{\hyperlink{ref__count_8h_a28e691b74ab643c32ef20de0645e4f10}{aws\_simple\_completion\_callback}})(\textcolor{keywordtype}{void} *);}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{comment}{/*}}
\DoxyCodeLine{15 \textcolor{comment}{ * A utility type for making ref-\/counted types, reminiscent of std::shared\_ptr in C++}}
\DoxyCodeLine{16 \textcolor{comment}{ */}}
\DoxyCodeLine{17 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__ref__count}{aws\_ref\_count}} \{}
\DoxyCodeLine{18     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__atomic__var}{aws\_atomic\_var}} \mbox{\hyperlink{structaws__ref__count_ae2e50dbbf2374b5c4009e8cf61bf6444}{ref\_count}};}
\DoxyCodeLine{19     \textcolor{keywordtype}{void} *\mbox{\hyperlink{structaws__ref__count_a18ad707ad266ea658ad4be0edbdf552e}{object}};}
\DoxyCodeLine{20     \mbox{\hyperlink{ref__count_8h_a28e691b74ab643c32ef20de0645e4f10}{aws\_simple\_completion\_callback}} *\mbox{\hyperlink{structaws__ref__count_a81a5c49d5d6b845f3c924bb5f2c4ff78}{on\_zero\_fn}};}
\DoxyCodeLine{21 \};}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__shutdown__callback__options}{aws\_shutdown\_callback\_options}} \{}
\DoxyCodeLine{24     \mbox{\hyperlink{ref__count_8h_a28e691b74ab643c32ef20de0645e4f10}{aws\_simple\_completion\_callback}} *\mbox{\hyperlink{structaws__shutdown__callback__options_acf1ce0a2245b0372bc0a1cd90f67260b}{shutdown\_callback\_fn}};}
\DoxyCodeLine{25     \textcolor{keywordtype}{void} *\mbox{\hyperlink{structaws__shutdown__callback__options_a1892d581dcc21b57cff1c7681917d078}{shutdown\_callback\_user\_data}};}
\DoxyCodeLine{26 \};}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\_EXTERN\_C\_BEGIN}}}
\DoxyCodeLine{29 }
\DoxyCodeLine{37 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}} \textcolor{keywordtype}{void} \mbox{\hyperlink{ref__count_8h_a4938986d166c5720f2f846dab6fd2bed}{aws\_ref\_count\_init}}(}
\DoxyCodeLine{38     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__ref__count}{aws\_ref\_count}} *ref\_count,}
\DoxyCodeLine{39     \textcolor{keywordtype}{void} *\textcolor{keywordtype}{object},}
\DoxyCodeLine{40     \mbox{\hyperlink{ref__count_8h_a28e691b74ab643c32ef20de0645e4f10}{aws\_simple\_completion\_callback}} *on\_zero\_fn);}
\DoxyCodeLine{41 }
\DoxyCodeLine{48 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}} \textcolor{keywordtype}{void} *\mbox{\hyperlink{ref__count_8h_a4946a13c89dc9553398690f5e568681f}{aws\_ref\_count\_acquire}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__ref__count}{aws\_ref\_count}} *ref\_count);}
\DoxyCodeLine{49 }
\DoxyCodeLine{55 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{ref__count_8h_aec39341a01bf131d15e581e1d6b93779}{aws\_ref\_count\_release}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__ref__count}{aws\_ref\_count}} *ref\_count);}
\DoxyCodeLine{56 }
\DoxyCodeLine{57 \mbox{\hyperlink{macros_8h_a24efb76a3b128abc9c35d83cac0030c5}{AWS\_EXTERN\_C\_END}}}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* AWS\_COMMON\_REF\_COUNT\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
