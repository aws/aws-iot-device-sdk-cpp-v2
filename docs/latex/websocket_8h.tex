\hypertarget{websocket_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/websocket.h File Reference}
\label{websocket_8h}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/websocket.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/websocket.h}}
{\ttfamily \#include $<$aws/http/http.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__websocket__incoming__frame}{aws\+\_\+websocket\+\_\+incoming\+\_\+frame}}
\item 
struct \mbox{\hyperlink{structaws__websocket__client__connection__options}{aws\+\_\+websocket\+\_\+client\+\_\+connection\+\_\+options}}
\item 
struct \mbox{\hyperlink{structaws__websocket__send__frame__options}{aws\+\_\+websocket\+\_\+send\+\_\+frame\+\_\+options}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{websocket_8h_a68b469d3079f93518fe9c761c830e3f2}{AWS\+\_\+\+WEBSOCKET\+\_\+\+MAX\+\_\+\+PAYLOAD\+\_\+\+LENGTH}}~0x7\+FFFFFFFFFFFFFFF
\item 
\#define \mbox{\hyperlink{websocket_8h_ae2b384748dc10250fc2a9a8585c86d14}{AWS\+\_\+\+WEBSOCKET\+\_\+\+MAX\+\_\+\+HANDSHAKE\+\_\+\+KEY\+\_\+\+LENGTH}}~25
\item 
\#define \mbox{\hyperlink{websocket_8h_aaa61909517124e5fcd99e400ed979d56}{AWS\+\_\+\+WEBSOCKET\+\_\+\+CLOSE\+\_\+\+TIMEOUT}}~1000000000
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void() \mbox{\hyperlink{websocket_8h_a56377c96cca7b987658e24bc276cc979}{aws\+\_\+websocket\+\_\+on\+\_\+connection\+\_\+setup\+\_\+fn}}(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code, int handshake\+\_\+response\+\_\+status, const struct \mbox{\hyperlink{structaws__http__header}{aws\+\_\+http\+\_\+header}} $\ast$handshake\+\_\+response\+\_\+header\+\_\+array, size\+\_\+t num\+\_\+handshake\+\_\+response\+\_\+headers, void $\ast$user\+\_\+data)
\item 
typedef void() \mbox{\hyperlink{websocket_8h_aeb60b576988620b36744b776f93552aa}{aws\+\_\+websocket\+\_\+on\+\_\+connection\+\_\+shutdown\+\_\+fn}}(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code, void $\ast$user\+\_\+data)
\item 
typedef bool() \mbox{\hyperlink{websocket_8h_aafe3f4e03f8e097e00ff8839135f29e3}{aws\+\_\+websocket\+\_\+on\+\_\+incoming\+\_\+frame\+\_\+begin\+\_\+fn}}(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__incoming__frame}{aws\+\_\+websocket\+\_\+incoming\+\_\+frame}} $\ast$frame, void $\ast$user\+\_\+data)
\item 
typedef bool() \mbox{\hyperlink{websocket_8h_a96232fc291dd4d3715f64b1accf4be06}{aws\+\_\+websocket\+\_\+on\+\_\+incoming\+\_\+frame\+\_\+payload\+\_\+fn}}(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__incoming__frame}{aws\+\_\+websocket\+\_\+incoming\+\_\+frame}} $\ast$frame, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} data, void $\ast$user\+\_\+data)
\item 
typedef bool() \mbox{\hyperlink{websocket_8h_ad338634b0233c81c3cdeb252471adef1}{aws\+\_\+websocket\+\_\+on\+\_\+incoming\+\_\+frame\+\_\+complete\+\_\+fn}}(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__incoming__frame}{aws\+\_\+websocket\+\_\+incoming\+\_\+frame}} $\ast$frame, int error\+\_\+code, void $\ast$user\+\_\+data)
\item 
typedef bool() \mbox{\hyperlink{websocket_8h_a3662727148102bd8c7dd63ddc410b9f0}{aws\+\_\+websocket\+\_\+stream\+\_\+outgoing\+\_\+payload\+\_\+fn}}(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$out\+\_\+buf, void $\ast$user\+\_\+data)
\item 
typedef void() \mbox{\hyperlink{websocket_8h_a764a3b1fc51546dda9c7e61e63209d8d}{aws\+\_\+websocket\+\_\+outgoing\+\_\+frame\+\_\+complete\+\_\+fn}}(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code, void $\ast$user\+\_\+data)
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{websocket_8h_ad679ed8349ba7076e743f5e439918fe6}{aws\+\_\+websocket\+\_\+opcode}} \{ \newline
\mbox{\hyperlink{websocket_8h_ad679ed8349ba7076e743f5e439918fe6ab535fd7f0aced9dc7396eda64ed349d4}{AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+CONTINUATION}} = 0x0
, \mbox{\hyperlink{websocket_8h_ad679ed8349ba7076e743f5e439918fe6ac090ac4972e77bbfb9c492f49c5ad7e3}{AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+TEXT}} = 0x1
, \mbox{\hyperlink{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a5778f2d91a54560f23cdcfb6ac15235f}{AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+BINARY}} = 0x2
, \mbox{\hyperlink{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a94c8f1cca2801f0d5334cf30d3fb86e2}{AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+CLOSE}} = 0x8
, \newline
\mbox{\hyperlink{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a0c9fb1c80cd4a6d92df84861951c9dc4}{AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+PING}} = 0x9
, \mbox{\hyperlink{websocket_8h_ad679ed8349ba7076e743f5e439918fe6aa93b2fda9eed9f5e928364c0f6db765b}{AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+PONG}} = 0xA
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} bool \mbox{\hyperlink{websocket_8h_a0f39a7a8eac46cc5af177fcff332a5b4}{aws\+\_\+websocket\+\_\+is\+\_\+data\+\_\+frame}} (uint8\+\_\+t opcode)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int \mbox{\hyperlink{websocket_8h_ae4c8b5efa17d938517ca68330ff09bad}{aws\+\_\+websocket\+\_\+client\+\_\+connect}} (const struct \mbox{\hyperlink{structaws__websocket__client__connection__options}{aws\+\_\+websocket\+\_\+client\+\_\+connection\+\_\+options}} $\ast$options)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} void \mbox{\hyperlink{websocket_8h_ab0f2724e2bebd82a314e4d9c362d729a}{aws\+\_\+websocket\+\_\+release}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} void \mbox{\hyperlink{websocket_8h_acb7c9362d4479d1c9b24e7745a6b67c9}{aws\+\_\+websocket\+\_\+close}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, bool free\+\_\+scarce\+\_\+resources\+\_\+immediately)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int \mbox{\hyperlink{websocket_8h_a74fc5ab9d667b8be7cfacc44d79cde53}{aws\+\_\+websocket\+\_\+send\+\_\+frame}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__send__frame__options}{aws\+\_\+websocket\+\_\+send\+\_\+frame\+\_\+options}} $\ast$options)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} void \mbox{\hyperlink{websocket_8h_a759af6b2db82ad903f9141fa96594537}{aws\+\_\+websocket\+\_\+increment\+\_\+read\+\_\+window}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, size\+\_\+t size)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int \mbox{\hyperlink{websocket_8h_a5b6cf008560c80fb79b8d545a6f5914f}{aws\+\_\+websocket\+\_\+convert\+\_\+to\+\_\+midchannel\+\_\+handler}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$ \mbox{\hyperlink{websocket_8h_a5b18dbccc1e1c15f74007aca8a8e2d05}{aws\+\_\+websocket\+\_\+get\+\_\+channel}} (const struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int \mbox{\hyperlink{websocket_8h_a0e8760265d76f435577c8798a9298291}{aws\+\_\+websocket\+\_\+random\+\_\+handshake\+\_\+key}} (struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$dst)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}} $\ast$ \mbox{\hyperlink{websocket_8h_a003ffc053802f506c460722330fd7380}{aws\+\_\+http\+\_\+message\+\_\+new\+\_\+websocket\+\_\+handshake\+\_\+request}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} path, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} host)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{websocket_8h_aaa61909517124e5fcd99e400ed979d56}\label{websocket_8h_aaa61909517124e5fcd99e400ed979d56}} 
\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_CLOSE\_TIMEOUT@{AWS\_WEBSOCKET\_CLOSE\_TIMEOUT}}
\index{AWS\_WEBSOCKET\_CLOSE\_TIMEOUT@{AWS\_WEBSOCKET\_CLOSE\_TIMEOUT}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{AWS\_WEBSOCKET\_CLOSE\_TIMEOUT}{AWS\_WEBSOCKET\_CLOSE\_TIMEOUT}}
{\footnotesize\ttfamily \#define AWS\+\_\+\+WEBSOCKET\+\_\+\+CLOSE\+\_\+\+TIMEOUT~1000000000}

\mbox{\Hypertarget{websocket_8h_ae2b384748dc10250fc2a9a8585c86d14}\label{websocket_8h_ae2b384748dc10250fc2a9a8585c86d14}} 
\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_MAX\_HANDSHAKE\_KEY\_LENGTH@{AWS\_WEBSOCKET\_MAX\_HANDSHAKE\_KEY\_LENGTH}}
\index{AWS\_WEBSOCKET\_MAX\_HANDSHAKE\_KEY\_LENGTH@{AWS\_WEBSOCKET\_MAX\_HANDSHAKE\_KEY\_LENGTH}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{AWS\_WEBSOCKET\_MAX\_HANDSHAKE\_KEY\_LENGTH}{AWS\_WEBSOCKET\_MAX\_HANDSHAKE\_KEY\_LENGTH}}
{\footnotesize\ttfamily \#define AWS\+\_\+\+WEBSOCKET\+\_\+\+MAX\+\_\+\+HANDSHAKE\+\_\+\+KEY\+\_\+\+LENGTH~25}

\mbox{\Hypertarget{websocket_8h_a68b469d3079f93518fe9c761c830e3f2}\label{websocket_8h_a68b469d3079f93518fe9c761c830e3f2}} 
\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_MAX\_PAYLOAD\_LENGTH@{AWS\_WEBSOCKET\_MAX\_PAYLOAD\_LENGTH}}
\index{AWS\_WEBSOCKET\_MAX\_PAYLOAD\_LENGTH@{AWS\_WEBSOCKET\_MAX\_PAYLOAD\_LENGTH}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{AWS\_WEBSOCKET\_MAX\_PAYLOAD\_LENGTH}{AWS\_WEBSOCKET\_MAX\_PAYLOAD\_LENGTH}}
{\footnotesize\ttfamily \#define AWS\+\_\+\+WEBSOCKET\+\_\+\+MAX\+\_\+\+PAYLOAD\+\_\+\+LENGTH~0x7\+FFFFFFFFFFFFFFF}



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{websocket_8h_a56377c96cca7b987658e24bc276cc979}\label{websocket_8h_a56377c96cca7b987658e24bc276cc979}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_on\_connection\_setup\_fn@{aws\_websocket\_on\_connection\_setup\_fn}}
\index{aws\_websocket\_on\_connection\_setup\_fn@{aws\_websocket\_on\_connection\_setup\_fn}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_on\_connection\_setup\_fn}{aws\_websocket\_on\_connection\_setup\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+websocket\+\_\+on\+\_\+connection\+\_\+setup\+\_\+fn(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code, int handshake\+\_\+response\+\_\+status, const struct \mbox{\hyperlink{structaws__http__header}{aws\+\_\+http\+\_\+header}} $\ast$handshake\+\_\+response\+\_\+header\+\_\+array, size\+\_\+t num\+\_\+handshake\+\_\+response\+\_\+headers, void $\ast$user\+\_\+data)}

Called when websocket setup is complete. An error\+\_\+code of zero indicates that setup was completely successful. Called exactly once on the websocket\textquotesingle{}s event-\/loop thread.

websocket\+: if successful, a valid pointer to the websocket, otherwise NULL. error\+\_\+code\+: the operation was completely successful if this value is zero. handshake\+\_\+response\+\_\+status\+: The response status code of the HTTP handshake, 101 if successful, -\/1 if the connection failed before a response was received. handshake\+\_\+response\+\_\+header\+\_\+array\+: Headers from the HTTP handshake response. May be NULL if num\+\_\+handshake\+\_\+response\+\_\+headers is 0. Copy if necessary, this memory becomes invalid once the callback completes. num\+\_\+handshake\+\_\+response\+\_\+headers\+: Number of entries in handshake\+\_\+response\+\_\+header\+\_\+array. May be 0 if the response did not complete, or was invalid. \mbox{\Hypertarget{websocket_8h_aeb60b576988620b36744b776f93552aa}\label{websocket_8h_aeb60b576988620b36744b776f93552aa}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_on\_connection\_shutdown\_fn@{aws\_websocket\_on\_connection\_shutdown\_fn}}
\index{aws\_websocket\_on\_connection\_shutdown\_fn@{aws\_websocket\_on\_connection\_shutdown\_fn}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_on\_connection\_shutdown\_fn}{aws\_websocket\_on\_connection\_shutdown\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+websocket\+\_\+on\+\_\+connection\+\_\+shutdown\+\_\+fn(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code, void $\ast$user\+\_\+data)}

Called when the websocket has finished shutting down. Called once on the websocket\textquotesingle{}s event-\/loop thread if setup succeeded. If setup failed, this is never called. \mbox{\Hypertarget{websocket_8h_aafe3f4e03f8e097e00ff8839135f29e3}\label{websocket_8h_aafe3f4e03f8e097e00ff8839135f29e3}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_on\_incoming\_frame\_begin\_fn@{aws\_websocket\_on\_incoming\_frame\_begin\_fn}}
\index{aws\_websocket\_on\_incoming\_frame\_begin\_fn@{aws\_websocket\_on\_incoming\_frame\_begin\_fn}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_on\_incoming\_frame\_begin\_fn}{aws\_websocket\_on\_incoming\_frame\_begin\_fn}}
{\footnotesize\ttfamily typedef bool() aws\+\_\+websocket\+\_\+on\+\_\+incoming\+\_\+frame\+\_\+begin\+\_\+fn(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__incoming__frame}{aws\+\_\+websocket\+\_\+incoming\+\_\+frame}} $\ast$frame, void $\ast$user\+\_\+data)}

Called when a new frame arrives. Invoked once per frame on the websocket\textquotesingle{}s event-\/loop thread. Each incoming-\/frame-\/begin call will eventually be followed by an incoming-\/frame-\/complete call, before the next frame begins and before the websocket shuts down.

Return true to proceed normally. If false is returned, the websocket will read no further data, the frame will complete with an error-\/code, and the connection will close. \mbox{\Hypertarget{websocket_8h_ad338634b0233c81c3cdeb252471adef1}\label{websocket_8h_ad338634b0233c81c3cdeb252471adef1}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_on\_incoming\_frame\_complete\_fn@{aws\_websocket\_on\_incoming\_frame\_complete\_fn}}
\index{aws\_websocket\_on\_incoming\_frame\_complete\_fn@{aws\_websocket\_on\_incoming\_frame\_complete\_fn}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_on\_incoming\_frame\_complete\_fn}{aws\_websocket\_on\_incoming\_frame\_complete\_fn}}
{\footnotesize\ttfamily typedef bool() aws\+\_\+websocket\+\_\+on\+\_\+incoming\+\_\+frame\+\_\+complete\+\_\+fn(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__incoming__frame}{aws\+\_\+websocket\+\_\+incoming\+\_\+frame}} $\ast$frame, int error\+\_\+code, void $\ast$user\+\_\+data)}

Called when done processing an incoming frame. If error\+\_\+code is non-\/zero, an error occurred and the payload may not have been completely received. Invoked once per frame on the websocket\textquotesingle{}s event-\/loop thread.

Return true to proceed normally. If false is returned, the websocket will read no further data and the connection will close. \mbox{\Hypertarget{websocket_8h_a96232fc291dd4d3715f64b1accf4be06}\label{websocket_8h_a96232fc291dd4d3715f64b1accf4be06}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_on\_incoming\_frame\_payload\_fn@{aws\_websocket\_on\_incoming\_frame\_payload\_fn}}
\index{aws\_websocket\_on\_incoming\_frame\_payload\_fn@{aws\_websocket\_on\_incoming\_frame\_payload\_fn}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_on\_incoming\_frame\_payload\_fn}{aws\_websocket\_on\_incoming\_frame\_payload\_fn}}
{\footnotesize\ttfamily typedef bool() aws\+\_\+websocket\+\_\+on\+\_\+incoming\+\_\+frame\+\_\+payload\+\_\+fn(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__incoming__frame}{aws\+\_\+websocket\+\_\+incoming\+\_\+frame}} $\ast$frame, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} data, void $\ast$user\+\_\+data)}

Called repeatedly as payload data arrives. Invoked 0 or more times on the websocket\textquotesingle{}s event-\/loop thread. Payload data will not be valid after this call, so copy if necessary. The payload data is always unmasked at this point.

Return true to proceed normally. If false is returned, the websocket will read no further data, the frame will complete with an error-\/code, and the connection will close. \mbox{\Hypertarget{websocket_8h_a764a3b1fc51546dda9c7e61e63209d8d}\label{websocket_8h_a764a3b1fc51546dda9c7e61e63209d8d}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_outgoing\_frame\_complete\_fn@{aws\_websocket\_outgoing\_frame\_complete\_fn}}
\index{aws\_websocket\_outgoing\_frame\_complete\_fn@{aws\_websocket\_outgoing\_frame\_complete\_fn}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_outgoing\_frame\_complete\_fn}{aws\_websocket\_outgoing\_frame\_complete\_fn}}
{\footnotesize\ttfamily typedef void() aws\+\_\+websocket\+\_\+outgoing\+\_\+frame\+\_\+complete\+\_\+fn(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code, void $\ast$user\+\_\+data)}

Called when a \mbox{\hyperlink{websocket_8h_a74fc5ab9d667b8be7cfacc44d79cde53}{aws\+\_\+websocket\+\_\+send\+\_\+frame()}} operation completes. error\+\_\+code will be zero if the operation was successful. \char`\"{}\+Success\char`\"{} does not guarantee that the peer actually received or processed the frame. Invoked exactly once per sent frame on the websocket\textquotesingle{}s event-\/loop thread. \mbox{\Hypertarget{websocket_8h_a3662727148102bd8c7dd63ddc410b9f0}\label{websocket_8h_a3662727148102bd8c7dd63ddc410b9f0}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_stream\_outgoing\_payload\_fn@{aws\_websocket\_stream\_outgoing\_payload\_fn}}
\index{aws\_websocket\_stream\_outgoing\_payload\_fn@{aws\_websocket\_stream\_outgoing\_payload\_fn}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_stream\_outgoing\_payload\_fn}{aws\_websocket\_stream\_outgoing\_payload\_fn}}
{\footnotesize\ttfamily typedef bool() aws\+\_\+websocket\+\_\+stream\+\_\+outgoing\+\_\+payload\+\_\+fn(struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$out\+\_\+buf, void $\ast$user\+\_\+data)}

Called repeatedly as the websocket\textquotesingle{}s payload is streamed out. The user should write payload data to out\+\_\+buf, up to available capacity. The websocket will mask this data for you, if necessary. Invoked repeatedly on the websocket\textquotesingle{}s event-\/loop thread.

Return true to proceed normally. If false is returned, the websocket will send no further data, the frame will complete with an error-\/code, and the connection will close. 

\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{websocket_8h_ad679ed8349ba7076e743f5e439918fe6}\label{websocket_8h_ad679ed8349ba7076e743f5e439918fe6}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_opcode@{aws\_websocket\_opcode}}
\index{aws\_websocket\_opcode@{aws\_websocket\_opcode}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_opcode}{aws\_websocket\_opcode}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{websocket_8h_ad679ed8349ba7076e743f5e439918fe6}{aws\+\_\+websocket\+\_\+opcode}}}

Opcode describing the type of a websocket frame. RFC-\/6455 Section 5.\+2 \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_OPCODE\_CONTINUATION@{AWS\_WEBSOCKET\_OPCODE\_CONTINUATION}!websocket.h@{websocket.h}}\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_OPCODE\_CONTINUATION@{AWS\_WEBSOCKET\_OPCODE\_CONTINUATION}}}\mbox{\Hypertarget{websocket_8h_ad679ed8349ba7076e743f5e439918fe6ab535fd7f0aced9dc7396eda64ed349d4}\label{websocket_8h_ad679ed8349ba7076e743f5e439918fe6ab535fd7f0aced9dc7396eda64ed349d4}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+CONTINUATION&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_OPCODE\_TEXT@{AWS\_WEBSOCKET\_OPCODE\_TEXT}!websocket.h@{websocket.h}}\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_OPCODE\_TEXT@{AWS\_WEBSOCKET\_OPCODE\_TEXT}}}\mbox{\Hypertarget{websocket_8h_ad679ed8349ba7076e743f5e439918fe6ac090ac4972e77bbfb9c492f49c5ad7e3}\label{websocket_8h_ad679ed8349ba7076e743f5e439918fe6ac090ac4972e77bbfb9c492f49c5ad7e3}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+TEXT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_OPCODE\_BINARY@{AWS\_WEBSOCKET\_OPCODE\_BINARY}!websocket.h@{websocket.h}}\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_OPCODE\_BINARY@{AWS\_WEBSOCKET\_OPCODE\_BINARY}}}\mbox{\Hypertarget{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a5778f2d91a54560f23cdcfb6ac15235f}\label{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a5778f2d91a54560f23cdcfb6ac15235f}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+BINARY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_OPCODE\_CLOSE@{AWS\_WEBSOCKET\_OPCODE\_CLOSE}!websocket.h@{websocket.h}}\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_OPCODE\_CLOSE@{AWS\_WEBSOCKET\_OPCODE\_CLOSE}}}\mbox{\Hypertarget{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a94c8f1cca2801f0d5334cf30d3fb86e2}\label{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a94c8f1cca2801f0d5334cf30d3fb86e2}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+CLOSE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_OPCODE\_PING@{AWS\_WEBSOCKET\_OPCODE\_PING}!websocket.h@{websocket.h}}\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_OPCODE\_PING@{AWS\_WEBSOCKET\_OPCODE\_PING}}}\mbox{\Hypertarget{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a0c9fb1c80cd4a6d92df84861951c9dc4}\label{websocket_8h_ad679ed8349ba7076e743f5e439918fe6a0c9fb1c80cd4a6d92df84861951c9dc4}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+PING&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_WEBSOCKET\_OPCODE\_PONG@{AWS\_WEBSOCKET\_OPCODE\_PONG}!websocket.h@{websocket.h}}\index{websocket.h@{websocket.h}!AWS\_WEBSOCKET\_OPCODE\_PONG@{AWS\_WEBSOCKET\_OPCODE\_PONG}}}\mbox{\Hypertarget{websocket_8h_ad679ed8349ba7076e743f5e439918fe6aa93b2fda9eed9f5e928364c0f6db765b}\label{websocket_8h_ad679ed8349ba7076e743f5e439918fe6aa93b2fda9eed9f5e928364c0f6db765b}} 
AWS\+\_\+\+WEBSOCKET\+\_\+\+OPCODE\+\_\+\+PONG&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{websocket_8h_a003ffc053802f506c460722330fd7380}\label{websocket_8h_a003ffc053802f506c460722330fd7380}} 
\index{websocket.h@{websocket.h}!aws\_http\_message\_new\_websocket\_handshake\_request@{aws\_http\_message\_new\_websocket\_handshake\_request}}
\index{aws\_http\_message\_new\_websocket\_handshake\_request@{aws\_http\_message\_new\_websocket\_handshake\_request}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_http\_message\_new\_websocket\_handshake\_request()}{aws\_http\_message\_new\_websocket\_handshake\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}}$\ast$ aws\+\_\+http\+\_\+message\+\_\+new\+\_\+websocket\+\_\+handshake\+\_\+request (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}}}]{path,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}}}]{host }\end{DoxyParamCaption})}

Create request with all required fields for a websocket upgrade request. The method and path are set, and the the following headers are added\+:

Host\+: $<$host$>$ Upgrade\+: websocket Connection\+: Upgrade Sec-\/\+Web\+Socket-\/\+Key\+: \texorpdfstring{$<$}{<}base64 encoding of 16 random bytes\texorpdfstring{$>$}{>} Sec-\/\+Web\+Socket-\/\+Version\+: 13 \mbox{\Hypertarget{websocket_8h_ae4c8b5efa17d938517ca68330ff09bad}\label{websocket_8h_ae4c8b5efa17d938517ca68330ff09bad}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_client\_connect@{aws\_websocket\_client\_connect}}
\index{aws\_websocket\_client\_connect@{aws\_websocket\_client\_connect}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_client\_connect()}{aws\_websocket\_client\_connect()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int aws\+\_\+websocket\+\_\+client\+\_\+connect (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__websocket__client__connection__options}{aws\+\_\+websocket\+\_\+client\+\_\+connection\+\_\+options}} $\ast$}]{options }\end{DoxyParamCaption})}

Asynchronously establish a client websocket connection. The on\+\_\+connection\+\_\+setup callback is invoked when the operation has finished creating a connection, or failed. \mbox{\Hypertarget{websocket_8h_acb7c9362d4479d1c9b24e7745a6b67c9}\label{websocket_8h_acb7c9362d4479d1c9b24e7745a6b67c9}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_close@{aws\_websocket\_close}}
\index{aws\_websocket\_close@{aws\_websocket\_close}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_close()}{aws\_websocket\_close()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} void aws\+\_\+websocket\+\_\+close (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{bool}]{free\+\_\+scarce\+\_\+resources\+\_\+immediately }\end{DoxyParamCaption})}

Close the websocket connection. It is safe to call this, even if the connection is already closed or closing. The websocket will attempt to send a CLOSE frame during normal shutdown. If {\ttfamily free\+\_\+scarce\+\_\+resources\+\_\+immediately} is true, the connection will be torn down as quickly as possible. This function may be called from any thread. \mbox{\Hypertarget{websocket_8h_a5b6cf008560c80fb79b8d545a6f5914f}\label{websocket_8h_a5b6cf008560c80fb79b8d545a6f5914f}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_convert\_to\_midchannel\_handler@{aws\_websocket\_convert\_to\_midchannel\_handler}}
\index{aws\_websocket\_convert\_to\_midchannel\_handler@{aws\_websocket\_convert\_to\_midchannel\_handler}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_convert\_to\_midchannel\_handler()}{aws\_websocket\_convert\_to\_midchannel\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int aws\+\_\+websocket\+\_\+convert\+\_\+to\+\_\+midchannel\+\_\+handler (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})}

Convert the websocket into a mid-\/channel handler. The websocket will stop being usable via its public API and become just another handler in the channel. The caller will likely install a channel handler to the right. This must not be called in the middle of an incoming frame (between \char`\"{}frame begin\char`\"{} and \char`\"{}frame complete\char`\"{} callbacks). This MUST be called from the websocket\textquotesingle{}s thread.

If successful\+:
\begin{DoxyItemize}
\item Other than \mbox{\hyperlink{websocket_8h_ab0f2724e2bebd82a314e4d9c362d729a}{aws\+\_\+websocket\+\_\+release()}}, all calls to aws\+\_\+websocket\+\_\+x() functions are ignored.
\item The websocket will no longer invoke any \char`\"{}incoming frame\char`\"{} callbacks.
\item aws\+\_\+io\+\_\+messages written by a downstream handler will be wrapped in binary data frames and sent upstream. The data may be split/combined as it is sent along.
\item aws\+\_\+io\+\_\+messages read from upstream handlers will be scanned for binary data frames. The payloads of these frames will be sent downstream. The payloads may be split/combined as they are sent along.
\item An incoming close frame will automatically result in channel-\/shutdown.
\item \mbox{\hyperlink{websocket_8h_ab0f2724e2bebd82a314e4d9c362d729a}{aws\+\_\+websocket\+\_\+release()}} must still be called or the websocket and its channel will never be cleaned up.
\item The websocket will still invoke its \char`\"{}on connection shutdown\char`\"{} callback when channel shutdown completes.
\end{DoxyItemize}

If unsuccessful, NULL is returned and the websocket is unchanged. \mbox{\Hypertarget{websocket_8h_a5b18dbccc1e1c15f74007aca8a8e2d05}\label{websocket_8h_a5b18dbccc1e1c15f74007aca8a8e2d05}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_get\_channel@{aws\_websocket\_get\_channel}}
\index{aws\_websocket\_get\_channel@{aws\_websocket\_get\_channel}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_get\_channel()}{aws\_websocket\_get\_channel()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}}$\ast$ aws\+\_\+websocket\+\_\+get\+\_\+channel (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})}

Returns the websocket\textquotesingle{}s underlying I/O channel. \mbox{\Hypertarget{websocket_8h_a759af6b2db82ad903f9141fa96594537}\label{websocket_8h_a759af6b2db82ad903f9141fa96594537}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_increment\_read\_window@{aws\_websocket\_increment\_read\_window}}
\index{aws\_websocket\_increment\_read\_window@{aws\_websocket\_increment\_read\_window}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_increment\_read\_window()}{aws\_websocket\_increment\_read\_window()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} void aws\+\_\+websocket\+\_\+increment\+\_\+read\+\_\+window (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Manually increment the read window. The read window shrinks as payload data is received, and reading stops when its size reaches 0. Note that the read window can also be controlled from the \mbox{\hyperlink{websocket_8h_a96232fc291dd4d3715f64b1accf4be06}{aws\+\_\+websocket\+\_\+on\+\_\+incoming\+\_\+frame\+\_\+payload\+\_\+fn()}}, callback, by manipulating the {\ttfamily out\+\_\+increment\+\_\+window} argument. This function may be called from any thread. \mbox{\Hypertarget{websocket_8h_a0f39a7a8eac46cc5af177fcff332a5b4}\label{websocket_8h_a0f39a7a8eac46cc5af177fcff332a5b4}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_is\_data\_frame@{aws\_websocket\_is\_data\_frame}}
\index{aws\_websocket\_is\_data\_frame@{aws\_websocket\_is\_data\_frame}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_is\_data\_frame()}{aws\_websocket\_is\_data\_frame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} bool aws\+\_\+websocket\+\_\+is\+\_\+data\+\_\+frame (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{opcode }\end{DoxyParamCaption})}

Return true if opcode is for a data frame, false if opcode if for a control frame. \mbox{\Hypertarget{websocket_8h_a0e8760265d76f435577c8798a9298291}\label{websocket_8h_a0e8760265d76f435577c8798a9298291}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_random\_handshake\_key@{aws\_websocket\_random\_handshake\_key}}
\index{aws\_websocket\_random\_handshake\_key@{aws\_websocket\_random\_handshake\_key}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_random\_handshake\_key()}{aws\_websocket\_random\_handshake\_key()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int aws\+\_\+websocket\+\_\+random\+\_\+handshake\+\_\+key (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{dst }\end{DoxyParamCaption})}

Generate value for a Sec-\/\+Web\+Socket-\/\+Key header and write it into {\ttfamily dst} buffer. The buffer should have at least AWS\+\_\+\+WEBSOCKET\+\_\+\+MAX\+\_\+\+HANDSHAKE\+\_\+\+KEY\+\_\+\+LENGTH space available.

This value is the base64 encoding of a random 16-\/byte value. RFC-\/6455 Section 4.\+1 \mbox{\Hypertarget{websocket_8h_ab0f2724e2bebd82a314e4d9c362d729a}\label{websocket_8h_ab0f2724e2bebd82a314e4d9c362d729a}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_release@{aws\_websocket\_release}}
\index{aws\_websocket\_release@{aws\_websocket\_release}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_release()}{aws\_websocket\_release()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} void aws\+\_\+websocket\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})}

Users must release the websocket when they are done with it. The websocket\textquotesingle{}s memory cannot be reclaimed until this is done. If the websocket connection was not already shutting down, it will be shut down. Callbacks may continue firing after this is called, with \char`\"{}shutdown\char`\"{} being the final callback. This function may be called from any thread. \mbox{\Hypertarget{websocket_8h_a74fc5ab9d667b8be7cfacc44d79cde53}\label{websocket_8h_a74fc5ab9d667b8be7cfacc44d79cde53}} 
\index{websocket.h@{websocket.h}!aws\_websocket\_send\_frame@{aws\_websocket\_send\_frame}}
\index{aws\_websocket\_send\_frame@{aws\_websocket\_send\_frame}!websocket.h@{websocket.h}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_send\_frame()}{aws\_websocket\_send\_frame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} int aws\+\_\+websocket\+\_\+send\+\_\+frame (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{const struct \mbox{\hyperlink{structaws__websocket__send__frame__options}{aws\+\_\+websocket\+\_\+send\+\_\+frame\+\_\+options}} $\ast$}]{options }\end{DoxyParamCaption})}

Send a websocket frame. The {\ttfamily options} struct is copied. A callback will be invoked when the operation completes. This function may be called from any thread. 