\hypertarget{s2n__async__pkey_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/s2n/tls/s2n\+\_\+async\+\_\+pkey.h File Reference}
\label{s2n__async__pkey_8h}\index{crt/aws-\/crt-\/cpp/crt/s2n/tls/s2n\_async\_pkey.h@{crt/aws-\/crt-\/cpp/crt/s2n/tls/s2n\_async\_pkey.h}}
{\ttfamily \#include \char`\"{}tls/s2n\+\_\+connection.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}utils/s2n\+\_\+blob.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}utils/s2n\+\_\+result.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{s2n__async__pkey_8h_a80c13341fbfb2e4e009ad4ad901b451d}{S2\+N\+\_\+\+ASYNC\+\_\+\+PKEY\+\_\+\+GUARD}}(conn)
\item 
\#define \mbox{\hyperlink{s2n__async__pkey_8h_a24d460b6b78164f214b28c601d234e58}{S2\+N\+\_\+\+ASYNC\+\_\+\+PKEY\+\_\+\+DECRYPT}}(conn,  encrypted,  init\+\_\+decrypted,  on\+\_\+complete)~    return S2\+N\+\_\+\+RESULT\+\_\+\+TO\+\_\+\+POSIX(\mbox{\hyperlink{s2n__async__pkey_8h_af67b5746aa73664a39f925afae45f2b9}{s2n\+\_\+async\+\_\+pkey\+\_\+decrypt}}(conn, encrypted, init\+\_\+decrypted, on\+\_\+complete));
\item 
\#define \mbox{\hyperlink{s2n__async__pkey_8h_ac7d148e2c78864d508264b6638a81f80}{S2\+N\+\_\+\+ASYNC\+\_\+\+PKEY\+\_\+\+SIGN}}(conn,  sig\+\_\+alg,  digest,  on\+\_\+complete)~    return S2\+N\+\_\+\+RESULT\+\_\+\+TO\+\_\+\+POSIX(\mbox{\hyperlink{s2n__async__pkey_8h_a40030bf55355d66a65892e5c4af6ff05}{s2n\+\_\+async\+\_\+pkey\+\_\+sign}}(conn, sig\+\_\+alg, digest, on\+\_\+complete));
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int($\ast$ \mbox{\hyperlink{s2n__async__pkey_8h_ab0ae41ea1fe8196572d6131efc73939f}{s2n\+\_\+async\+\_\+pkey\+\_\+sign\+\_\+complete}}) (struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$conn, struct s2n\+\_\+blob $\ast$signature)
\item 
typedef int($\ast$ \mbox{\hyperlink{s2n__async__pkey_8h_aed227739da6e57341c0d04484879d0e7}{s2n\+\_\+async\+\_\+pkey\+\_\+decrypt\+\_\+complete}}) (struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$conn, bool rsa\+\_\+failed, struct s2n\+\_\+blob $\ast$decrypted)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{s2n__async__pkey_8h_a47687920829578eb45be9a47c826490d}{s2n\+\_\+async\+\_\+pkey\+\_\+op\+\_\+perform}} (struct \mbox{\hyperlink{structs2n__async__pkey__op}{s2n\+\_\+async\+\_\+pkey\+\_\+op}} $\ast$op, \mbox{\hyperlink{s2n_8h_a9abfa5333181eedc5c2e59bccbe60700}{s2n\+\_\+cert\+\_\+private\+\_\+key}} $\ast$key)
\item 
int \mbox{\hyperlink{s2n__async__pkey_8h_ad144bdf2d201c8a8c032563251545cbf}{s2n\+\_\+async\+\_\+pkey\+\_\+op\+\_\+apply}} (struct \mbox{\hyperlink{structs2n__async__pkey__op}{s2n\+\_\+async\+\_\+pkey\+\_\+op}} $\ast$op, struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$conn)
\item 
int \mbox{\hyperlink{s2n__async__pkey_8h_a1b0969d5027ec527296b0be240c8f440}{s2n\+\_\+async\+\_\+pkey\+\_\+op\+\_\+free}} (struct \mbox{\hyperlink{structs2n__async__pkey__op}{s2n\+\_\+async\+\_\+pkey\+\_\+op}} $\ast$op)
\item 
S2\+N\+\_\+\+RESULT \mbox{\hyperlink{s2n__async__pkey_8h_af67b5746aa73664a39f925afae45f2b9}{s2n\+\_\+async\+\_\+pkey\+\_\+decrypt}} (struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$conn, struct s2n\+\_\+blob $\ast$encrypted, struct s2n\+\_\+blob $\ast$init\+\_\+decrypted, \mbox{\hyperlink{s2n__async__pkey_8h_aed227739da6e57341c0d04484879d0e7}{s2n\+\_\+async\+\_\+pkey\+\_\+decrypt\+\_\+complete}} on\+\_\+complete)
\item 
S2\+N\+\_\+\+RESULT \mbox{\hyperlink{s2n__async__pkey_8h_a40030bf55355d66a65892e5c4af6ff05}{s2n\+\_\+async\+\_\+pkey\+\_\+sign}} (struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$conn, \mbox{\hyperlink{s2n__signature_8h_a28050d82b8dc7de14b8b0698eb526780}{s2n\+\_\+signature\+\_\+algorithm}} sig\+\_\+alg, struct \mbox{\hyperlink{structs2n__hash__state}{s2n\+\_\+hash\+\_\+state}} $\ast$digest, \mbox{\hyperlink{s2n__async__pkey_8h_ab0ae41ea1fe8196572d6131efc73939f}{s2n\+\_\+async\+\_\+pkey\+\_\+sign\+\_\+complete}} on\+\_\+complete)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{s2n__async__pkey_8h_a24d460b6b78164f214b28c601d234e58}\label{s2n__async__pkey_8h_a24d460b6b78164f214b28c601d234e58}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!S2N\_ASYNC\_PKEY\_DECRYPT@{S2N\_ASYNC\_PKEY\_DECRYPT}}
\index{S2N\_ASYNC\_PKEY\_DECRYPT@{S2N\_ASYNC\_PKEY\_DECRYPT}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{S2N\_ASYNC\_PKEY\_DECRYPT}{S2N\_ASYNC\_PKEY\_DECRYPT}}
{\footnotesize\ttfamily \#define S2\+N\+\_\+\+ASYNC\+\_\+\+PKEY\+\_\+\+DECRYPT(\begin{DoxyParamCaption}\item[{}]{conn,  }\item[{}]{encrypted,  }\item[{}]{init\+\_\+decrypted,  }\item[{}]{on\+\_\+complete }\end{DoxyParamCaption})~    return S2\+N\+\_\+\+RESULT\+\_\+\+TO\+\_\+\+POSIX(\mbox{\hyperlink{s2n__async__pkey_8h_af67b5746aa73664a39f925afae45f2b9}{s2n\+\_\+async\+\_\+pkey\+\_\+decrypt}}(conn, encrypted, init\+\_\+decrypted, on\+\_\+complete));}

\mbox{\Hypertarget{s2n__async__pkey_8h_a80c13341fbfb2e4e009ad4ad901b451d}\label{s2n__async__pkey_8h_a80c13341fbfb2e4e009ad4ad901b451d}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!S2N\_ASYNC\_PKEY\_GUARD@{S2N\_ASYNC\_PKEY\_GUARD}}
\index{S2N\_ASYNC\_PKEY\_GUARD@{S2N\_ASYNC\_PKEY\_GUARD}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{S2N\_ASYNC\_PKEY\_GUARD}{S2N\_ASYNC\_PKEY\_GUARD}}
{\footnotesize\ttfamily \#define S2\+N\+\_\+\+ASYNC\+\_\+\+PKEY\+\_\+\+GUARD(\begin{DoxyParamCaption}\item[{}]{conn }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \textcolor{keywordflow}{do} \{                                                                   \(\backslash\)}
\DoxyCodeLine{        \_\_typeof(conn) \_\_tmp\_conn = (conn);                                \(\backslash\)}
\DoxyCodeLine{        GUARD\_NONNULL(\_\_tmp\_conn);                                         \(\backslash\)}
\DoxyCodeLine{        switch (conn-\/>handshake.async\_state) \{                             \(\backslash\)}
\DoxyCodeLine{            case \mbox{\hyperlink{s2n__handshake_8h_a2558e05cc7c0ed1ca0078f77b2cd800ba34f593c781cb37a95520ba780d5772fa}{S2N\_ASYNC\_NOT\_INVOKED}}:                                    \(\backslash\)}
\DoxyCodeLine{                break;                                                     \(\backslash\)}
\DoxyCodeLine{                                                                           \(\backslash\)}
\DoxyCodeLine{            case \mbox{\hyperlink{s2n__handshake_8h_a2558e05cc7c0ed1ca0078f77b2cd800baac3ac19b87fd8db74416879709d3c6b4}{S2N\_ASYNC\_INVOKING\_CALLBACK}}:                              \(\backslash\)}
\DoxyCodeLine{            case \mbox{\hyperlink{s2n__handshake_8h_a2558e05cc7c0ed1ca0078f77b2cd800baf8cbfef7fa68b912b82b6ff14d922c84}{S2N\_ASYNC\_INVOKED\_WAITING}}:                                \(\backslash\)}
\DoxyCodeLine{                BAIL\_POSIX(\mbox{\hyperlink{s2n__errno_8h_a64ed9ec59a957387654c5e5865325374ad51616509c2e97d103eae5b6874248c0}{S2N\_ERR\_ASYNC\_BLOCKED}});                         \(\backslash\)}
\DoxyCodeLine{                                                                           \(\backslash\)}
\DoxyCodeLine{            case \mbox{\hyperlink{s2n__handshake_8h_a2558e05cc7c0ed1ca0078f77b2cd800ba3a63930d0ac8e174d96fbb3e3eefa274}{S2N\_ASYNC\_INVOKED\_COMPLETE}}:                               \(\backslash\)}
\DoxyCodeLine{                \textcolor{comment}{/* clean up state and return a success from handler */}     \(\backslash\)}
\DoxyCodeLine{                \_\_tmp\_conn-\/>handshake.async\_state = \mbox{\hyperlink{s2n__handshake_8h_a2558e05cc7c0ed1ca0078f77b2cd800ba34f593c781cb37a95520ba780d5772fa}{S2N\_ASYNC\_NOT\_INVOKED}}; \(\backslash\)}
\DoxyCodeLine{                GUARD(\mbox{\hyperlink{s2n__handshake_8h_ae096884ca55de4f4b2b3c5f44797e71d}{s2n\_conn\_clear\_handshake\_read\_block}}(\_\_tmp\_conn));    \(\backslash\)}
\DoxyCodeLine{                return \mbox{\hyperlink{s2n_8h_ab6129dcaa68297738026d5c973c9aaf6}{S2N\_SUCCESS}};                                        \(\backslash\)}
\DoxyCodeLine{        \}                                                                  \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}
\mbox{\Hypertarget{s2n__async__pkey_8h_ac7d148e2c78864d508264b6638a81f80}\label{s2n__async__pkey_8h_ac7d148e2c78864d508264b6638a81f80}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!S2N\_ASYNC\_PKEY\_SIGN@{S2N\_ASYNC\_PKEY\_SIGN}}
\index{S2N\_ASYNC\_PKEY\_SIGN@{S2N\_ASYNC\_PKEY\_SIGN}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{S2N\_ASYNC\_PKEY\_SIGN}{S2N\_ASYNC\_PKEY\_SIGN}}
{\footnotesize\ttfamily \#define S2\+N\+\_\+\+ASYNC\+\_\+\+PKEY\+\_\+\+SIGN(\begin{DoxyParamCaption}\item[{}]{conn,  }\item[{}]{sig\+\_\+alg,  }\item[{}]{digest,  }\item[{}]{on\+\_\+complete }\end{DoxyParamCaption})~    return S2\+N\+\_\+\+RESULT\+\_\+\+TO\+\_\+\+POSIX(\mbox{\hyperlink{s2n__async__pkey_8h_a40030bf55355d66a65892e5c4af6ff05}{s2n\+\_\+async\+\_\+pkey\+\_\+sign}}(conn, sig\+\_\+alg, digest, on\+\_\+complete));}



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{s2n__async__pkey_8h_aed227739da6e57341c0d04484879d0e7}\label{s2n__async__pkey_8h_aed227739da6e57341c0d04484879d0e7}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!s2n\_async\_pkey\_decrypt\_complete@{s2n\_async\_pkey\_decrypt\_complete}}
\index{s2n\_async\_pkey\_decrypt\_complete@{s2n\_async\_pkey\_decrypt\_complete}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{s2n\_async\_pkey\_decrypt\_complete}{s2n\_async\_pkey\_decrypt\_complete}}
{\footnotesize\ttfamily typedef int($\ast$ s2n\+\_\+async\+\_\+pkey\+\_\+decrypt\+\_\+complete) (struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$conn, bool rsa\+\_\+failed, struct s2n\+\_\+blob $\ast$decrypted)}

\mbox{\Hypertarget{s2n__async__pkey_8h_ab0ae41ea1fe8196572d6131efc73939f}\label{s2n__async__pkey_8h_ab0ae41ea1fe8196572d6131efc73939f}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!s2n\_async\_pkey\_sign\_complete@{s2n\_async\_pkey\_sign\_complete}}
\index{s2n\_async\_pkey\_sign\_complete@{s2n\_async\_pkey\_sign\_complete}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{s2n\_async\_pkey\_sign\_complete}{s2n\_async\_pkey\_sign\_complete}}
{\footnotesize\ttfamily typedef int($\ast$ s2n\+\_\+async\+\_\+pkey\+\_\+sign\+\_\+complete) (struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$conn, struct s2n\+\_\+blob $\ast$signature)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{s2n__async__pkey_8h_af67b5746aa73664a39f925afae45f2b9}\label{s2n__async__pkey_8h_af67b5746aa73664a39f925afae45f2b9}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!s2n\_async\_pkey\_decrypt@{s2n\_async\_pkey\_decrypt}}
\index{s2n\_async\_pkey\_decrypt@{s2n\_async\_pkey\_decrypt}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{s2n\_async\_pkey\_decrypt()}{s2n\_async\_pkey\_decrypt()}}
{\footnotesize\ttfamily S2\+N\+\_\+\+RESULT s2n\+\_\+async\+\_\+pkey\+\_\+decrypt (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$}]{conn,  }\item[{struct s2n\+\_\+blob $\ast$}]{encrypted,  }\item[{struct s2n\+\_\+blob $\ast$}]{init\+\_\+decrypted,  }\item[{\mbox{\hyperlink{s2n__async__pkey_8h_aed227739da6e57341c0d04484879d0e7}{s2n\+\_\+async\+\_\+pkey\+\_\+decrypt\+\_\+complete}}}]{on\+\_\+complete }\end{DoxyParamCaption})}

\mbox{\Hypertarget{s2n__async__pkey_8h_ad144bdf2d201c8a8c032563251545cbf}\label{s2n__async__pkey_8h_ad144bdf2d201c8a8c032563251545cbf}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!s2n\_async\_pkey\_op\_apply@{s2n\_async\_pkey\_op\_apply}}
\index{s2n\_async\_pkey\_op\_apply@{s2n\_async\_pkey\_op\_apply}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{s2n\_async\_pkey\_op\_apply()}{s2n\_async\_pkey\_op\_apply()}}
{\footnotesize\ttfamily int s2n\+\_\+async\+\_\+pkey\+\_\+op\+\_\+apply (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structs2n__async__pkey__op}{s2n\+\_\+async\+\_\+pkey\+\_\+op}} $\ast$}]{op,  }\item[{struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$}]{conn }\end{DoxyParamCaption})}

\mbox{\Hypertarget{s2n__async__pkey_8h_a1b0969d5027ec527296b0be240c8f440}\label{s2n__async__pkey_8h_a1b0969d5027ec527296b0be240c8f440}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!s2n\_async\_pkey\_op\_free@{s2n\_async\_pkey\_op\_free}}
\index{s2n\_async\_pkey\_op\_free@{s2n\_async\_pkey\_op\_free}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{s2n\_async\_pkey\_op\_free()}{s2n\_async\_pkey\_op\_free()}}
{\footnotesize\ttfamily int s2n\+\_\+async\+\_\+pkey\+\_\+op\+\_\+free (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structs2n__async__pkey__op}{s2n\+\_\+async\+\_\+pkey\+\_\+op}} $\ast$}]{op }\end{DoxyParamCaption})}

\mbox{\Hypertarget{s2n__async__pkey_8h_a47687920829578eb45be9a47c826490d}\label{s2n__async__pkey_8h_a47687920829578eb45be9a47c826490d}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!s2n\_async\_pkey\_op\_perform@{s2n\_async\_pkey\_op\_perform}}
\index{s2n\_async\_pkey\_op\_perform@{s2n\_async\_pkey\_op\_perform}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{s2n\_async\_pkey\_op\_perform()}{s2n\_async\_pkey\_op\_perform()}}
{\footnotesize\ttfamily int s2n\+\_\+async\+\_\+pkey\+\_\+op\+\_\+perform (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structs2n__async__pkey__op}{s2n\+\_\+async\+\_\+pkey\+\_\+op}} $\ast$}]{op,  }\item[{\mbox{\hyperlink{s2n_8h_a9abfa5333181eedc5c2e59bccbe60700}{s2n\+\_\+cert\+\_\+private\+\_\+key}} $\ast$}]{key }\end{DoxyParamCaption})}

\mbox{\Hypertarget{s2n__async__pkey_8h_a40030bf55355d66a65892e5c4af6ff05}\label{s2n__async__pkey_8h_a40030bf55355d66a65892e5c4af6ff05}} 
\index{s2n\_async\_pkey.h@{s2n\_async\_pkey.h}!s2n\_async\_pkey\_sign@{s2n\_async\_pkey\_sign}}
\index{s2n\_async\_pkey\_sign@{s2n\_async\_pkey\_sign}!s2n\_async\_pkey.h@{s2n\_async\_pkey.h}}
\doxysubsubsection{\texorpdfstring{s2n\_async\_pkey\_sign()}{s2n\_async\_pkey\_sign()}}
{\footnotesize\ttfamily S2\+N\+\_\+\+RESULT s2n\+\_\+async\+\_\+pkey\+\_\+sign (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structs2n__connection}{s2n\+\_\+connection}} $\ast$}]{conn,  }\item[{\mbox{\hyperlink{s2n__signature_8h_a28050d82b8dc7de14b8b0698eb526780}{s2n\+\_\+signature\+\_\+algorithm}}}]{sig\+\_\+alg,  }\item[{struct \mbox{\hyperlink{structs2n__hash__state}{s2n\+\_\+hash\+\_\+state}} $\ast$}]{digest,  }\item[{\mbox{\hyperlink{s2n__async__pkey_8h_ab0ae41ea1fe8196572d6131efc73939f}{s2n\+\_\+async\+\_\+pkey\+\_\+sign\+\_\+complete}}}]{on\+\_\+complete }\end{DoxyParamCaption})}

