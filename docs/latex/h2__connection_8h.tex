\hypertarget{h2__connection_8h}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/private/h2\+\_\+connection.h File Reference}
\label{h2__connection_8h}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/private/h2\_connection.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/include/aws/http/private/h2\_connection.h}}
{\ttfamily \#include $<$aws/common/atomics.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/fifo\+\_\+cache.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/hash\+\_\+table.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/mutex.\+h$>$}\newline
{\ttfamily \#include $<$aws/http/private/connection\+\_\+impl.\+h$>$}\newline
{\ttfamily \#include $<$aws/http/private/h2\+\_\+frames.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}}
\item 
struct \mbox{\hyperlink{structaws__h2__pending__settings}{aws\+\_\+h2\+\_\+pending\+\_\+settings}}
\item 
struct \mbox{\hyperlink{structaws__h2__pending__ping}{aws\+\_\+h2\+\_\+pending\+\_\+ping}}
\item 
struct \mbox{\hyperlink{structaws__h2__pending__goaway}{aws\+\_\+h2\+\_\+pending\+\_\+goaway}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{h2__connection_8h_aa35aa7191260117ea9dd9799935ce0fa}{AWS\+\_\+\+H2\+\_\+\+MIN\+\_\+\+WINDOW\+\_\+\+SIZE}}~(256)
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112}{aws\+\_\+h2\+\_\+stream\+\_\+closed\+\_\+when}} \{ \mbox{\hyperlink{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a5e8356f1c4bff0a070aab16731f80f34}{AWS\+\_\+\+H2\+\_\+\+STREAM\+\_\+\+CLOSED\+\_\+\+UNKNOWN}}
, \mbox{\hyperlink{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a000a43c0d86d63e17b069e3eee6dffb7}{AWS\+\_\+\+H2\+\_\+\+STREAM\+\_\+\+CLOSED\+\_\+\+WHEN\+\_\+\+BOTH\+\_\+\+SIDES\+\_\+\+END\+\_\+\+STREAM}}
, \mbox{\hyperlink{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a3c00a02c9b351c1dc74d724b84776034}{AWS\+\_\+\+H2\+\_\+\+STREAM\+\_\+\+CLOSED\+\_\+\+WHEN\+\_\+\+RST\+\_\+\+STREAM\+\_\+\+RECEIVED}}
, \mbox{\hyperlink{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a49c4e99a8eaf6270d88b30034a34e0a1}{AWS\+\_\+\+H2\+\_\+\+STREAM\+\_\+\+CLOSED\+\_\+\+WHEN\+\_\+\+RST\+\_\+\+STREAM\+\_\+\+SENT}}
 \}
\item 
enum \mbox{\hyperlink{h2__connection_8h_ac555d0770c3202aff142651a27d14637}{aws\+\_\+h2\+\_\+data\+\_\+encode\+\_\+status}} \{ \mbox{\hyperlink{h2__connection_8h_ac555d0770c3202aff142651a27d14637a62a4314256318423432ef0545607292d}{AWS\+\_\+\+H2\+\_\+\+DATA\+\_\+\+ENCODE\+\_\+\+COMPLETE}}
, \mbox{\hyperlink{h2__connection_8h_ac555d0770c3202aff142651a27d14637a7112053093b2ad3be6d4fb3291ba37b7}{AWS\+\_\+\+H2\+\_\+\+DATA\+\_\+\+ENCODE\+\_\+\+ONGOING}}
, \mbox{\hyperlink{h2__connection_8h_ac555d0770c3202aff142651a27d14637a4941d45610432d1e629fd4a97c8b616f}{AWS\+\_\+\+H2\+\_\+\+DATA\+\_\+\+ENCODE\+\_\+\+ONGOING\+\_\+\+BODY\+\_\+\+STALLED}}
, \mbox{\hyperlink{h2__connection_8h_ac555d0770c3202aff142651a27d14637a38dfc7870c8879c54ee98e67f8ff0048}{AWS\+\_\+\+H2\+\_\+\+DATA\+\_\+\+ENCODE\+\_\+\+ONGOING\+\_\+\+WINDOW\+\_\+\+STALLED}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__http__connection}{aws\+\_\+http\+\_\+connection}} $\ast$ \mbox{\hyperlink{h2__connection_8h_af490b0ce859722e75dd118d67adf2de3}{aws\+\_\+http\+\_\+connection\+\_\+new\+\_\+http2\+\_\+server}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, bool manual\+\_\+window\+\_\+management, const struct \mbox{\hyperlink{structaws__http2__connection__options}{aws\+\_\+http2\+\_\+connection\+\_\+options}} $\ast$http2\+\_\+options)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__http__connection}{aws\+\_\+http\+\_\+connection}} $\ast$ \mbox{\hyperlink{h2__connection_8h_a77c6447657a861edc65df072a472a174}{aws\+\_\+http\+\_\+connection\+\_\+new\+\_\+http2\+\_\+client}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, bool manual\+\_\+window\+\_\+management, const struct \mbox{\hyperlink{structaws__http2__connection__options}{aws\+\_\+http2\+\_\+connection\+\_\+options}} $\ast$http2\+\_\+options)
\item 
\mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__http__headers}{aws\+\_\+http\+\_\+headers}} $\ast$ \mbox{\hyperlink{h2__connection_8h_a7c82aa0315cb79ed0037fc9af3749d17}{aws\+\_\+h2\+\_\+create\+\_\+headers\+\_\+from\+\_\+request}} (struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}} $\ast$request, struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$alloc)
\item 
\mbox{\hyperlink{macros_8h_a24efb76a3b128abc9c35d83cac0030c5}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+END}} void \mbox{\hyperlink{h2__connection_8h_a08df12270597dc82662f77451d6e1f4c}{aws\+\_\+h2\+\_\+connection\+\_\+enqueue\+\_\+outgoing\+\_\+frame}} (struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$connection, struct \mbox{\hyperlink{structaws__h2__frame}{aws\+\_\+h2\+\_\+frame}} $\ast$frame)
\item 
int \mbox{\hyperlink{h2__connection_8h_ad577feef6667681b927b5bbcb02d7c6d}{aws\+\_\+h2\+\_\+connection\+\_\+on\+\_\+stream\+\_\+closed}} (struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$connection, struct \mbox{\hyperlink{structaws__h2__stream}{aws\+\_\+h2\+\_\+stream}} $\ast$stream, enum \mbox{\hyperlink{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112}{aws\+\_\+h2\+\_\+stream\+\_\+closed\+\_\+when}} closed\+\_\+when, int aws\+\_\+error\+\_\+code)
\item 
int \mbox{\hyperlink{h2__connection_8h_aaec2474c90267a884ae30969d67525ef}{aws\+\_\+h2\+\_\+connection\+\_\+send\+\_\+rst\+\_\+and\+\_\+close\+\_\+reserved\+\_\+stream}} (struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$connection, uint32\+\_\+t stream\+\_\+id, uint32\+\_\+t h2\+\_\+error\+\_\+code)
\item 
void \mbox{\hyperlink{h2__connection_8h_a3971d9ff94ec25394c52ef2a9f2dba05}{aws\+\_\+h2\+\_\+connection\+\_\+shutdown\+\_\+due\+\_\+to\+\_\+write\+\_\+err}} (struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$connection, int error\+\_\+code)
\item 
void \mbox{\hyperlink{h2__connection_8h_a5f273e3039ddd80cf9ff7b6f28bf61b6}{aws\+\_\+h2\+\_\+try\+\_\+write\+\_\+outgoing\+\_\+frames}} (struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$connection)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{h2__connection_8h_aa35aa7191260117ea9dd9799935ce0fa}\label{h2__connection_8h_aa35aa7191260117ea9dd9799935ce0fa}} 
\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_MIN\_WINDOW\_SIZE@{AWS\_H2\_MIN\_WINDOW\_SIZE}}
\index{AWS\_H2\_MIN\_WINDOW\_SIZE@{AWS\_H2\_MIN\_WINDOW\_SIZE}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{AWS\_H2\_MIN\_WINDOW\_SIZE}{AWS\_H2\_MIN\_WINDOW\_SIZE}}
{\footnotesize\ttfamily \#define AWS\+\_\+\+H2\+\_\+\+MIN\+\_\+\+WINDOW\+\_\+\+SIZE~(256)}



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{h2__connection_8h_ac555d0770c3202aff142651a27d14637}\label{h2__connection_8h_ac555d0770c3202aff142651a27d14637}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_h2\_data\_encode\_status@{aws\_h2\_data\_encode\_status}}
\index{aws\_h2\_data\_encode\_status@{aws\_h2\_data\_encode\_status}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_h2\_data\_encode\_status}{aws\_h2\_data\_encode\_status}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{h2__connection_8h_ac555d0770c3202aff142651a27d14637}{aws\+\_\+h2\+\_\+data\+\_\+encode\+\_\+status}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_H2\_DATA\_ENCODE\_COMPLETE@{AWS\_H2\_DATA\_ENCODE\_COMPLETE}!h2\_connection.h@{h2\_connection.h}}\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_DATA\_ENCODE\_COMPLETE@{AWS\_H2\_DATA\_ENCODE\_COMPLETE}}}\mbox{\Hypertarget{h2__connection_8h_ac555d0770c3202aff142651a27d14637a62a4314256318423432ef0545607292d}\label{h2__connection_8h_ac555d0770c3202aff142651a27d14637a62a4314256318423432ef0545607292d}} 
AWS\+\_\+\+H2\+\_\+\+DATA\+\_\+\+ENCODE\+\_\+\+COMPLETE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_H2\_DATA\_ENCODE\_ONGOING@{AWS\_H2\_DATA\_ENCODE\_ONGOING}!h2\_connection.h@{h2\_connection.h}}\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_DATA\_ENCODE\_ONGOING@{AWS\_H2\_DATA\_ENCODE\_ONGOING}}}\mbox{\Hypertarget{h2__connection_8h_ac555d0770c3202aff142651a27d14637a7112053093b2ad3be6d4fb3291ba37b7}\label{h2__connection_8h_ac555d0770c3202aff142651a27d14637a7112053093b2ad3be6d4fb3291ba37b7}} 
AWS\+\_\+\+H2\+\_\+\+DATA\+\_\+\+ENCODE\+\_\+\+ONGOING&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_H2\_DATA\_ENCODE\_ONGOING\_BODY\_STALLED@{AWS\_H2\_DATA\_ENCODE\_ONGOING\_BODY\_STALLED}!h2\_connection.h@{h2\_connection.h}}\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_DATA\_ENCODE\_ONGOING\_BODY\_STALLED@{AWS\_H2\_DATA\_ENCODE\_ONGOING\_BODY\_STALLED}}}\mbox{\Hypertarget{h2__connection_8h_ac555d0770c3202aff142651a27d14637a4941d45610432d1e629fd4a97c8b616f}\label{h2__connection_8h_ac555d0770c3202aff142651a27d14637a4941d45610432d1e629fd4a97c8b616f}} 
AWS\+\_\+\+H2\+\_\+\+DATA\+\_\+\+ENCODE\+\_\+\+ONGOING\+\_\+\+BODY\+\_\+\+STALLED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_H2\_DATA\_ENCODE\_ONGOING\_WINDOW\_STALLED@{AWS\_H2\_DATA\_ENCODE\_ONGOING\_WINDOW\_STALLED}!h2\_connection.h@{h2\_connection.h}}\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_DATA\_ENCODE\_ONGOING\_WINDOW\_STALLED@{AWS\_H2\_DATA\_ENCODE\_ONGOING\_WINDOW\_STALLED}}}\mbox{\Hypertarget{h2__connection_8h_ac555d0770c3202aff142651a27d14637a38dfc7870c8879c54ee98e67f8ff0048}\label{h2__connection_8h_ac555d0770c3202aff142651a27d14637a38dfc7870c8879c54ee98e67f8ff0048}} 
AWS\+\_\+\+H2\+\_\+\+DATA\+\_\+\+ENCODE\+\_\+\+ONGOING\+\_\+\+WINDOW\+\_\+\+STALLED&\\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112}\label{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_h2\_stream\_closed\_when@{aws\_h2\_stream\_closed\_when}}
\index{aws\_h2\_stream\_closed\_when@{aws\_h2\_stream\_closed\_when}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_h2\_stream\_closed\_when}{aws\_h2\_stream\_closed\_when}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112}{aws\+\_\+h2\+\_\+stream\+\_\+closed\+\_\+when}}}

The action which caused the stream to close. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_H2\_STREAM\_CLOSED\_UNKNOWN@{AWS\_H2\_STREAM\_CLOSED\_UNKNOWN}!h2\_connection.h@{h2\_connection.h}}\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_STREAM\_CLOSED\_UNKNOWN@{AWS\_H2\_STREAM\_CLOSED\_UNKNOWN}}}\mbox{\Hypertarget{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a5e8356f1c4bff0a070aab16731f80f34}\label{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a5e8356f1c4bff0a070aab16731f80f34}} 
AWS\+\_\+\+H2\+\_\+\+STREAM\+\_\+\+CLOSED\+\_\+\+UNKNOWN&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_H2\_STREAM\_CLOSED\_WHEN\_BOTH\_SIDES\_END\_STREAM@{AWS\_H2\_STREAM\_CLOSED\_WHEN\_BOTH\_SIDES\_END\_STREAM}!h2\_connection.h@{h2\_connection.h}}\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_STREAM\_CLOSED\_WHEN\_BOTH\_SIDES\_END\_STREAM@{AWS\_H2\_STREAM\_CLOSED\_WHEN\_BOTH\_SIDES\_END\_STREAM}}}\mbox{\Hypertarget{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a000a43c0d86d63e17b069e3eee6dffb7}\label{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a000a43c0d86d63e17b069e3eee6dffb7}} 
AWS\+\_\+\+H2\+\_\+\+STREAM\+\_\+\+CLOSED\+\_\+\+WHEN\+\_\+\+BOTH\+\_\+\+SIDES\+\_\+\+END\+\_\+\+STREAM&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_H2\_STREAM\_CLOSED\_WHEN\_RST\_STREAM\_RECEIVED@{AWS\_H2\_STREAM\_CLOSED\_WHEN\_RST\_STREAM\_RECEIVED}!h2\_connection.h@{h2\_connection.h}}\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_STREAM\_CLOSED\_WHEN\_RST\_STREAM\_RECEIVED@{AWS\_H2\_STREAM\_CLOSED\_WHEN\_RST\_STREAM\_RECEIVED}}}\mbox{\Hypertarget{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a3c00a02c9b351c1dc74d724b84776034}\label{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a3c00a02c9b351c1dc74d724b84776034}} 
AWS\+\_\+\+H2\+\_\+\+STREAM\+\_\+\+CLOSED\+\_\+\+WHEN\+\_\+\+RST\+\_\+\+STREAM\+\_\+\+RECEIVED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{AWS\_H2\_STREAM\_CLOSED\_WHEN\_RST\_STREAM\_SENT@{AWS\_H2\_STREAM\_CLOSED\_WHEN\_RST\_STREAM\_SENT}!h2\_connection.h@{h2\_connection.h}}\index{h2\_connection.h@{h2\_connection.h}!AWS\_H2\_STREAM\_CLOSED\_WHEN\_RST\_STREAM\_SENT@{AWS\_H2\_STREAM\_CLOSED\_WHEN\_RST\_STREAM\_SENT}}}\mbox{\Hypertarget{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a49c4e99a8eaf6270d88b30034a34e0a1}\label{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112a49c4e99a8eaf6270d88b30034a34e0a1}} 
AWS\+\_\+\+H2\+\_\+\+STREAM\+\_\+\+CLOSED\+\_\+\+WHEN\+\_\+\+RST\+\_\+\+STREAM\+\_\+\+SENT&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{h2__connection_8h_a08df12270597dc82662f77451d6e1f4c}\label{h2__connection_8h_a08df12270597dc82662f77451d6e1f4c}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_h2\_connection\_enqueue\_outgoing\_frame@{aws\_h2\_connection\_enqueue\_outgoing\_frame}}
\index{aws\_h2\_connection\_enqueue\_outgoing\_frame@{aws\_h2\_connection\_enqueue\_outgoing\_frame}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_h2\_connection\_enqueue\_outgoing\_frame()}{aws\_h2\_connection\_enqueue\_outgoing\_frame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{macros_8h_a24efb76a3b128abc9c35d83cac0030c5}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+END}} void aws\+\_\+h2\+\_\+connection\+\_\+enqueue\+\_\+outgoing\+\_\+frame (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$}]{connection,  }\item[{struct \mbox{\hyperlink{structaws__h2__frame}{aws\+\_\+h2\+\_\+frame}} $\ast$}]{frame }\end{DoxyParamCaption})}

Enqueue outgoing frame. Connection takes ownership of frame. Frames are sent into FIFO order. Do not enqueue DATA frames, these are sent by other means when the frame queue is empty. \mbox{\Hypertarget{h2__connection_8h_ad577feef6667681b927b5bbcb02d7c6d}\label{h2__connection_8h_ad577feef6667681b927b5bbcb02d7c6d}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_h2\_connection\_on\_stream\_closed@{aws\_h2\_connection\_on\_stream\_closed}}
\index{aws\_h2\_connection\_on\_stream\_closed@{aws\_h2\_connection\_on\_stream\_closed}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_h2\_connection\_on\_stream\_closed()}{aws\_h2\_connection\_on\_stream\_closed()}}
{\footnotesize\ttfamily int aws\+\_\+h2\+\_\+connection\+\_\+on\+\_\+stream\+\_\+closed (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$}]{connection,  }\item[{struct \mbox{\hyperlink{structaws__h2__stream}{aws\+\_\+h2\+\_\+stream}} $\ast$}]{stream,  }\item[{enum \mbox{\hyperlink{h2__connection_8h_a02f8816c644828f462a6bdc3c8786112}{aws\+\_\+h2\+\_\+stream\+\_\+closed\+\_\+when}}}]{closed\+\_\+when,  }\item[{int}]{aws\+\_\+error\+\_\+code }\end{DoxyParamCaption})}

Invoked immediately after a stream enters the CLOSED state. The connection will remove the stream from its \char`\"{}active\char`\"{} datastructures, guaranteeing that no further decoder callbacks are invoked on the stream.

This should NOT be invoked in the case of a \char`\"{}\+Connection Error\char`\"{}, though a \char`\"{}\+Stream Error\char`\"{}, in which a RST\+\_\+\+STREAM is sent and the stream is closed early, would invoke this. \mbox{\Hypertarget{h2__connection_8h_aaec2474c90267a884ae30969d67525ef}\label{h2__connection_8h_aaec2474c90267a884ae30969d67525ef}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_h2\_connection\_send\_rst\_and\_close\_reserved\_stream@{aws\_h2\_connection\_send\_rst\_and\_close\_reserved\_stream}}
\index{aws\_h2\_connection\_send\_rst\_and\_close\_reserved\_stream@{aws\_h2\_connection\_send\_rst\_and\_close\_reserved\_stream}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_h2\_connection\_send\_rst\_and\_close\_reserved\_stream()}{aws\_h2\_connection\_send\_rst\_and\_close\_reserved\_stream()}}
{\footnotesize\ttfamily int aws\+\_\+h2\+\_\+connection\+\_\+send\+\_\+rst\+\_\+and\+\_\+close\+\_\+reserved\+\_\+stream (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$}]{connection,  }\item[{uint32\+\_\+t}]{stream\+\_\+id,  }\item[{uint32\+\_\+t}]{h2\+\_\+error\+\_\+code }\end{DoxyParamCaption})}

Send RST\+\_\+\+STREAM and close a stream reserved via PUSH\+\_\+\+PROMISE. \mbox{\Hypertarget{h2__connection_8h_a3971d9ff94ec25394c52ef2a9f2dba05}\label{h2__connection_8h_a3971d9ff94ec25394c52ef2a9f2dba05}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_h2\_connection\_shutdown\_due\_to\_write\_err@{aws\_h2\_connection\_shutdown\_due\_to\_write\_err}}
\index{aws\_h2\_connection\_shutdown\_due\_to\_write\_err@{aws\_h2\_connection\_shutdown\_due\_to\_write\_err}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_h2\_connection\_shutdown\_due\_to\_write\_err()}{aws\_h2\_connection\_shutdown\_due\_to\_write\_err()}}
{\footnotesize\ttfamily void aws\+\_\+h2\+\_\+connection\+\_\+shutdown\+\_\+due\+\_\+to\+\_\+write\+\_\+err (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$}]{connection,  }\item[{int}]{error\+\_\+code }\end{DoxyParamCaption})}

Error happens while writing into channel, shutdown the connection. \mbox{\Hypertarget{h2__connection_8h_a7c82aa0315cb79ed0037fc9af3749d17}\label{h2__connection_8h_a7c82aa0315cb79ed0037fc9af3749d17}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_h2\_create\_headers\_from\_request@{aws\_h2\_create\_headers\_from\_request}}
\index{aws\_h2\_create\_headers\_from\_request@{aws\_h2\_create\_headers\_from\_request}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_h2\_create\_headers\_from\_request()}{aws\_h2\_create\_headers\_from\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__http__headers}{aws\+\_\+http\+\_\+headers}}$\ast$ aws\+\_\+h2\+\_\+create\+\_\+headers\+\_\+from\+\_\+request (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}} $\ast$}]{request,  }\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{alloc }\end{DoxyParamCaption})}

\mbox{\Hypertarget{h2__connection_8h_a5f273e3039ddd80cf9ff7b6f28bf61b6}\label{h2__connection_8h_a5f273e3039ddd80cf9ff7b6f28bf61b6}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_h2\_try\_write\_outgoing\_frames@{aws\_h2\_try\_write\_outgoing\_frames}}
\index{aws\_h2\_try\_write\_outgoing\_frames@{aws\_h2\_try\_write\_outgoing\_frames}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_h2\_try\_write\_outgoing\_frames()}{aws\_h2\_try\_write\_outgoing\_frames()}}
{\footnotesize\ttfamily void aws\+\_\+h2\+\_\+try\+\_\+write\+\_\+outgoing\+\_\+frames (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__h2__connection}{aws\+\_\+h2\+\_\+connection}} $\ast$}]{connection }\end{DoxyParamCaption})}

Try to write outgoing frames, if the outgoing-\/frames-\/task isn\textquotesingle{}t scheduled, run it immediately. \mbox{\Hypertarget{h2__connection_8h_a77c6447657a861edc65df072a472a174}\label{h2__connection_8h_a77c6447657a861edc65df072a472a174}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_http\_connection\_new\_http2\_client@{aws\_http\_connection\_new\_http2\_client}}
\index{aws\_http\_connection\_new\_http2\_client@{aws\_http\_connection\_new\_http2\_client}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_http\_connection\_new\_http2\_client()}{aws\_http\_connection\_new\_http2\_client()}}
{\footnotesize\ttfamily \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__http__connection}{aws\+\_\+http\+\_\+connection}}$\ast$ aws\+\_\+http\+\_\+connection\+\_\+new\+\_\+http2\+\_\+client (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{bool}]{manual\+\_\+window\+\_\+management,  }\item[{const struct \mbox{\hyperlink{structaws__http2__connection__options}{aws\+\_\+http2\+\_\+connection\+\_\+options}} $\ast$}]{http2\+\_\+options }\end{DoxyParamCaption})}

\mbox{\Hypertarget{h2__connection_8h_af490b0ce859722e75dd118d67adf2de3}\label{h2__connection_8h_af490b0ce859722e75dd118d67adf2de3}} 
\index{h2\_connection.h@{h2\_connection.h}!aws\_http\_connection\_new\_http2\_server@{aws\_http\_connection\_new\_http2\_server}}
\index{aws\_http\_connection\_new\_http2\_server@{aws\_http\_connection\_new\_http2\_server}!h2\_connection.h@{h2\_connection.h}}
\doxysubsubsection{\texorpdfstring{aws\_http\_connection\_new\_http2\_server()}{aws\_http\_connection\_new\_http2\_server()}}
{\footnotesize\ttfamily \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\+\_\+\+EXTERN\+\_\+\+C\+\_\+\+BEGIN}} \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-http_2include_2aws_2http_2_exports_8h_a8eba90dca01a9989cacc0060fa84122a}{AWS\+\_\+\+HTTP\+\_\+\+API}} struct \mbox{\hyperlink{structaws__http__connection}{aws\+\_\+http\+\_\+connection}}$\ast$ aws\+\_\+http\+\_\+connection\+\_\+new\+\_\+http2\+\_\+server (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{bool}]{manual\+\_\+window\+\_\+management,  }\item[{const struct \mbox{\hyperlink{structaws__http2__connection__options}{aws\+\_\+http2\+\_\+connection\+\_\+options}} $\ast$}]{http2\+\_\+options }\end{DoxyParamCaption})}

