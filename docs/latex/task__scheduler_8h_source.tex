\hypertarget{task__scheduler_8h_source}{}\doxysection{task\+\_\+scheduler.\+h}
\label{task__scheduler_8h_source}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/include/aws/common/task\_scheduler.h@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/include/aws/common/task\_scheduler.h}}
\mbox{\hyperlink{task__scheduler_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef AWS\_COMMON\_TASK\_SCHEDULER\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define AWS\_COMMON\_TASK\_SCHEDULER\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{aws-c-common_2include_2aws_2common_2common_8h}{aws/common/common.h}}>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{linked__list_8h}{aws/common/linked\_list.h}}>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{priority__queue_8h}{aws/common/priority\_queue.h}}>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__task}{aws\_task}};}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\_task\_status}} \{}
\DoxyCodeLine{16     \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032ea990d7cf24f10f1e4bcf17a5afe0135f3}{AWS\_TASK\_STATUS\_RUN\_READY}},}
\DoxyCodeLine{17     \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032ea10665bca2a3021788d78512a377f83a4}{AWS\_TASK\_STATUS\_CANCELED}},}
\DoxyCodeLine{18 \} \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\_task\_status}};}
\DoxyCodeLine{19 }
\DoxyCodeLine{23 \textcolor{keyword}{typedef} void(\mbox{\hyperlink{task__scheduler_8h_a906b373bb52f20dfe8748e72fd71ba46}{aws\_task\_fn}})(\textcolor{keyword}{struct }\mbox{\hyperlink{structaws__task}{aws\_task}} *task, \textcolor{keywordtype}{void} *\mbox{\hyperlink{structaws__task_a0fc35cfbbc5a249945ada11097ce2839}{arg}}, \textcolor{keyword}{enum} \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\_task\_status}});}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{comment}{/*}}
\DoxyCodeLine{26 \textcolor{comment}{ * A task object.}}
\DoxyCodeLine{27 \textcolor{comment}{ * Once added to the scheduler, a task must remain in memory until its function is executed.}}
\DoxyCodeLine{28 \textcolor{comment}{ */}}
\DoxyCodeLine{29 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__task}{aws\_task}} \{}
\DoxyCodeLine{30     \mbox{\hyperlink{task__scheduler_8h_a906b373bb52f20dfe8748e72fd71ba46}{aws\_task\_fn}} *\mbox{\hyperlink{structaws__task_abfc64c6ba2daa37981662fb7ebcd616d}{fn}};}
\DoxyCodeLine{31     \textcolor{keywordtype}{void} *\mbox{\hyperlink{structaws__task_a0fc35cfbbc5a249945ada11097ce2839}{arg}};}
\DoxyCodeLine{32     uint64\_t \mbox{\hyperlink{structaws__task_ab21a93bdb5ffeff38d1a0d6483518ad3}{timestamp}};}
\DoxyCodeLine{33     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__linked__list__node}{aws\_linked\_list\_node}} \mbox{\hyperlink{structaws__task_adb32096bd375e5fa5fd0b17f1a87ec9f}{node}};}
\DoxyCodeLine{34     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__priority__queue__node}{aws\_priority\_queue\_node}} \mbox{\hyperlink{structaws__task_aca9c82e3ebb5769ee4ff2325ce1a4eb3}{priority\_queue\_node}};}
\DoxyCodeLine{35     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structaws__task_ae67880544be55b499b702456d8957c78}{type\_tag}};}
\DoxyCodeLine{36 }
\DoxyCodeLine{37     \textcolor{comment}{/* honor the ABI compat */}}
\DoxyCodeLine{38     \textcolor{keyword}{union }\{}
\DoxyCodeLine{39         \textcolor{keywordtype}{bool} \mbox{\hyperlink{structaws__task_a5e21079a2aca649961fe487a69e99a8d}{scheduled}};}
\DoxyCodeLine{40         \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structaws__task_a25a7529c36bcac9f281538de47bdf6da}{reserved}};}
\DoxyCodeLine{41     \} \mbox{\hyperlink{structaws__task_a6c4edfd78d6c3816449b11d418b6eb0b}{abi\_extension}};}
\DoxyCodeLine{42 \};}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} \{}
\DoxyCodeLine{45     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__allocator}{aws\_allocator}} *\mbox{\hyperlink{structaws__task__scheduler_ae7778b983f3f568ba49b64d5f196d8fe}{alloc}};}
\DoxyCodeLine{46     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__priority__queue}{aws\_priority\_queue}} \mbox{\hyperlink{structaws__task__scheduler_aa90e7d21f1aa41c7e67e084f6fd2615d}{timed\_queue}}; \textcolor{comment}{/* Tasks scheduled to run at specific times */}}
\DoxyCodeLine{47     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__linked__list}{aws\_linked\_list}} \mbox{\hyperlink{structaws__task__scheduler_acac49d1f6b7fefe19071e613c51454e0}{timed\_list}};     \textcolor{comment}{/* If timed\_queue runs out of memory, further timed tests are stored here */}}
\DoxyCodeLine{48     \textcolor{keyword}{struct }\mbox{\hyperlink{structaws__linked__list}{aws\_linked\_list}} \mbox{\hyperlink{structaws__task__scheduler_aa61034f778aa6df1a40e9e165a1196fd}{asap\_list}};      \textcolor{comment}{/* Tasks scheduled to run as soon as possible */}}
\DoxyCodeLine{49 \};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51 \mbox{\hyperlink{macros_8h_ab6f66af8231eba5da061b9ada0d29bad}{AWS\_EXTERN\_C\_BEGIN}}}
\DoxyCodeLine{52 }
\DoxyCodeLine{56 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{57 \textcolor{keywordtype}{void} \mbox{\hyperlink{task__scheduler_8h_a938427b199b697e4f4ee0e553653613d}{aws\_task\_init}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task}{aws\_task}} *task, \mbox{\hyperlink{task__scheduler_8h_a906b373bb52f20dfe8748e72fd71ba46}{aws\_task\_fn}} *fn, \textcolor{keywordtype}{void} *arg, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *type\_tag);}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 \textcolor{comment}{/*}}
\DoxyCodeLine{60 \textcolor{comment}{ * Runs or cancels a task}}
\DoxyCodeLine{61 \textcolor{comment}{ */}}
\DoxyCodeLine{62 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{63 \textcolor{keywordtype}{void} \mbox{\hyperlink{task__scheduler_8h_acf57fa2a75c5baa2fc56861c69cfd9b9}{aws\_task\_run}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task}{aws\_task}} *task, \textcolor{keyword}{enum} \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\_task\_status}} status);}
\DoxyCodeLine{64 }
\DoxyCodeLine{68 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{69 \textcolor{keywordtype}{int} \mbox{\hyperlink{task__scheduler_8h_adef550c7335e57f3f57a3fdd49a2e10d}{aws\_task\_scheduler\_init}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} *scheduler, \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__allocator}{aws\_allocator}} *alloc);}
\DoxyCodeLine{70 }
\DoxyCodeLine{75 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{76 \textcolor{keywordtype}{void} \mbox{\hyperlink{task__scheduler_8h_abd9af506a5bbb7d75e3007b71dcbb5b4}{aws\_task\_scheduler\_clean\_up}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} *scheduler);}
\DoxyCodeLine{77 }
\DoxyCodeLine{78 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{79 \textcolor{keywordtype}{bool} \mbox{\hyperlink{task__scheduler_8h_ad4e1c6ad3fb041d7bada5de799fc6d01}{aws\_task\_scheduler\_is\_valid}}(\textcolor{keyword}{const} \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} *scheduler);}
\DoxyCodeLine{80 }
\DoxyCodeLine{86 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{87 \textcolor{keywordtype}{bool} \mbox{\hyperlink{task__scheduler_8h_a4f977fc176cb0812de49d182404370e7}{aws\_task\_scheduler\_has\_tasks}}(\textcolor{keyword}{const} \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} *scheduler, uint64\_t *next\_task\_time);}
\DoxyCodeLine{88 }
\DoxyCodeLine{93 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{94 \textcolor{keywordtype}{void} \mbox{\hyperlink{task__scheduler_8h_af829b95fb361631a8ff1b1e3a663a81f}{aws\_task\_scheduler\_schedule\_now}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} *scheduler, \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task}{aws\_task}} *task);}
\DoxyCodeLine{95 }
\DoxyCodeLine{100 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{101 \textcolor{keywordtype}{void} \mbox{\hyperlink{task__scheduler_8h_a78aa62792f380e32dc717649ee698d24}{aws\_task\_scheduler\_schedule\_future}}(}
\DoxyCodeLine{102     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} *scheduler,}
\DoxyCodeLine{103     \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task}{aws\_task}} *task,}
\DoxyCodeLine{104     uint64\_t time\_to\_run);}
\DoxyCodeLine{105 }
\DoxyCodeLine{109 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{110 \textcolor{keywordtype}{void} \mbox{\hyperlink{task__scheduler_8h_afafcb055f79f1ae8f78a39b98f3fd809}{aws\_task\_scheduler\_cancel\_task}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} *scheduler, \textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task}{aws\_task}} *task);}
\DoxyCodeLine{111 }
\DoxyCodeLine{118 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{119 \textcolor{keywordtype}{void} \mbox{\hyperlink{task__scheduler_8h_a0feba5b9b530f3fe689ec9771b61598d}{aws\_task\_scheduler\_run\_all}}(\textcolor{keyword}{struct} \mbox{\hyperlink{structaws__task__scheduler}{aws\_task\_scheduler}} *scheduler, uint64\_t current\_time);}
\DoxyCodeLine{120 }
\DoxyCodeLine{124 \mbox{\hyperlink{crt_2aws-crt-cpp_2crt_2aws-c-common_2include_2aws_2common_2_exports_8h_a4d44553ff7ad58c9718deb08c64c49a6}{AWS\_COMMON\_API}}}
\DoxyCodeLine{125 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{task__scheduler_8h_a0d522273b47afbc25226ffe589909bea}{aws\_task\_status\_to\_c\_str}}(\textcolor{keyword}{enum} \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\_task\_status}} status);}
\DoxyCodeLine{126 }
\DoxyCodeLine{127 \mbox{\hyperlink{macros_8h_a24efb76a3b128abc9c35d83cac0030c5}{AWS\_EXTERN\_C\_END}}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* AWS\_COMMON\_TASK\_SCHEDULER\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
