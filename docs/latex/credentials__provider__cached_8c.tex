\hypertarget{credentials__provider__cached_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/auth/source/credentials\+\_\+provider\+\_\+cached.c File Reference}
\label{credentials__provider__cached_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/auth/source/credentials\_provider\_cached.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/auth/source/credentials\_provider\_cached.c}}
{\ttfamily \#include $<$aws/auth/credentials.\+h$>$}\newline
{\ttfamily \#include $<$aws/auth/private/credentials\+\_\+utils.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/clock.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/mutex.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/time.\+h$>$}\newline
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__credentials__provider__cached}{aws\+\_\+credentials\+\_\+provider\+\_\+cached}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{credentials__provider__cached_8c_ae328d6ca4a4c36552a5f287cceea9563}{REFRESH\+\_\+\+CREDENTIALS\+\_\+\+EARLY\+\_\+\+DURATION\+\_\+\+SECONDS}}~10
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{credentials__provider__cached_8c_a0e0151d79236f911aec4e6f0155a6cde}{s\+\_\+aws\+\_\+credentials\+\_\+query\+\_\+list\+\_\+notify\+\_\+and\+\_\+clean\+\_\+up}} (struct \mbox{\hyperlink{structaws__linked__list}{aws\+\_\+linked\+\_\+list}} $\ast$query\+\_\+list, struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, struct \mbox{\hyperlink{structaws__credentials}{aws\+\_\+credentials}} $\ast$credentials, int error\+\_\+code)
\item 
static void \mbox{\hyperlink{credentials__provider__cached_8c_a45b14a1258036aad035e27b4cebfc594}{s\+\_\+swap\+\_\+cached\+\_\+credentials}} (struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$provider, struct \mbox{\hyperlink{structaws__credentials}{aws\+\_\+credentials}} $\ast$new\+\_\+credentials)
\item 
static void \mbox{\hyperlink{credentials__provider__cached_8c_ab0c096a00de389e84197971a2de90544}{s\+\_\+cached\+\_\+credentials\+\_\+provider\+\_\+get\+\_\+credentials\+\_\+async\+\_\+callback}} (struct \mbox{\hyperlink{structaws__credentials}{aws\+\_\+credentials}} $\ast$credentials, int error\+\_\+code, void $\ast$user\+\_\+data)
\item 
static int \mbox{\hyperlink{credentials__provider__cached_8c_a01a265443f34f9f6175644c58b3d2e53}{s\+\_\+cached\+\_\+credentials\+\_\+provider\+\_\+get\+\_\+credentials\+\_\+async}} (struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$provider, \mbox{\hyperlink{crt_2aws-c-auth_2include_2aws_2auth_2_credentials_8h_a0de102d63db792e21787cb284cbf4871}{aws\+\_\+on\+\_\+get\+\_\+credentials\+\_\+callback\+\_\+fn}} callback, void $\ast$user\+\_\+data)
\item 
static void \mbox{\hyperlink{credentials__provider__cached_8c_abcc66fc32748d6ab6bd961da6f9ece0c}{s\+\_\+cached\+\_\+credentials\+\_\+provider\+\_\+destroy}} (struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$provider)
\item 
struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$ \mbox{\hyperlink{credentials__provider__cached_8c_a2f6843cb832bc639d12784ead1363c35}{aws\+\_\+credentials\+\_\+provider\+\_\+new\+\_\+cached}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, const struct \mbox{\hyperlink{structaws__credentials__provider__cached__options}{aws\+\_\+credentials\+\_\+provider\+\_\+cached\+\_\+options}} $\ast$options)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static struct \mbox{\hyperlink{structaws__credentials__provider__vtable}{aws\+\_\+credentials\+\_\+provider\+\_\+vtable}} \mbox{\hyperlink{credentials__provider__cached_8c_a20e358c01e9e06ceefe6ce35a0d06d82}{s\+\_\+aws\+\_\+credentials\+\_\+provider\+\_\+cached\+\_\+vtable}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{credentials__provider__cached_8c_ae328d6ca4a4c36552a5f287cceea9563}\label{credentials__provider__cached_8c_ae328d6ca4a4c36552a5f287cceea9563}} 
\index{credentials\_provider\_cached.c@{credentials\_provider\_cached.c}!REFRESH\_CREDENTIALS\_EARLY\_DURATION\_SECONDS@{REFRESH\_CREDENTIALS\_EARLY\_DURATION\_SECONDS}}
\index{REFRESH\_CREDENTIALS\_EARLY\_DURATION\_SECONDS@{REFRESH\_CREDENTIALS\_EARLY\_DURATION\_SECONDS}!credentials\_provider\_cached.c@{credentials\_provider\_cached.c}}
\doxysubsubsection{\texorpdfstring{REFRESH\_CREDENTIALS\_EARLY\_DURATION\_SECONDS}{REFRESH\_CREDENTIALS\_EARLY\_DURATION\_SECONDS}}
{\footnotesize\ttfamily \#define REFRESH\+\_\+\+CREDENTIALS\+\_\+\+EARLY\+\_\+\+DURATION\+\_\+\+SECONDS~10}

Copyright Amazon.\+com, Inc. or its affiliates. All Rights Reserved. SPDX-\/\+License-\/\+Identifier\+: Apache-\/2.\+0. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{credentials__provider__cached_8c_a2f6843cb832bc639d12784ead1363c35}\label{credentials__provider__cached_8c_a2f6843cb832bc639d12784ead1363c35}} 
\index{credentials\_provider\_cached.c@{credentials\_provider\_cached.c}!aws\_credentials\_provider\_new\_cached@{aws\_credentials\_provider\_new\_cached}}
\index{aws\_credentials\_provider\_new\_cached@{aws\_credentials\_provider\_new\_cached}!credentials\_provider\_cached.c@{credentials\_provider\_cached.c}}
\doxysubsubsection{\texorpdfstring{aws\_credentials\_provider\_new\_cached()}{aws\_credentials\_provider\_new\_cached()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}}$\ast$ aws\+\_\+credentials\+\_\+provider\+\_\+new\+\_\+cached (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__credentials__provider__cached__options}{aws\+\_\+credentials\+\_\+provider\+\_\+cached\+\_\+options}} $\ast$}]{options }\end{DoxyParamCaption})}

Creates a provider that functions as a caching decorating of another provider.

For example, the default chain is implemented as\+:

Cached\+Provider -\/\texorpdfstring{$>$}{>} Provider\+Chain(Environment\+Provider -\/\texorpdfstring{$>$}{>} Profile\+Provider -\/\texorpdfstring{$>$}{>} ECS/\+EC2\+IMD etc...)

A reference is taken on the target provider


\begin{DoxyParams}{Parameters}
{\em allocator} & memory allocator to use for all memory allocation \\
\hline
{\em options} & provider-\/specific configuration options\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the newly-\/constructed credentials provider, or NULL if an error occurred. 
\end{DoxyReturn}
\mbox{\Hypertarget{credentials__provider__cached_8c_a0e0151d79236f911aec4e6f0155a6cde}\label{credentials__provider__cached_8c_a0e0151d79236f911aec4e6f0155a6cde}} 
\index{credentials\_provider\_cached.c@{credentials\_provider\_cached.c}!s\_aws\_credentials\_query\_list\_notify\_and\_clean\_up@{s\_aws\_credentials\_query\_list\_notify\_and\_clean\_up}}
\index{s\_aws\_credentials\_query\_list\_notify\_and\_clean\_up@{s\_aws\_credentials\_query\_list\_notify\_and\_clean\_up}!credentials\_provider\_cached.c@{credentials\_provider\_cached.c}}
\doxysubsubsection{\texorpdfstring{s\_aws\_credentials\_query\_list\_notify\_and\_clean\_up()}{s\_aws\_credentials\_query\_list\_notify\_and\_clean\_up()}}
{\footnotesize\ttfamily static void s\+\_\+aws\+\_\+credentials\+\_\+query\+\_\+list\+\_\+notify\+\_\+and\+\_\+clean\+\_\+up (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__linked__list}{aws\+\_\+linked\+\_\+list}} $\ast$}]{query\+\_\+list,  }\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{struct \mbox{\hyperlink{structaws__credentials}{aws\+\_\+credentials}} $\ast$}]{credentials,  }\item[{int}]{error\+\_\+code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__cached_8c_abcc66fc32748d6ab6bd961da6f9ece0c}\label{credentials__provider__cached_8c_abcc66fc32748d6ab6bd961da6f9ece0c}} 
\index{credentials\_provider\_cached.c@{credentials\_provider\_cached.c}!s\_cached\_credentials\_provider\_destroy@{s\_cached\_credentials\_provider\_destroy}}
\index{s\_cached\_credentials\_provider\_destroy@{s\_cached\_credentials\_provider\_destroy}!credentials\_provider\_cached.c@{credentials\_provider\_cached.c}}
\doxysubsubsection{\texorpdfstring{s\_cached\_credentials\_provider\_destroy()}{s\_cached\_credentials\_provider\_destroy()}}
{\footnotesize\ttfamily static void s\+\_\+cached\+\_\+credentials\+\_\+provider\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$}]{provider }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__cached_8c_a01a265443f34f9f6175644c58b3d2e53}\label{credentials__provider__cached_8c_a01a265443f34f9f6175644c58b3d2e53}} 
\index{credentials\_provider\_cached.c@{credentials\_provider\_cached.c}!s\_cached\_credentials\_provider\_get\_credentials\_async@{s\_cached\_credentials\_provider\_get\_credentials\_async}}
\index{s\_cached\_credentials\_provider\_get\_credentials\_async@{s\_cached\_credentials\_provider\_get\_credentials\_async}!credentials\_provider\_cached.c@{credentials\_provider\_cached.c}}
\doxysubsubsection{\texorpdfstring{s\_cached\_credentials\_provider\_get\_credentials\_async()}{s\_cached\_credentials\_provider\_get\_credentials\_async()}}
{\footnotesize\ttfamily static int s\+\_\+cached\+\_\+credentials\+\_\+provider\+\_\+get\+\_\+credentials\+\_\+async (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$}]{provider,  }\item[{\mbox{\hyperlink{crt_2aws-c-auth_2include_2aws_2auth_2_credentials_8h_a0de102d63db792e21787cb284cbf4871}{aws\+\_\+on\+\_\+get\+\_\+credentials\+\_\+callback\+\_\+fn}}}]{callback,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__cached_8c_ab0c096a00de389e84197971a2de90544}\label{credentials__provider__cached_8c_ab0c096a00de389e84197971a2de90544}} 
\index{credentials\_provider\_cached.c@{credentials\_provider\_cached.c}!s\_cached\_credentials\_provider\_get\_credentials\_async\_callback@{s\_cached\_credentials\_provider\_get\_credentials\_async\_callback}}
\index{s\_cached\_credentials\_provider\_get\_credentials\_async\_callback@{s\_cached\_credentials\_provider\_get\_credentials\_async\_callback}!credentials\_provider\_cached.c@{credentials\_provider\_cached.c}}
\doxysubsubsection{\texorpdfstring{s\_cached\_credentials\_provider\_get\_credentials\_async\_callback()}{s\_cached\_credentials\_provider\_get\_credentials\_async\_callback()}}
{\footnotesize\ttfamily static void s\+\_\+cached\+\_\+credentials\+\_\+provider\+\_\+get\+\_\+credentials\+\_\+async\+\_\+callback (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__credentials}{aws\+\_\+credentials}} $\ast$}]{credentials,  }\item[{int}]{error\+\_\+code,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{credentials__provider__cached_8c_a45b14a1258036aad035e27b4cebfc594}\label{credentials__provider__cached_8c_a45b14a1258036aad035e27b4cebfc594}} 
\index{credentials\_provider\_cached.c@{credentials\_provider\_cached.c}!s\_swap\_cached\_credentials@{s\_swap\_cached\_credentials}}
\index{s\_swap\_cached\_credentials@{s\_swap\_cached\_credentials}!credentials\_provider\_cached.c@{credentials\_provider\_cached.c}}
\doxysubsubsection{\texorpdfstring{s\_swap\_cached\_credentials()}{s\_swap\_cached\_credentials()}}
{\footnotesize\ttfamily static void s\+\_\+swap\+\_\+cached\+\_\+credentials (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__credentials__provider}{aws\+\_\+credentials\+\_\+provider}} $\ast$}]{provider,  }\item[{struct \mbox{\hyperlink{structaws__credentials}{aws\+\_\+credentials}} $\ast$}]{new\+\_\+credentials }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{credentials__provider__cached_8c_a20e358c01e9e06ceefe6ce35a0d06d82}\label{credentials__provider__cached_8c_a20e358c01e9e06ceefe6ce35a0d06d82}} 
\index{credentials\_provider\_cached.c@{credentials\_provider\_cached.c}!s\_aws\_credentials\_provider\_cached\_vtable@{s\_aws\_credentials\_provider\_cached\_vtable}}
\index{s\_aws\_credentials\_provider\_cached\_vtable@{s\_aws\_credentials\_provider\_cached\_vtable}!credentials\_provider\_cached.c@{credentials\_provider\_cached.c}}
\doxysubsubsection{\texorpdfstring{s\_aws\_credentials\_provider\_cached\_vtable}{s\_aws\_credentials\_provider\_cached\_vtable}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__credentials__provider__vtable}{aws\+\_\+credentials\+\_\+provider\+\_\+vtable}} s\+\_\+aws\+\_\+credentials\+\_\+provider\+\_\+cached\+\_\+vtable\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .get\_credentials = \mbox{\hyperlink{credentials__provider__cached_8c_a01a265443f34f9f6175644c58b3d2e53}{s\_cached\_credentials\_provider\_get\_credentials\_async}},}
\DoxyCodeLine{    .destroy = \mbox{\hyperlink{credentials__provider__cached_8c_abcc66fc32748d6ab6bd961da6f9ece0c}{s\_cached\_credentials\_provider\_destroy}},}
\DoxyCodeLine{\}}

\end{DoxyCode}
