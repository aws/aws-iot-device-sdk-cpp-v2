\hypertarget{standard__retry__strategy_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/source/standard\+\_\+retry\+\_\+strategy.c File Reference}
\label{standard__retry__strategy_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/source/standard\_retry\_strategy.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/io/source/standard\_retry\_strategy.c}}
{\ttfamily \#include $<$aws/io/logging.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/retry\+\_\+strategy.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/byte\+\_\+buf.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/hash\+\_\+table.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/mutex.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/string.\+h$>$}\newline
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structretry__bucket}{retry\+\_\+bucket}}
\item 
struct \mbox{\hyperlink{structretry__bucket__token}{retry\+\_\+bucket\+\_\+token}}
\item 
struct \mbox{\hyperlink{structstandard__strategy}{standard\+\_\+strategy}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{standard__retry__strategy_8c_a10a2a229151488add8621bfb690fe14a}{AWS\+\_\+\+STRING\+\_\+\+FROM\+\_\+\+LITERAL}} (s\+\_\+empty\+\_\+string, \char`\"{}\char`\"{})
\item 
static bool \mbox{\hyperlink{standard__retry__strategy_8c_a63bedc764e55f818670aa2a140b1dc3c}{s\+\_\+partition\+\_\+id\+\_\+equals\+\_\+byte\+\_\+cur}} (const void $\ast$seated\+\_\+cur, const void $\ast$cur\+\_\+ptr)
\item 
static uint64\+\_\+t \mbox{\hyperlink{standard__retry__strategy_8c_a8241e4b897c4a8bdea84edd97519bc0e}{s\+\_\+hash\+\_\+partition\+\_\+id}} (const void $\ast$seated\+\_\+partition\+\_\+ptr)
\item 
static void \mbox{\hyperlink{standard__retry__strategy_8c_aca83c3134d0c3b1f5ce5ac8def66255e}{s\+\_\+destroy\+\_\+standard\+\_\+retry\+\_\+bucket}} (void $\ast$\mbox{\hyperlink{structretry__bucket}{retry\+\_\+bucket}})
\item 
static void \mbox{\hyperlink{standard__retry__strategy_8c_a1a982f82fb097fa2e7199ab6b7b6256a}{s\+\_\+standard\+\_\+retry\+\_\+destroy}} (struct \mbox{\hyperlink{structaws__retry__strategy}{aws\+\_\+retry\+\_\+strategy}} $\ast$retry\+\_\+strategy)
\item 
static void \mbox{\hyperlink{standard__retry__strategy_8c_a8cd49f7559d91373175360ed0016388f}{s\+\_\+on\+\_\+standard\+\_\+retry\+\_\+token\+\_\+acquired}} (struct \mbox{\hyperlink{structaws__retry__strategy}{aws\+\_\+retry\+\_\+strategy}} $\ast$retry\+\_\+strategy, int error\+\_\+code, struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$token, void $\ast$user\+\_\+data)
\item 
static int \mbox{\hyperlink{standard__retry__strategy_8c_a24833a4eeafd37197a660aea2f157fa4}{s\+\_\+standard\+\_\+retry\+\_\+acquire\+\_\+token}} (struct \mbox{\hyperlink{structaws__retry__strategy}{aws\+\_\+retry\+\_\+strategy}} $\ast$retry\+\_\+strategy, const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$partition\+\_\+id, \mbox{\hyperlink{retry__strategy_8h_a840055993c2a9788207792f45db2e27f}{aws\+\_\+retry\+\_\+strategy\+\_\+on\+\_\+retry\+\_\+token\+\_\+acquired\+\_\+fn}} $\ast$on\+\_\+acquired, void $\ast$user\+\_\+data, uint64\+\_\+t timeout\+\_\+ms)
\item 
void \mbox{\hyperlink{standard__retry__strategy_8c_a3f923784fb8b49d10af04069f0c9514e}{s\+\_\+standard\+\_\+retry\+\_\+strategy\+\_\+on\+\_\+retry\+\_\+ready}} (struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$token, int error\+\_\+code, void $\ast$user\+\_\+data)
\item 
static int \mbox{\hyperlink{standard__retry__strategy_8c_a8e0b39ba13681e14b3b4fc417043cafb}{s\+\_\+standard\+\_\+retry\+\_\+strategy\+\_\+schedule\+\_\+retry}} (struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$token, enum \mbox{\hyperlink{retry__strategy_8h_af89c6cafd32c7015ca7157a0c36ecb0c}{aws\+\_\+retry\+\_\+error\+\_\+type}} error\+\_\+type, \mbox{\hyperlink{retry__strategy_8h_ade4a870a92bb428e8688ec1c07273220}{aws\+\_\+retry\+\_\+strategy\+\_\+on\+\_\+retry\+\_\+ready\+\_\+fn}} $\ast$retry\+\_\+ready, void $\ast$user\+\_\+data)
\item 
static int \mbox{\hyperlink{standard__retry__strategy_8c_a40b8ae90160d422649a2c36ed3ddd7ae}{s\+\_\+standard\+\_\+retry\+\_\+strategy\+\_\+record\+\_\+success}} (struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$token)
\item 
static void \mbox{\hyperlink{standard__retry__strategy_8c_a25f3a819b15137135c3e00d227d44369}{s\+\_\+standard\+\_\+retry\+\_\+strategy\+\_\+release\+\_\+token}} (struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$token)
\item 
struct \mbox{\hyperlink{structaws__retry__strategy}{aws\+\_\+retry\+\_\+strategy}} $\ast$ \mbox{\hyperlink{standard__retry__strategy_8c_a8fe32b7da82b52dfeb8132ea437b7d01}{aws\+\_\+retry\+\_\+strategy\+\_\+new\+\_\+standard}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, const struct \mbox{\hyperlink{structaws__standard__retry__options}{aws\+\_\+standard\+\_\+retry\+\_\+options}} $\ast$config)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} \mbox{\hyperlink{standard__retry__strategy_8c_a4a4d56481b210777d34e2b54084dda3b}{s\+\_\+empty\+\_\+string\+\_\+cur}} = \mbox{\hyperlink{byte__buf_8h_a25bb15426b081484f79b35669fc81b90}{AWS\+\_\+\+BYTE\+\_\+\+CUR\+\_\+\+INIT\+\_\+\+FROM\+\_\+\+STRING\+\_\+\+LITERAL}}(\char`\"{}\char`\"{})
\item 
static const size\+\_\+t \mbox{\hyperlink{standard__retry__strategy_8c_afb8523e14f54f9cf665f438bbabf0138}{s\+\_\+initial\+\_\+retry\+\_\+bucket\+\_\+capacity}} = 500u
\item 
static const size\+\_\+t \mbox{\hyperlink{standard__retry__strategy_8c_a202f6b03e1956282bedb0f2abe76d0e8}{s\+\_\+standard\+\_\+retry\+\_\+cost}} = 5u
\item 
static const size\+\_\+t \mbox{\hyperlink{standard__retry__strategy_8c_a8857cbdf351893dcb8580dd28f5b5f69}{s\+\_\+standard\+\_\+transient\+\_\+cost}} = 10u
\item 
static const size\+\_\+t \mbox{\hyperlink{standard__retry__strategy_8c_a44a0438d787fef5594cc5c6022249323}{s\+\_\+standard\+\_\+no\+\_\+retry\+\_\+cost}} = 1u
\item 
static struct \mbox{\hyperlink{structaws__retry__strategy__vtable}{aws\+\_\+retry\+\_\+strategy\+\_\+vtable}} \mbox{\hyperlink{standard__retry__strategy_8c_a267e0acaa0ed474377aa4a4850893f8f}{s\+\_\+standard\+\_\+retry\+\_\+vtable}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{standard__retry__strategy_8c_a8fe32b7da82b52dfeb8132ea437b7d01}\label{standard__retry__strategy_8c_a8fe32b7da82b52dfeb8132ea437b7d01}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!aws\_retry\_strategy\_new\_standard@{aws\_retry\_strategy\_new\_standard}}
\index{aws\_retry\_strategy\_new\_standard@{aws\_retry\_strategy\_new\_standard}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{aws\_retry\_strategy\_new\_standard()}{aws\_retry\_strategy\_new\_standard()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__retry__strategy}{aws\+\_\+retry\+\_\+strategy}}$\ast$ aws\+\_\+retry\+\_\+strategy\+\_\+new\+\_\+standard (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__standard__retry__options}{aws\+\_\+standard\+\_\+retry\+\_\+options}} $\ast$}]{config }\end{DoxyParamCaption})}

This is a retry implementation that cuts off traffic if it\textquotesingle{}s detected that an endpoint partition is having availability problems. This is necessary to keep from making outages worse by scheduling work that\textquotesingle{}s unlikely to succeed yet increases load on an already ailing system.

We do this by creating a bucket for each partition. A partition is an arbitrary specifier. It can be anything\+: a region, a service, a combination of region and service, a literal dns name.... doesn\textquotesingle{}t matter.

Each bucket has a budget for maximum allowed retries. Different types of events carry different weights. Things that indicate an unhealthy partition such as transient errors (timeouts, unhealthy connection etc...) cost more. A retry for any other reason (service sending a 5xx response code) cost a bit less. When a retry is attempted this capacity is leased out to the retry. On success it is released back to the capacity pool. On failure, it remains leased. Operations that succeed without a retry slowly restore the capacity pool.

If a partition runs out of capacity it is assumed unhealthy and retries will be blocked until capacity returns to the pool. To prevent a partition from staying unhealthy after an outage has recovered, new requests that succeed without a retry will increase the capacity slowly ( a new request gets a payback lease of 1, but the lease is never actually deducted from the capacity pool). \mbox{\Hypertarget{standard__retry__strategy_8c_a10a2a229151488add8621bfb690fe14a}\label{standard__retry__strategy_8c_a10a2a229151488add8621bfb690fe14a}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!AWS\_STRING\_FROM\_LITERAL@{AWS\_STRING\_FROM\_LITERAL}}
\index{AWS\_STRING\_FROM\_LITERAL@{AWS\_STRING\_FROM\_LITERAL}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{AWS\_STRING\_FROM\_LITERAL()}{AWS\_STRING\_FROM\_LITERAL()}}
{\footnotesize\ttfamily AWS\+\_\+\+STRING\+\_\+\+FROM\+\_\+\+LITERAL (\begin{DoxyParamCaption}\item[{s\+\_\+empty\+\_\+string}]{,  }\item[{\char`\"{}\char`\"{}}]{ }\end{DoxyParamCaption})}

Copyright Amazon.\+com, Inc. or its affiliates. All Rights Reserved. SPDX-\/\+License-\/\+Identifier\+: Apache-\/2.\+0. \mbox{\Hypertarget{standard__retry__strategy_8c_aca83c3134d0c3b1f5ce5ac8def66255e}\label{standard__retry__strategy_8c_aca83c3134d0c3b1f5ce5ac8def66255e}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_destroy\_standard\_retry\_bucket@{s\_destroy\_standard\_retry\_bucket}}
\index{s\_destroy\_standard\_retry\_bucket@{s\_destroy\_standard\_retry\_bucket}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_destroy\_standard\_retry\_bucket()}{s\_destroy\_standard\_retry\_bucket()}}
{\footnotesize\ttfamily static void s\+\_\+destroy\+\_\+standard\+\_\+retry\+\_\+bucket (\begin{DoxyParamCaption}\item[{void $\ast$}]{retry\+\_\+bucket }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a8241e4b897c4a8bdea84edd97519bc0e}\label{standard__retry__strategy_8c_a8241e4b897c4a8bdea84edd97519bc0e}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_hash\_partition\_id@{s\_hash\_partition\_id}}
\index{s\_hash\_partition\_id@{s\_hash\_partition\_id}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_hash\_partition\_id()}{s\_hash\_partition\_id()}}
{\footnotesize\ttfamily static uint64\+\_\+t s\+\_\+hash\+\_\+partition\+\_\+id (\begin{DoxyParamCaption}\item[{const void $\ast$}]{seated\+\_\+partition\+\_\+ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a8cd49f7559d91373175360ed0016388f}\label{standard__retry__strategy_8c_a8cd49f7559d91373175360ed0016388f}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_on\_standard\_retry\_token\_acquired@{s\_on\_standard\_retry\_token\_acquired}}
\index{s\_on\_standard\_retry\_token\_acquired@{s\_on\_standard\_retry\_token\_acquired}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_standard\_retry\_token\_acquired()}{s\_on\_standard\_retry\_token\_acquired()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+standard\+\_\+retry\+\_\+token\+\_\+acquired (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__retry__strategy}{aws\+\_\+retry\+\_\+strategy}} $\ast$}]{retry\+\_\+strategy,  }\item[{int}]{error\+\_\+code,  }\item[{struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$}]{token,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a63bedc764e55f818670aa2a140b1dc3c}\label{standard__retry__strategy_8c_a63bedc764e55f818670aa2a140b1dc3c}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_partition\_id\_equals\_byte\_cur@{s\_partition\_id\_equals\_byte\_cur}}
\index{s\_partition\_id\_equals\_byte\_cur@{s\_partition\_id\_equals\_byte\_cur}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_partition\_id\_equals\_byte\_cur()}{s\_partition\_id\_equals\_byte\_cur()}}
{\footnotesize\ttfamily static bool s\+\_\+partition\+\_\+id\+\_\+equals\+\_\+byte\+\_\+cur (\begin{DoxyParamCaption}\item[{const void $\ast$}]{seated\+\_\+cur,  }\item[{const void $\ast$}]{cur\+\_\+ptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a24833a4eeafd37197a660aea2f157fa4}\label{standard__retry__strategy_8c_a24833a4eeafd37197a660aea2f157fa4}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_retry\_acquire\_token@{s\_standard\_retry\_acquire\_token}}
\index{s\_standard\_retry\_acquire\_token@{s\_standard\_retry\_acquire\_token}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_retry\_acquire\_token()}{s\_standard\_retry\_acquire\_token()}}
{\footnotesize\ttfamily static int s\+\_\+standard\+\_\+retry\+\_\+acquire\+\_\+token (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__retry__strategy}{aws\+\_\+retry\+\_\+strategy}} $\ast$}]{retry\+\_\+strategy,  }\item[{const struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{partition\+\_\+id,  }\item[{\mbox{\hyperlink{retry__strategy_8h_a840055993c2a9788207792f45db2e27f}{aws\+\_\+retry\+\_\+strategy\+\_\+on\+\_\+retry\+\_\+token\+\_\+acquired\+\_\+fn}} $\ast$}]{on\+\_\+acquired,  }\item[{void $\ast$}]{user\+\_\+data,  }\item[{uint64\+\_\+t}]{timeout\+\_\+ms }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a1a982f82fb097fa2e7199ab6b7b6256a}\label{standard__retry__strategy_8c_a1a982f82fb097fa2e7199ab6b7b6256a}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_retry\_destroy@{s\_standard\_retry\_destroy}}
\index{s\_standard\_retry\_destroy@{s\_standard\_retry\_destroy}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_retry\_destroy()}{s\_standard\_retry\_destroy()}}
{\footnotesize\ttfamily static void s\+\_\+standard\+\_\+retry\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__retry__strategy}{aws\+\_\+retry\+\_\+strategy}} $\ast$}]{retry\+\_\+strategy }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a3f923784fb8b49d10af04069f0c9514e}\label{standard__retry__strategy_8c_a3f923784fb8b49d10af04069f0c9514e}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_retry\_strategy\_on\_retry\_ready@{s\_standard\_retry\_strategy\_on\_retry\_ready}}
\index{s\_standard\_retry\_strategy\_on\_retry\_ready@{s\_standard\_retry\_strategy\_on\_retry\_ready}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_retry\_strategy\_on\_retry\_ready()}{s\_standard\_retry\_strategy\_on\_retry\_ready()}}
{\footnotesize\ttfamily void s\+\_\+standard\+\_\+retry\+\_\+strategy\+\_\+on\+\_\+retry\+\_\+ready (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$}]{token,  }\item[{int}]{error\+\_\+code,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})}

\mbox{\Hypertarget{standard__retry__strategy_8c_a40b8ae90160d422649a2c36ed3ddd7ae}\label{standard__retry__strategy_8c_a40b8ae90160d422649a2c36ed3ddd7ae}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_retry\_strategy\_record\_success@{s\_standard\_retry\_strategy\_record\_success}}
\index{s\_standard\_retry\_strategy\_record\_success@{s\_standard\_retry\_strategy\_record\_success}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_retry\_strategy\_record\_success()}{s\_standard\_retry\_strategy\_record\_success()}}
{\footnotesize\ttfamily static int s\+\_\+standard\+\_\+retry\+\_\+strategy\+\_\+record\+\_\+success (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$}]{token }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a25f3a819b15137135c3e00d227d44369}\label{standard__retry__strategy_8c_a25f3a819b15137135c3e00d227d44369}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_retry\_strategy\_release\_token@{s\_standard\_retry\_strategy\_release\_token}}
\index{s\_standard\_retry\_strategy\_release\_token@{s\_standard\_retry\_strategy\_release\_token}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_retry\_strategy\_release\_token()}{s\_standard\_retry\_strategy\_release\_token()}}
{\footnotesize\ttfamily static void s\+\_\+standard\+\_\+retry\+\_\+strategy\+\_\+release\+\_\+token (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$}]{token }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a8e0b39ba13681e14b3b4fc417043cafb}\label{standard__retry__strategy_8c_a8e0b39ba13681e14b3b4fc417043cafb}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_retry\_strategy\_schedule\_retry@{s\_standard\_retry\_strategy\_schedule\_retry}}
\index{s\_standard\_retry\_strategy\_schedule\_retry@{s\_standard\_retry\_strategy\_schedule\_retry}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_retry\_strategy\_schedule\_retry()}{s\_standard\_retry\_strategy\_schedule\_retry()}}
{\footnotesize\ttfamily static int s\+\_\+standard\+\_\+retry\+\_\+strategy\+\_\+schedule\+\_\+retry (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__retry__token}{aws\+\_\+retry\+\_\+token}} $\ast$}]{token,  }\item[{enum \mbox{\hyperlink{retry__strategy_8h_af89c6cafd32c7015ca7157a0c36ecb0c}{aws\+\_\+retry\+\_\+error\+\_\+type}}}]{error\+\_\+type,  }\item[{\mbox{\hyperlink{retry__strategy_8h_ade4a870a92bb428e8688ec1c07273220}{aws\+\_\+retry\+\_\+strategy\+\_\+on\+\_\+retry\+\_\+ready\+\_\+fn}} $\ast$}]{retry\+\_\+ready,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{standard__retry__strategy_8c_a4a4d56481b210777d34e2b54084dda3b}\label{standard__retry__strategy_8c_a4a4d56481b210777d34e2b54084dda3b}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_empty\_string\_cur@{s\_empty\_string\_cur}}
\index{s\_empty\_string\_cur@{s\_empty\_string\_cur}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_empty\_string\_cur}{s\_empty\_string\_cur}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} s\+\_\+empty\+\_\+string\+\_\+cur = \mbox{\hyperlink{byte__buf_8h_a25bb15426b081484f79b35669fc81b90}{AWS\+\_\+\+BYTE\+\_\+\+CUR\+\_\+\+INIT\+\_\+\+FROM\+\_\+\+STRING\+\_\+\+LITERAL}}(\char`\"{}\char`\"{})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_afb8523e14f54f9cf665f438bbabf0138}\label{standard__retry__strategy_8c_afb8523e14f54f9cf665f438bbabf0138}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_initial\_retry\_bucket\_capacity@{s\_initial\_retry\_bucket\_capacity}}
\index{s\_initial\_retry\_bucket\_capacity@{s\_initial\_retry\_bucket\_capacity}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_initial\_retry\_bucket\_capacity}{s\_initial\_retry\_bucket\_capacity}}
{\footnotesize\ttfamily const size\+\_\+t s\+\_\+initial\+\_\+retry\+\_\+bucket\+\_\+capacity = 500u\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a44a0438d787fef5594cc5c6022249323}\label{standard__retry__strategy_8c_a44a0438d787fef5594cc5c6022249323}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_no\_retry\_cost@{s\_standard\_no\_retry\_cost}}
\index{s\_standard\_no\_retry\_cost@{s\_standard\_no\_retry\_cost}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_no\_retry\_cost}{s\_standard\_no\_retry\_cost}}
{\footnotesize\ttfamily const size\+\_\+t s\+\_\+standard\+\_\+no\+\_\+retry\+\_\+cost = 1u\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a202f6b03e1956282bedb0f2abe76d0e8}\label{standard__retry__strategy_8c_a202f6b03e1956282bedb0f2abe76d0e8}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_retry\_cost@{s\_standard\_retry\_cost}}
\index{s\_standard\_retry\_cost@{s\_standard\_retry\_cost}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_retry\_cost}{s\_standard\_retry\_cost}}
{\footnotesize\ttfamily const size\+\_\+t s\+\_\+standard\+\_\+retry\+\_\+cost = 5u\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{standard__retry__strategy_8c_a267e0acaa0ed474377aa4a4850893f8f}\label{standard__retry__strategy_8c_a267e0acaa0ed474377aa4a4850893f8f}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_retry\_vtable@{s\_standard\_retry\_vtable}}
\index{s\_standard\_retry\_vtable@{s\_standard\_retry\_vtable}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_retry\_vtable}{s\_standard\_retry\_vtable}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__retry__strategy__vtable}{aws\+\_\+retry\+\_\+strategy\+\_\+vtable}} s\+\_\+standard\+\_\+retry\+\_\+vtable\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .schedule\_retry = \mbox{\hyperlink{standard__retry__strategy_8c_a8e0b39ba13681e14b3b4fc417043cafb}{s\_standard\_retry\_strategy\_schedule\_retry}},}
\DoxyCodeLine{    .acquire\_token = \mbox{\hyperlink{standard__retry__strategy_8c_a24833a4eeafd37197a660aea2f157fa4}{s\_standard\_retry\_acquire\_token}},}
\DoxyCodeLine{    .release\_token = \mbox{\hyperlink{standard__retry__strategy_8c_a25f3a819b15137135c3e00d227d44369}{s\_standard\_retry\_strategy\_release\_token}},}
\DoxyCodeLine{    .destroy = \mbox{\hyperlink{standard__retry__strategy_8c_a1a982f82fb097fa2e7199ab6b7b6256a}{s\_standard\_retry\_destroy}},}
\DoxyCodeLine{    .record\_success = \mbox{\hyperlink{standard__retry__strategy_8c_a40b8ae90160d422649a2c36ed3ddd7ae}{s\_standard\_retry\_strategy\_record\_success}},}
\DoxyCodeLine{\}}

\end{DoxyCode}
\mbox{\Hypertarget{standard__retry__strategy_8c_a8857cbdf351893dcb8580dd28f5b5f69}\label{standard__retry__strategy_8c_a8857cbdf351893dcb8580dd28f5b5f69}} 
\index{standard\_retry\_strategy.c@{standard\_retry\_strategy.c}!s\_standard\_transient\_cost@{s\_standard\_transient\_cost}}
\index{s\_standard\_transient\_cost@{s\_standard\_transient\_cost}!standard\_retry\_strategy.c@{standard\_retry\_strategy.c}}
\doxysubsubsection{\texorpdfstring{s\_standard\_transient\_cost}{s\_standard\_transient\_cost}}
{\footnotesize\ttfamily const size\+\_\+t s\+\_\+standard\+\_\+transient\+\_\+cost = 10u\hspace{0.3cm}{\ttfamily [static]}}

