\hypertarget{thread__scheduler_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/source/thread\+\_\+scheduler.c File Reference}
\label{thread__scheduler_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/source/thread\_scheduler.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/common/source/thread\_scheduler.c}}
{\ttfamily \#include $<$aws/common/clock.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/condition\+\_\+variable.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/mutex.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/ref\+\_\+count.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/task\+\_\+scheduler.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/thread.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/thread\+\_\+scheduler.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}}
\item 
struct \mbox{\hyperlink{structcancellation__node}{cancellation\+\_\+node}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{thread__scheduler_8c_ac0d118f6454704494a68941a3a0544a6}{s\+\_\+destroy\+\_\+callback}} (void $\ast$arg)
\item 
static bool \mbox{\hyperlink{thread__scheduler_8c_a66cc441a653486f33d4d4218bdf69f44}{s\+\_\+thread\+\_\+should\+\_\+wake}} (void $\ast$arg)
\item 
static void \mbox{\hyperlink{thread__scheduler_8c_a3fcd339d3e01edcb47d677e21bd52aa9}{s\+\_\+thread\+\_\+fn}} (void $\ast$arg)
\item 
struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$ \mbox{\hyperlink{thread__scheduler_8c_a4d27a8b6a24ff14bef8aa1539430ebe7}{aws\+\_\+thread\+\_\+scheduler\+\_\+new}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, const struct \mbox{\hyperlink{structaws__thread__options}{aws\+\_\+thread\+\_\+options}} $\ast$thread\+\_\+options)
\item 
void \mbox{\hyperlink{thread__scheduler_8c_a3a43476b2734999211f57c49a9555a65}{aws\+\_\+thread\+\_\+scheduler\+\_\+acquire}} (struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$scheduler)
\item 
void \mbox{\hyperlink{thread__scheduler_8c_a19b0105145d748f464a93a01235cd802}{aws\+\_\+thread\+\_\+scheduler\+\_\+release}} (const struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$scheduler)
\item 
void \mbox{\hyperlink{thread__scheduler_8c_a7bb62fef7df1aab38d321c2f4473d6ec}{aws\+\_\+thread\+\_\+scheduler\+\_\+schedule\+\_\+future}} (struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$scheduler, struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$task, uint64\+\_\+t time\+\_\+to\+\_\+run)
\item 
void \mbox{\hyperlink{thread__scheduler_8c_ac9d584bbc6a82cff0dc609969721af67}{aws\+\_\+thread\+\_\+scheduler\+\_\+schedule\+\_\+now}} (struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$scheduler, struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$task)
\item 
void \mbox{\hyperlink{thread__scheduler_8c_af5aa3a21cacd71fac662c1b8d376d71d}{aws\+\_\+thread\+\_\+scheduler\+\_\+cancel\+\_\+task}} (struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$scheduler, struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$task)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{thread__scheduler_8c_a3a43476b2734999211f57c49a9555a65}\label{thread__scheduler_8c_a3a43476b2734999211f57c49a9555a65}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!aws\_thread\_scheduler\_acquire@{aws\_thread\_scheduler\_acquire}}
\index{aws\_thread\_scheduler\_acquire@{aws\_thread\_scheduler\_acquire}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{aws\_thread\_scheduler\_acquire()}{aws\_thread\_scheduler\_acquire()}}
{\footnotesize\ttfamily void aws\+\_\+thread\+\_\+scheduler\+\_\+acquire (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$}]{scheduler }\end{DoxyParamCaption})}

Acquire a reference to the scheduler. \mbox{\Hypertarget{thread__scheduler_8c_af5aa3a21cacd71fac662c1b8d376d71d}\label{thread__scheduler_8c_af5aa3a21cacd71fac662c1b8d376d71d}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!aws\_thread\_scheduler\_cancel\_task@{aws\_thread\_scheduler\_cancel\_task}}
\index{aws\_thread\_scheduler\_cancel\_task@{aws\_thread\_scheduler\_cancel\_task}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{aws\_thread\_scheduler\_cancel\_task()}{aws\_thread\_scheduler\_cancel\_task()}}
{\footnotesize\ttfamily void aws\+\_\+thread\+\_\+scheduler\+\_\+cancel\+\_\+task (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$}]{scheduler,  }\item[{struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$}]{task }\end{DoxyParamCaption})}

Cancel a task that has been scheduled. The cancellation callback will be invoked in the background thread. This function is slow, so please don\textquotesingle{}t do it in the hot path for your code. \mbox{\Hypertarget{thread__scheduler_8c_a4d27a8b6a24ff14bef8aa1539430ebe7}\label{thread__scheduler_8c_a4d27a8b6a24ff14bef8aa1539430ebe7}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!aws\_thread\_scheduler\_new@{aws\_thread\_scheduler\_new}}
\index{aws\_thread\_scheduler\_new@{aws\_thread\_scheduler\_new}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{aws\_thread\_scheduler\_new()}{aws\_thread\_scheduler\_new()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}}$\ast$ aws\+\_\+thread\+\_\+scheduler\+\_\+new (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{const struct \mbox{\hyperlink{structaws__thread__options}{aws\+\_\+thread\+\_\+options}} $\ast$}]{thread\+\_\+options }\end{DoxyParamCaption})}

Creates a new instance of a thread scheduler. This object receives scheduled tasks and executes them inside a background thread. On success, this function returns an instance with a ref-\/count of 1. On failure it returns NULL.

thread\+\_\+options are optional.

The semantics of this interface conform to the semantics of \mbox{\hyperlink{structaws__task__scheduler}{aws\+\_\+task\+\_\+scheduler}}. \mbox{\Hypertarget{thread__scheduler_8c_a19b0105145d748f464a93a01235cd802}\label{thread__scheduler_8c_a19b0105145d748f464a93a01235cd802}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!aws\_thread\_scheduler\_release@{aws\_thread\_scheduler\_release}}
\index{aws\_thread\_scheduler\_release@{aws\_thread\_scheduler\_release}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{aws\_thread\_scheduler\_release()}{aws\_thread\_scheduler\_release()}}
{\footnotesize\ttfamily void aws\+\_\+thread\+\_\+scheduler\+\_\+release (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$}]{scheduler }\end{DoxyParamCaption})}

Release a reference to the scheduler. \mbox{\Hypertarget{thread__scheduler_8c_a7bb62fef7df1aab38d321c2f4473d6ec}\label{thread__scheduler_8c_a7bb62fef7df1aab38d321c2f4473d6ec}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!aws\_thread\_scheduler\_schedule\_future@{aws\_thread\_scheduler\_schedule\_future}}
\index{aws\_thread\_scheduler\_schedule\_future@{aws\_thread\_scheduler\_schedule\_future}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{aws\_thread\_scheduler\_schedule\_future()}{aws\_thread\_scheduler\_schedule\_future()}}
{\footnotesize\ttfamily void aws\+\_\+thread\+\_\+scheduler\+\_\+schedule\+\_\+future (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$}]{scheduler,  }\item[{struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$}]{task,  }\item[{uint64\+\_\+t}]{time\+\_\+to\+\_\+run }\end{DoxyParamCaption})}

Schedules a task to run in the future. time\+\_\+to\+\_\+run is the absolute time from the system hw\+\_\+clock. \mbox{\Hypertarget{thread__scheduler_8c_ac9d584bbc6a82cff0dc609969721af67}\label{thread__scheduler_8c_ac9d584bbc6a82cff0dc609969721af67}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!aws\_thread\_scheduler\_schedule\_now@{aws\_thread\_scheduler\_schedule\_now}}
\index{aws\_thread\_scheduler\_schedule\_now@{aws\_thread\_scheduler\_schedule\_now}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{aws\_thread\_scheduler\_schedule\_now()}{aws\_thread\_scheduler\_schedule\_now()}}
{\footnotesize\ttfamily void aws\+\_\+thread\+\_\+scheduler\+\_\+schedule\+\_\+now (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__thread__scheduler}{aws\+\_\+thread\+\_\+scheduler}} $\ast$}]{scheduler,  }\item[{struct \mbox{\hyperlink{structaws__task}{aws\+\_\+task}} $\ast$}]{task }\end{DoxyParamCaption})}

Schedules a task to run as soon as possible. \mbox{\Hypertarget{thread__scheduler_8c_ac0d118f6454704494a68941a3a0544a6}\label{thread__scheduler_8c_ac0d118f6454704494a68941a3a0544a6}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!s\_destroy\_callback@{s\_destroy\_callback}}
\index{s\_destroy\_callback@{s\_destroy\_callback}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{s\_destroy\_callback()}{s\_destroy\_callback()}}
{\footnotesize\ttfamily static void s\+\_\+destroy\+\_\+callback (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{thread__scheduler_8c_a3fcd339d3e01edcb47d677e21bd52aa9}\label{thread__scheduler_8c_a3fcd339d3e01edcb47d677e21bd52aa9}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!s\_thread\_fn@{s\_thread\_fn}}
\index{s\_thread\_fn@{s\_thread\_fn}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{s\_thread\_fn()}{s\_thread\_fn()}}
{\footnotesize\ttfamily static void s\+\_\+thread\+\_\+fn (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{thread__scheduler_8c_a66cc441a653486f33d4d4218bdf69f44}\label{thread__scheduler_8c_a66cc441a653486f33d4d4218bdf69f44}} 
\index{thread\_scheduler.c@{thread\_scheduler.c}!s\_thread\_should\_wake@{s\_thread\_should\_wake}}
\index{s\_thread\_should\_wake@{s\_thread\_should\_wake}!thread\_scheduler.c@{thread\_scheduler.c}}
\doxysubsubsection{\texorpdfstring{s\_thread\_should\_wake()}{s\_thread\_should\_wake()}}
{\footnotesize\ttfamily static bool s\+\_\+thread\+\_\+should\+\_\+wake (\begin{DoxyParamCaption}\item[{void $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

