\hypertarget{aws__iot__secure__tunneling__client__test_8c}{}\doxysection{crt/aws-\/c-\/iot/tests/aws\+\_\+iot\+\_\+secure\+\_\+tunneling\+\_\+client\+\_\+test.c File Reference}
\label{aws__iot__secure__tunneling__client__test_8c}\index{crt/aws-\/c-\/iot/tests/aws\_iot\_secure\_tunneling\_client\_test.c@{crt/aws-\/c-\/iot/tests/aws\_iot\_secure\_tunneling\_client\_test.c}}
{\ttfamily \#include $<$aws/common/condition\+\_\+variable.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/mutex.\+h$>$}\newline
{\ttfamily \#include $<$aws/http/http.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/channel\+\_\+bootstrap.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/event\+\_\+loop.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/socket.\+h$>$}\newline
{\ttfamily \#include $<$aws/iotdevice/iotdevice.\+h$>$}\newline
{\ttfamily \#include $<$aws/iotdevice/secure\+\_\+tunneling.\+h$>$}\newline
{\ttfamily \#include $<$aws/testing/aws\+\_\+test\+\_\+harness.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a86d500a34c624c2cae56bc25a31b12f3}{UNUSED}}(x)~(void)(x)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a16b8b0774fa631fd943830261c7c12bc}{s\+\_\+on\+\_\+send\+\_\+data\+\_\+complete}} (int \mbox{\hyperlink{channel__handler__test_8c_a7d16b1c68c87cec009d972e79abfba78}{error\+\_\+code}}, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a08f500e75cc96bbe1b466f1af4f40614}{s\+\_\+on\+\_\+connection\+\_\+complete}} (void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a6b2a979e41743ae2aa1b04a8374d9647}{s\+\_\+on\+\_\+connection\+\_\+shutdown}} (void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a414f39b0db09ccbc4670aff9a9f6e64c}{s\+\_\+on\+\_\+data\+\_\+receive}} (const struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$data, void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a5f155905e2e2f862aabee9d4bd44b32d}{s\+\_\+on\+\_\+stream\+\_\+start}} (void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a903a166271c9dd0b0e5da02ee97aacbe}{s\+\_\+on\+\_\+stream\+\_\+reset}} (void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
static void \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_ae1bc16522c25b0824f31ce725d7a795b}{s\+\_\+on\+\_\+session\+\_\+reset}} (void $\ast$\mbox{\hyperlink{event__stream__rpc__server__connection__test_8c_af1abaca9a982b3cdb0b118914416c39b}{user\+\_\+data}})
\item 
enum \mbox{\hyperlink{secure__tunneling_8h_a40266602b0be790c0fcb999ee01f1f1e}{aws\+\_\+secure\+\_\+tunneling\+\_\+local\+\_\+proxy\+\_\+mode}} \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_acb289826db88b4094ae6ae783d6f61ad}{s\+\_\+local\+\_\+proxy\+\_\+mode\+\_\+from\+\_\+c\+\_\+str}} (const char $\ast$local\+\_\+proxy\+\_\+mode)
\item 
static void \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_ae03131b331217efc75af48d34945ac83}{s\+\_\+init\+\_\+secure\+\_\+tunneling\+\_\+connection\+\_\+config}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$\mbox{\hyperlink{socket__test_8c_a130cc941753892421e3f70bdee1049d1}{allocator}}, struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$bootstrap, struct \mbox{\hyperlink{structaws__socket__options}{aws\+\_\+socket\+\_\+options}} $\ast$socket\+\_\+options, const char $\ast$access\+\_\+token, enum \mbox{\hyperlink{secure__tunneling_8h_a40266602b0be790c0fcb999ee01f1f1e}{aws\+\_\+secure\+\_\+tunneling\+\_\+local\+\_\+proxy\+\_\+mode}} local\+\_\+proxy\+\_\+mode, const char $\ast$endpoint, const char $\ast$root\+\_\+ca, struct \mbox{\hyperlink{structaws__secure__tunneling__connection__config}{aws\+\_\+secure\+\_\+tunneling\+\_\+connection\+\_\+config}} $\ast$\mbox{\hyperlink{s2n__client__key__recv__fuzz__test_8c_a7d70bb7bed95daae1233293126bb9523}{config}})
\item 
int \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static struct \mbox{\hyperlink{structaws__mutex}{aws\+\_\+mutex}} \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a360162a49c0b0a1043fe8de349ea6e65}{mutex}} = \mbox{\hyperlink{preamble_8h_a82cd305754a1424bf8139695ab9dd6e1}{AWS\+\_\+\+MUTEX\+\_\+\+INIT}}
\item 
static struct \mbox{\hyperlink{structaws__condition__variable}{aws\+\_\+condition\+\_\+variable}} \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_a4b579d6d84f6bf98fd42c8d1c06c12bf}{condition\+\_\+variable}} = \mbox{\hyperlink{condition__variable_8h_a5effb5909f01b8f646e71f1a11e31657}{AWS\+\_\+\+CONDITION\+\_\+\+VARIABLE\+\_\+\+INIT}}
\item 
static int \mbox{\hyperlink{aws__iot__secure__tunneling__client__test_8c_af9d5462fd49bb8b436b59d298dcffcea}{on\+\_\+send\+\_\+data\+\_\+complete\+\_\+error\+\_\+code}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a86d500a34c624c2cae56bc25a31b12f3}\label{aws__iot__secure__tunneling__client__test_8c_a86d500a34c624c2cae56bc25a31b12f3}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!UNUSED@{UNUSED}}
\index{UNUSED@{UNUSED}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{UNUSED}{UNUSED}}
{\footnotesize\ttfamily \#define UNUSED(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~(void)(x)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a3c04138a5bfe5d72780bb7e82a18e627}\label{aws__iot__secure__tunneling__client__test_8c_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!main@{main}}
\index{main@{main}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_ae03131b331217efc75af48d34945ac83}\label{aws__iot__secure__tunneling__client__test_8c_ae03131b331217efc75af48d34945ac83}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_init\_secure\_tunneling\_connection\_config@{s\_init\_secure\_tunneling\_connection\_config}}
\index{s\_init\_secure\_tunneling\_connection\_config@{s\_init\_secure\_tunneling\_connection\_config}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_init\_secure\_tunneling\_connection\_config()}{s\_init\_secure\_tunneling\_connection\_config()}}
{\footnotesize\ttfamily static void s\+\_\+init\+\_\+secure\+\_\+tunneling\+\_\+connection\+\_\+config (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{struct \mbox{\hyperlink{structaws__client__bootstrap}{aws\+\_\+client\+\_\+bootstrap}} $\ast$}]{bootstrap,  }\item[{struct \mbox{\hyperlink{structaws__socket__options}{aws\+\_\+socket\+\_\+options}} $\ast$}]{socket\+\_\+options,  }\item[{const char $\ast$}]{access\+\_\+token,  }\item[{enum \mbox{\hyperlink{secure__tunneling_8h_a40266602b0be790c0fcb999ee01f1f1e}{aws\+\_\+secure\+\_\+tunneling\+\_\+local\+\_\+proxy\+\_\+mode}}}]{local\+\_\+proxy\+\_\+mode,  }\item[{const char $\ast$}]{endpoint,  }\item[{const char $\ast$}]{root\+\_\+ca,  }\item[{struct \mbox{\hyperlink{structaws__secure__tunneling__connection__config}{aws\+\_\+secure\+\_\+tunneling\+\_\+connection\+\_\+config}} $\ast$}]{config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_acb289826db88b4094ae6ae783d6f61ad}\label{aws__iot__secure__tunneling__client__test_8c_acb289826db88b4094ae6ae783d6f61ad}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_local\_proxy\_mode\_from\_c\_str@{s\_local\_proxy\_mode\_from\_c\_str}}
\index{s\_local\_proxy\_mode\_from\_c\_str@{s\_local\_proxy\_mode\_from\_c\_str}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_local\_proxy\_mode\_from\_c\_str()}{s\_local\_proxy\_mode\_from\_c\_str()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{secure__tunneling_8h_a40266602b0be790c0fcb999ee01f1f1e}{aws\+\_\+secure\+\_\+tunneling\+\_\+local\+\_\+proxy\+\_\+mode}} s\+\_\+local\+\_\+proxy\+\_\+mode\+\_\+from\+\_\+c\+\_\+str (\begin{DoxyParamCaption}\item[{const char $\ast$}]{local\+\_\+proxy\+\_\+mode }\end{DoxyParamCaption})}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a08f500e75cc96bbe1b466f1af4f40614}\label{aws__iot__secure__tunneling__client__test_8c_a08f500e75cc96bbe1b466f1af4f40614}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_on\_connection\_complete@{s\_on\_connection\_complete}}
\index{s\_on\_connection\_complete@{s\_on\_connection\_complete}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_connection\_complete()}{s\_on\_connection\_complete()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+connection\+\_\+complete (\begin{DoxyParamCaption}\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a6b2a979e41743ae2aa1b04a8374d9647}\label{aws__iot__secure__tunneling__client__test_8c_a6b2a979e41743ae2aa1b04a8374d9647}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_on\_connection\_shutdown@{s\_on\_connection\_shutdown}}
\index{s\_on\_connection\_shutdown@{s\_on\_connection\_shutdown}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_connection\_shutdown()}{s\_on\_connection\_shutdown()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+connection\+\_\+shutdown (\begin{DoxyParamCaption}\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a414f39b0db09ccbc4670aff9a9f6e64c}\label{aws__iot__secure__tunneling__client__test_8c_a414f39b0db09ccbc4670aff9a9f6e64c}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_on\_data\_receive@{s\_on\_data\_receive}}
\index{s\_on\_data\_receive@{s\_on\_data\_receive}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_data\_receive()}{s\_on\_data\_receive()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+data\+\_\+receive (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{data,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a16b8b0774fa631fd943830261c7c12bc}\label{aws__iot__secure__tunneling__client__test_8c_a16b8b0774fa631fd943830261c7c12bc}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_on\_send\_data\_complete@{s\_on\_send\_data\_complete}}
\index{s\_on\_send\_data\_complete@{s\_on\_send\_data\_complete}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_send\_data\_complete()}{s\_on\_send\_data\_complete()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+send\+\_\+data\+\_\+complete (\begin{DoxyParamCaption}\item[{int}]{error\+\_\+code,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_ae1bc16522c25b0824f31ce725d7a795b}\label{aws__iot__secure__tunneling__client__test_8c_ae1bc16522c25b0824f31ce725d7a795b}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_on\_session\_reset@{s\_on\_session\_reset}}
\index{s\_on\_session\_reset@{s\_on\_session\_reset}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_session\_reset()}{s\_on\_session\_reset()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+session\+\_\+reset (\begin{DoxyParamCaption}\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a903a166271c9dd0b0e5da02ee97aacbe}\label{aws__iot__secure__tunneling__client__test_8c_a903a166271c9dd0b0e5da02ee97aacbe}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_on\_stream\_reset@{s\_on\_stream\_reset}}
\index{s\_on\_stream\_reset@{s\_on\_stream\_reset}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_stream\_reset()}{s\_on\_stream\_reset()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+stream\+\_\+reset (\begin{DoxyParamCaption}\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a5f155905e2e2f862aabee9d4bd44b32d}\label{aws__iot__secure__tunneling__client__test_8c_a5f155905e2e2f862aabee9d4bd44b32d}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!s\_on\_stream\_start@{s\_on\_stream\_start}}
\index{s\_on\_stream\_start@{s\_on\_stream\_start}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{s\_on\_stream\_start()}{s\_on\_stream\_start()}}
{\footnotesize\ttfamily static void s\+\_\+on\+\_\+stream\+\_\+start (\begin{DoxyParamCaption}\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a4b579d6d84f6bf98fd42c8d1c06c12bf}\label{aws__iot__secure__tunneling__client__test_8c_a4b579d6d84f6bf98fd42c8d1c06c12bf}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!condition\_variable@{condition\_variable}}
\index{condition\_variable@{condition\_variable}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{condition\_variable}{condition\_variable}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__condition__variable}{aws\+\_\+condition\+\_\+variable}} condition\+\_\+variable = \mbox{\hyperlink{condition__variable_8h_a5effb5909f01b8f646e71f1a11e31657}{AWS\+\_\+\+CONDITION\+\_\+\+VARIABLE\+\_\+\+INIT}}\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_a360162a49c0b0a1043fe8de349ea6e65}\label{aws__iot__secure__tunneling__client__test_8c_a360162a49c0b0a1043fe8de349ea6e65}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!mutex@{mutex}}
\index{mutex@{mutex}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{mutex}{mutex}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__mutex}{aws\+\_\+mutex}} mutex = \mbox{\hyperlink{preamble_8h_a82cd305754a1424bf8139695ab9dd6e1}{AWS\+\_\+\+MUTEX\+\_\+\+INIT}}\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{aws__iot__secure__tunneling__client__test_8c_af9d5462fd49bb8b436b59d298dcffcea}\label{aws__iot__secure__tunneling__client__test_8c_af9d5462fd49bb8b436b59d298dcffcea}} 
\index{aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}!on\_send\_data\_complete\_error\_code@{on\_send\_data\_complete\_error\_code}}
\index{on\_send\_data\_complete\_error\_code@{on\_send\_data\_complete\_error\_code}!aws\_iot\_secure\_tunneling\_client\_test.c@{aws\_iot\_secure\_tunneling\_client\_test.c}}
\doxysubsubsection{\texorpdfstring{on\_send\_data\_complete\_error\_code}{on\_send\_data\_complete\_error\_code}}
{\footnotesize\ttfamily int on\+\_\+send\+\_\+data\+\_\+complete\+\_\+error\+\_\+code = 0\hspace{0.3cm}{\ttfamily [static]}}

