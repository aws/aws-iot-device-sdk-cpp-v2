\hypertarget{huffman_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/compression/source/huffman.c File Reference}
\label{huffman_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/compression/source/huffman.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/compression/source/huffman.c}}
{\ttfamily \#include $<$aws/compression/huffman.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structencoder__state}{encoder\+\_\+state}}
\item 
struct \mbox{\hyperlink{structdecoder__state}{decoder\+\_\+state}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{huffman_8c_ae7dde2fa79bd559c2cd2d17121b9e9a2}{BITSIZEOF}}(val)~(sizeof(val) $\ast$ 8)
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{huffman_8c_a11b0b0b0c94c3403344d82ffc4cccff0}{aws\+\_\+huffman\+\_\+encoder\+\_\+init}} (struct \mbox{\hyperlink{structaws__huffman__encoder}{aws\+\_\+huffman\+\_\+encoder}} $\ast$encoder, struct \mbox{\hyperlink{structaws__huffman__symbol__coder}{aws\+\_\+huffman\+\_\+symbol\+\_\+coder}} $\ast$coder)
\item 
void \mbox{\hyperlink{huffman_8c_a82b79af69ff3fc09253d5ad4fc482e92}{aws\+\_\+huffman\+\_\+encoder\+\_\+reset}} (struct \mbox{\hyperlink{structaws__huffman__encoder}{aws\+\_\+huffman\+\_\+encoder}} $\ast$encoder)
\item 
void \mbox{\hyperlink{huffman_8c_aa3d0dcc3ee61d48163ea9549d4ba3ff3}{aws\+\_\+huffman\+\_\+decoder\+\_\+init}} (struct \mbox{\hyperlink{structaws__huffman__decoder}{aws\+\_\+huffman\+\_\+decoder}} $\ast$decoder, struct \mbox{\hyperlink{structaws__huffman__symbol__coder}{aws\+\_\+huffman\+\_\+symbol\+\_\+coder}} $\ast$coder)
\item 
void \mbox{\hyperlink{huffman_8c_a98a3558253155db4e4bcd89f495c9253}{aws\+\_\+huffman\+\_\+decoder\+\_\+reset}} (struct \mbox{\hyperlink{structaws__huffman__decoder}{aws\+\_\+huffman\+\_\+decoder}} $\ast$decoder)
\item 
void \mbox{\hyperlink{huffman_8c_ac0d650ec8be681db24a5d1a171fed8ea}{aws\+\_\+huffman\+\_\+decoder\+\_\+allow\+\_\+growth}} (struct \mbox{\hyperlink{structaws__huffman__decoder}{aws\+\_\+huffman\+\_\+decoder}} $\ast$decoder, bool allow\+\_\+growth)
\item 
static int \mbox{\hyperlink{huffman_8c_abc45dedd3c294727f880d36a1da75b87}{encode\+\_\+write\+\_\+bit\+\_\+pattern}} (struct \mbox{\hyperlink{structencoder__state}{encoder\+\_\+state}} $\ast$state, struct \mbox{\hyperlink{structaws__huffman__code}{aws\+\_\+huffman\+\_\+code}} bit\+\_\+pattern)
\item 
size\+\_\+t \mbox{\hyperlink{huffman_8c_ab0cd131935be624d7f384be2a8a8edfb}{aws\+\_\+huffman\+\_\+get\+\_\+encoded\+\_\+length}} (struct \mbox{\hyperlink{structaws__huffman__encoder}{aws\+\_\+huffman\+\_\+encoder}} $\ast$encoder, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} to\+\_\+encode)
\item 
int \mbox{\hyperlink{huffman_8c_a6f624cd40f674e8a1e245f2403a47e80}{aws\+\_\+huffman\+\_\+encode}} (struct \mbox{\hyperlink{structaws__huffman__encoder}{aws\+\_\+huffman\+\_\+encoder}} $\ast$encoder, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$to\+\_\+encode, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$output)
\item 
static void \mbox{\hyperlink{huffman_8c_aa74d1e058aca0dd4d963abb4c56e5766}{decode\+\_\+fill\+\_\+working\+\_\+bits}} (struct \mbox{\hyperlink{structdecoder__state}{decoder\+\_\+state}} $\ast$state)
\item 
int \mbox{\hyperlink{huffman_8c_abbd64651eef64baf2cbdb5dd1273ffb3}{aws\+\_\+huffman\+\_\+decode}} (struct \mbox{\hyperlink{structaws__huffman__decoder}{aws\+\_\+huffman\+\_\+decoder}} $\ast$decoder, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$to\+\_\+decode, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$output)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static uint8\+\_\+t \mbox{\hyperlink{huffman_8c_a417740f704bca9799be98b119e5b6c45}{MAX\+\_\+\+PATTERN\+\_\+\+BITS}} = \mbox{\hyperlink{huffman_8c_ae7dde2fa79bd559c2cd2d17121b9e9a2}{BITSIZEOF}}(((struct \mbox{\hyperlink{structaws__huffman__code}{aws\+\_\+huffman\+\_\+code}} $\ast$)0)-\/$>$pattern)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{huffman_8c_ae7dde2fa79bd559c2cd2d17121b9e9a2}\label{huffman_8c_ae7dde2fa79bd559c2cd2d17121b9e9a2}} 
\index{huffman.c@{huffman.c}!BITSIZEOF@{BITSIZEOF}}
\index{BITSIZEOF@{BITSIZEOF}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{BITSIZEOF}{BITSIZEOF}}
{\footnotesize\ttfamily \#define BITSIZEOF(\begin{DoxyParamCaption}\item[{}]{val }\end{DoxyParamCaption})~(sizeof(val) $\ast$ 8)}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{huffman_8c_abbd64651eef64baf2cbdb5dd1273ffb3}\label{huffman_8c_abbd64651eef64baf2cbdb5dd1273ffb3}} 
\index{huffman.c@{huffman.c}!aws\_huffman\_decode@{aws\_huffman\_decode}}
\index{aws\_huffman\_decode@{aws\_huffman\_decode}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{aws\_huffman\_decode()}{aws\_huffman\_decode()}}
{\footnotesize\ttfamily int aws\+\_\+huffman\+\_\+decode (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__huffman__decoder}{aws\+\_\+huffman\+\_\+decoder}} $\ast$}]{decoder,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{to\+\_\+decode,  }\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{output }\end{DoxyParamCaption})}

Decodes a byte buffer into the provided symbol array.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em decoder} & The decoder object to use \\
\hline
\mbox{\texttt{ in}}  & {\em to\+\_\+decode} & The encoded byte buffer to read from \\
\hline
\mbox{\texttt{ in}}  & {\em output} & The buffer to write decoded symbols to. If decoder is set to allow growth, capacity will be increased when necessary.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
AWS\+\_\+\+OP\+\_\+\+SUCCESS if encoding is successful, AWS\+\_\+\+OP\+\_\+\+ERR otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{huffman_8c_ac0d650ec8be681db24a5d1a171fed8ea}\label{huffman_8c_ac0d650ec8be681db24a5d1a171fed8ea}} 
\index{huffman.c@{huffman.c}!aws\_huffman\_decoder\_allow\_growth@{aws\_huffman\_decoder\_allow\_growth}}
\index{aws\_huffman\_decoder\_allow\_growth@{aws\_huffman\_decoder\_allow\_growth}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{aws\_huffman\_decoder\_allow\_growth()}{aws\_huffman\_decoder\_allow\_growth()}}
{\footnotesize\ttfamily void aws\+\_\+huffman\+\_\+decoder\+\_\+allow\+\_\+growth (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__huffman__decoder}{aws\+\_\+huffman\+\_\+decoder}} $\ast$}]{decoder,  }\item[{bool}]{allow\+\_\+growth }\end{DoxyParamCaption})}

Set whether or not to increase capacity when the output buffer fills up while decoding. This is false by default. \mbox{\Hypertarget{huffman_8c_aa3d0dcc3ee61d48163ea9549d4ba3ff3}\label{huffman_8c_aa3d0dcc3ee61d48163ea9549d4ba3ff3}} 
\index{huffman.c@{huffman.c}!aws\_huffman\_decoder\_init@{aws\_huffman\_decoder\_init}}
\index{aws\_huffman\_decoder\_init@{aws\_huffman\_decoder\_init}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{aws\_huffman\_decoder\_init()}{aws\_huffman\_decoder\_init()}}
{\footnotesize\ttfamily void aws\+\_\+huffman\+\_\+decoder\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__huffman__decoder}{aws\+\_\+huffman\+\_\+decoder}} $\ast$}]{decoder,  }\item[{struct \mbox{\hyperlink{structaws__huffman__symbol__coder}{aws\+\_\+huffman\+\_\+symbol\+\_\+coder}} $\ast$}]{coder }\end{DoxyParamCaption})}

Initialize a decoder object with a symbol coder. \mbox{\Hypertarget{huffman_8c_a98a3558253155db4e4bcd89f495c9253}\label{huffman_8c_a98a3558253155db4e4bcd89f495c9253}} 
\index{huffman.c@{huffman.c}!aws\_huffman\_decoder\_reset@{aws\_huffman\_decoder\_reset}}
\index{aws\_huffman\_decoder\_reset@{aws\_huffman\_decoder\_reset}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{aws\_huffman\_decoder\_reset()}{aws\_huffman\_decoder\_reset()}}
{\footnotesize\ttfamily void aws\+\_\+huffman\+\_\+decoder\+\_\+reset (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__huffman__decoder}{aws\+\_\+huffman\+\_\+decoder}} $\ast$}]{decoder }\end{DoxyParamCaption})}

Resets a decoder for use with a new binary stream \mbox{\Hypertarget{huffman_8c_a6f624cd40f674e8a1e245f2403a47e80}\label{huffman_8c_a6f624cd40f674e8a1e245f2403a47e80}} 
\index{huffman.c@{huffman.c}!aws\_huffman\_encode@{aws\_huffman\_encode}}
\index{aws\_huffman\_encode@{aws\_huffman\_encode}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{aws\_huffman\_encode()}{aws\_huffman\_encode()}}
{\footnotesize\ttfamily int aws\+\_\+huffman\+\_\+encode (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__huffman__encoder}{aws\+\_\+huffman\+\_\+encoder}} $\ast$}]{encoder,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} $\ast$}]{to\+\_\+encode,  }\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{output }\end{DoxyParamCaption})}

Encode a symbol buffer into the output buffer.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em encoder} & The encoder object to use \\
\hline
\mbox{\texttt{ in}}  & {\em to\+\_\+encode} & The symbol buffer to encode \\
\hline
\mbox{\texttt{ in}}  & {\em output} & The buffer to write encoded bytes to\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
AWS\+\_\+\+OP\+\_\+\+SUCCESS if encoding is successful, AWS\+\_\+\+OP\+\_\+\+ERR otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{huffman_8c_a11b0b0b0c94c3403344d82ffc4cccff0}\label{huffman_8c_a11b0b0b0c94c3403344d82ffc4cccff0}} 
\index{huffman.c@{huffman.c}!aws\_huffman\_encoder\_init@{aws\_huffman\_encoder\_init}}
\index{aws\_huffman\_encoder\_init@{aws\_huffman\_encoder\_init}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{aws\_huffman\_encoder\_init()}{aws\_huffman\_encoder\_init()}}
{\footnotesize\ttfamily void aws\+\_\+huffman\+\_\+encoder\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__huffman__encoder}{aws\+\_\+huffman\+\_\+encoder}} $\ast$}]{encoder,  }\item[{struct \mbox{\hyperlink{structaws__huffman__symbol__coder}{aws\+\_\+huffman\+\_\+symbol\+\_\+coder}} $\ast$}]{coder }\end{DoxyParamCaption})}

Initialize a encoder object with a symbol coder. \mbox{\Hypertarget{huffman_8c_a82b79af69ff3fc09253d5ad4fc482e92}\label{huffman_8c_a82b79af69ff3fc09253d5ad4fc482e92}} 
\index{huffman.c@{huffman.c}!aws\_huffman\_encoder\_reset@{aws\_huffman\_encoder\_reset}}
\index{aws\_huffman\_encoder\_reset@{aws\_huffman\_encoder\_reset}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{aws\_huffman\_encoder\_reset()}{aws\_huffman\_encoder\_reset()}}
{\footnotesize\ttfamily void aws\+\_\+huffman\+\_\+encoder\+\_\+reset (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__huffman__encoder}{aws\+\_\+huffman\+\_\+encoder}} $\ast$}]{encoder }\end{DoxyParamCaption})}

Resets a decoder for use with a new binary stream \mbox{\Hypertarget{huffman_8c_ab0cd131935be624d7f384be2a8a8edfb}\label{huffman_8c_ab0cd131935be624d7f384be2a8a8edfb}} 
\index{huffman.c@{huffman.c}!aws\_huffman\_get\_encoded\_length@{aws\_huffman\_get\_encoded\_length}}
\index{aws\_huffman\_get\_encoded\_length@{aws\_huffman\_get\_encoded\_length}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{aws\_huffman\_get\_encoded\_length()}{aws\_huffman\_get\_encoded\_length()}}
{\footnotesize\ttfamily size\+\_\+t aws\+\_\+huffman\+\_\+get\+\_\+encoded\+\_\+length (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__huffman__encoder}{aws\+\_\+huffman\+\_\+encoder}} $\ast$}]{encoder,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}}}]{to\+\_\+encode }\end{DoxyParamCaption})}

Get the byte length of to\+\_\+encode post-\/encoding.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em encoder} & The encoder object to use \\
\hline
\mbox{\texttt{ in}}  & {\em to\+\_\+encode} & The symbol buffer to encode\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The length of the encoded string. 
\end{DoxyReturn}
\mbox{\Hypertarget{huffman_8c_aa74d1e058aca0dd4d963abb4c56e5766}\label{huffman_8c_aa74d1e058aca0dd4d963abb4c56e5766}} 
\index{huffman.c@{huffman.c}!decode\_fill\_working\_bits@{decode\_fill\_working\_bits}}
\index{decode\_fill\_working\_bits@{decode\_fill\_working\_bits}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{decode\_fill\_working\_bits()}{decode\_fill\_working\_bits()}}
{\footnotesize\ttfamily static void decode\+\_\+fill\+\_\+working\+\_\+bits (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structdecoder__state}{decoder\+\_\+state}} $\ast$}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{huffman_8c_abc45dedd3c294727f880d36a1da75b87}\label{huffman_8c_abc45dedd3c294727f880d36a1da75b87}} 
\index{huffman.c@{huffman.c}!encode\_write\_bit\_pattern@{encode\_write\_bit\_pattern}}
\index{encode\_write\_bit\_pattern@{encode\_write\_bit\_pattern}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{encode\_write\_bit\_pattern()}{encode\_write\_bit\_pattern()}}
{\footnotesize\ttfamily static int encode\+\_\+write\+\_\+bit\+\_\+pattern (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structencoder__state}{encoder\+\_\+state}} $\ast$}]{state,  }\item[{struct \mbox{\hyperlink{structaws__huffman__code}{aws\+\_\+huffman\+\_\+code}}}]{bit\+\_\+pattern }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{huffman_8c_a417740f704bca9799be98b119e5b6c45}\label{huffman_8c_a417740f704bca9799be98b119e5b6c45}} 
\index{huffman.c@{huffman.c}!MAX\_PATTERN\_BITS@{MAX\_PATTERN\_BITS}}
\index{MAX\_PATTERN\_BITS@{MAX\_PATTERN\_BITS}!huffman.c@{huffman.c}}
\doxysubsubsection{\texorpdfstring{MAX\_PATTERN\_BITS}{MAX\_PATTERN\_BITS}}
{\footnotesize\ttfamily uint8\+\_\+t MAX\+\_\+\+PATTERN\+\_\+\+BITS = \mbox{\hyperlink{huffman_8c_ae7dde2fa79bd559c2cd2d17121b9e9a2}{BITSIZEOF}}(((struct \mbox{\hyperlink{structaws__huffman__code}{aws\+\_\+huffman\+\_\+code}} $\ast$)0)-\/$>$pattern)\hspace{0.3cm}{\ttfamily [static]}}

