\hypertarget{websocket_8c}{}\doxysection{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/source/websocket.c File Reference}
\label{websocket_8c}\index{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/source/websocket.c@{crt/aws-\/crt-\/cpp/crt/aws-\/c-\/http/source/websocket.c}}
{\ttfamily \#include $<$aws/http/private/websocket\+\_\+impl.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/atomics.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/device\+\_\+random.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/encoding.\+h$>$}\newline
{\ttfamily \#include $<$aws/common/mutex.\+h$>$}\newline
{\ttfamily \#include $<$aws/http/private/websocket\+\_\+decoder.\+h$>$}\newline
{\ttfamily \#include $<$aws/http/private/websocket\+\_\+encoder.\+h$>$}\newline
{\ttfamily \#include $<$aws/http/request\+\_\+response.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/channel.\+h$>$}\newline
{\ttfamily \#include $<$aws/io/logging.\+h$>$}\newline
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structoutgoing__frame}{outgoing\+\_\+frame}}
\item 
struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{websocket_8c_ad84adecd98cab3482fa0beae1100435d}{s\+\_\+handler\+\_\+process\+\_\+read\+\_\+message}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler, struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$slot, struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$message)
\item 
static int \mbox{\hyperlink{websocket_8c_ae9a81c1bef30f4f9667cc6f18c3a186e}{s\+\_\+handler\+\_\+process\+\_\+write\+\_\+message}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler, struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$slot, struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$message)
\item 
static int \mbox{\hyperlink{websocket_8c_a017ea68f21f7106cebe2694c6c2be97b}{s\+\_\+handler\+\_\+increment\+\_\+read\+\_\+window}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler, struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$slot, size\+\_\+t size)
\item 
static int \mbox{\hyperlink{websocket_8c_a20ea43d01e1f0ca25cd6edcfd02c423d}{s\+\_\+handler\+\_\+shutdown}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler, struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$slot, enum \mbox{\hyperlink{channel_8h_a38e100b8bf2153399c980f5a33407cac}{aws\+\_\+channel\+\_\+direction}} dir, int error\+\_\+code, bool free\+\_\+scarce\+\_\+resources\+\_\+immediately)
\item 
static size\+\_\+t \mbox{\hyperlink{websocket_8c_a033c1a843b8a8c8aced31f19f7352249}{s\+\_\+handler\+\_\+initial\+\_\+window\+\_\+size}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler)
\item 
static size\+\_\+t \mbox{\hyperlink{websocket_8c_a6aa3dbdbf1287961459f1cdce3d67b73}{s\+\_\+handler\+\_\+message\+\_\+overhead}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler)
\item 
static void \mbox{\hyperlink{websocket_8c_a43d3807a0d169ba7bd26392dd4ed4d33}{s\+\_\+handler\+\_\+destroy}} (struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$handler)
\item 
static int \mbox{\hyperlink{websocket_8c_ad36fc7c9b6a6512773b3692d72ef7a87}{s\+\_\+encoder\+\_\+stream\+\_\+outgoing\+\_\+payload}} (struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$out\+\_\+buf, void $\ast$user\+\_\+data)
\item 
static int \mbox{\hyperlink{websocket_8c_a6940c7461d80cc9de795867aff632ef9}{s\+\_\+decoder\+\_\+on\+\_\+frame}} (const struct \mbox{\hyperlink{structaws__websocket__frame}{aws\+\_\+websocket\+\_\+frame}} $\ast$frame, void $\ast$user\+\_\+data)
\item 
static int \mbox{\hyperlink{websocket_8c_a757495d12576ff1d7ebc87db48a72f4b}{s\+\_\+decoder\+\_\+on\+\_\+payload}} (struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} data, void $\ast$user\+\_\+data)
\item 
static int \mbox{\hyperlink{websocket_8c_a4055e6102d5747403ae764ccf23daec9}{s\+\_\+decoder\+\_\+on\+\_\+user\+\_\+payload}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} data)
\item 
static int \mbox{\hyperlink{websocket_8c_a17cd0a7d438650b3213595558872981b}{s\+\_\+decoder\+\_\+on\+\_\+midchannel\+\_\+payload}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} data)
\item 
static void \mbox{\hyperlink{websocket_8c_aa4597e3dd0ba4a327b0a26a18cce9a93}{s\+\_\+destroy\+\_\+outgoing\+\_\+frame}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, struct \mbox{\hyperlink{structoutgoing__frame}{outgoing\+\_\+frame}} $\ast$frame, int error\+\_\+code)
\item 
static void \mbox{\hyperlink{websocket_8c_aa0ea97b981096f6780cd762bbc7fdea2}{s\+\_\+complete\+\_\+incoming\+\_\+frame}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code, bool $\ast$out\+\_\+callback\+\_\+result)
\item 
static void \mbox{\hyperlink{websocket_8c_a1796c833ec9fd71c5fc69324f8d6b62d}{s\+\_\+finish\+\_\+shutdown}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
static void \mbox{\hyperlink{websocket_8c_a452cec82ad71c3c416febfd8b9ee64b2}{s\+\_\+io\+\_\+message\+\_\+write\+\_\+completed}} (struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$channel, struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$message, int err\+\_\+code, void $\ast$user\+\_\+data)
\item 
static int \mbox{\hyperlink{websocket_8c_aacc8081379059f5407c2841dfe645b73}{s\+\_\+send\+\_\+frame}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__send__frame__options}{aws\+\_\+websocket\+\_\+send\+\_\+frame\+\_\+options}} $\ast$options, bool from\+\_\+public\+\_\+api)
\item 
static bool \mbox{\hyperlink{websocket_8c_a7274d83fceab078798773933a7bad39d}{s\+\_\+midchannel\+\_\+send\+\_\+payload}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$out\+\_\+buf, void $\ast$user\+\_\+data)
\item 
static void \mbox{\hyperlink{websocket_8c_abd88a4ad7506ab49e1d82816e751324d}{s\+\_\+midchannel\+\_\+send\+\_\+complete}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code, void $\ast$user\+\_\+data)
\item 
static void \mbox{\hyperlink{websocket_8c_af1eb2af29fb4d490c731f495aac90e7a}{s\+\_\+move\+\_\+synced\+\_\+data\+\_\+to\+\_\+thread\+\_\+task}} (struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$task, void $\ast$arg, enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}} status)
\item 
static void \mbox{\hyperlink{websocket_8c_ab7c57cb27e8e4f21d48be7bb417aa2e1}{s\+\_\+increment\+\_\+read\+\_\+window\+\_\+task}} (struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$task, void $\ast$arg, enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}} status)
\item 
static void \mbox{\hyperlink{websocket_8c_ac9ce8dacd06b4a226b791955a4bfdf16}{s\+\_\+shutdown\+\_\+channel\+\_\+task}} (struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$task, void $\ast$arg, enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}} status)
\item 
static void \mbox{\hyperlink{websocket_8c_aaa23cef66398d52af29e611e09e741a5}{s\+\_\+waiting\+\_\+on\+\_\+payload\+\_\+stream\+\_\+task}} (struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$task, void $\ast$arg, enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}} status)
\item 
static void \mbox{\hyperlink{websocket_8c_a569af67ec44b4bc927e5ce36eb7efc68}{s\+\_\+close\+\_\+timeout\+\_\+task}} (struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$task, void $\ast$arg, enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}} status)
\item 
static void \mbox{\hyperlink{websocket_8c_afbd5a05bfa28e312712831f7fb31d60a}{s\+\_\+schedule\+\_\+channel\+\_\+shutdown}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code)
\item 
static void \mbox{\hyperlink{websocket_8c_ae73de53f3991bd02c6dafdaed36b89b7}{s\+\_\+shutdown\+\_\+due\+\_\+to\+\_\+write\+\_\+err}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code)
\item 
static void \mbox{\hyperlink{websocket_8c_a313a4597edfeab85ce1283766e2254a7}{s\+\_\+shutdown\+\_\+due\+\_\+to\+\_\+read\+\_\+err}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int error\+\_\+code)
\item 
static void \mbox{\hyperlink{websocket_8c_a0f70cd77d486b2868ce2e4f067a16499}{s\+\_\+stop\+\_\+writing}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, int send\+\_\+frame\+\_\+error\+\_\+code)
\item 
static void \mbox{\hyperlink{websocket_8c_a974d88d1a41ca4181d4fda9a9470b992}{s\+\_\+try\+\_\+write\+\_\+outgoing\+\_\+frames}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
const char $\ast$ \mbox{\hyperlink{websocket_8c_aa30d39a2766642e07f57378ade3390e5}{aws\+\_\+websocket\+\_\+opcode\+\_\+str}} (uint8\+\_\+t opcode)
\item 
bool \mbox{\hyperlink{websocket_8c_a06153a1145e982bea407655d07adff5c}{aws\+\_\+websocket\+\_\+is\+\_\+data\+\_\+frame}} (uint8\+\_\+t opcode)
\item 
static void \mbox{\hyperlink{websocket_8c_a21b5f4ee9eec51e9fdc9ee038844580b}{s\+\_\+lock\+\_\+synced\+\_\+data}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
static void \mbox{\hyperlink{websocket_8c_aba8746b725b14bbf93676b2ce777b981}{s\+\_\+unlock\+\_\+synced\+\_\+data}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$ \mbox{\hyperlink{websocket_8c_a34011b0e248fb70fa2cdf6db3d814cbb}{aws\+\_\+websocket\+\_\+handler\+\_\+new}} (const struct \mbox{\hyperlink{structaws__websocket__handler__options}{aws\+\_\+websocket\+\_\+handler\+\_\+options}} $\ast$options)
\item 
void \mbox{\hyperlink{websocket_8c_af4208e11aa2c42c069aefdfa7def9e1c}{aws\+\_\+websocket\+\_\+release}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$ \mbox{\hyperlink{websocket_8c_a050ed2dcb9c4c5b965b42ef88fd72555}{aws\+\_\+websocket\+\_\+get\+\_\+channel}} (const struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
int \mbox{\hyperlink{websocket_8c_a95db4a47f610f4678ecabf50ac4c98f5}{aws\+\_\+websocket\+\_\+convert\+\_\+to\+\_\+midchannel\+\_\+handler}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket)
\item 
static void \mbox{\hyperlink{websocket_8c_a8027705024a3c56c63349b6cbd3deb89}{s\+\_\+enqueue\+\_\+prioritized\+\_\+frame}} (struct \mbox{\hyperlink{structaws__linked__list}{aws\+\_\+linked\+\_\+list}} $\ast$list, struct \mbox{\hyperlink{structoutgoing__frame}{outgoing\+\_\+frame}} $\ast$to\+\_\+add)
\item 
int \mbox{\hyperlink{websocket_8c_a0bda921270f5fc6a4dd3668c57f0ec5b}{aws\+\_\+websocket\+\_\+send\+\_\+frame}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, const struct \mbox{\hyperlink{structaws__websocket__send__frame__options}{aws\+\_\+websocket\+\_\+send\+\_\+frame\+\_\+options}} $\ast$options)
\item 
void \mbox{\hyperlink{websocket_8c_adf620f87401022705aff0656f1b766a9}{aws\+\_\+websocket\+\_\+close}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, bool free\+\_\+scarce\+\_\+resources\+\_\+immediately)
\item 
static void \mbox{\hyperlink{websocket_8c_add715d995ee4b7b9fa7f0df0750d9df6}{s\+\_\+increment\+\_\+read\+\_\+window\+\_\+action}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, size\+\_\+t size)
\item 
void \mbox{\hyperlink{websocket_8c_a1b57b2a554f0ccf4ef6a85fdc8e111bc}{aws\+\_\+websocket\+\_\+increment\+\_\+read\+\_\+window}} (struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$websocket, size\+\_\+t size)
\item 
int \mbox{\hyperlink{websocket_8c_a553e8220cbb71901bc2d74606d20e5f6}{aws\+\_\+websocket\+\_\+random\+\_\+handshake\+\_\+key}} (struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$dst)
\item 
struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}} $\ast$ \mbox{\hyperlink{websocket_8c_a3d0f245fb8bd9ac04b1594c9ea48d4d2}{aws\+\_\+http\+\_\+message\+\_\+new\+\_\+websocket\+\_\+handshake\+\_\+request}} (struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$allocator, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} path, struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}} host)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static struct \mbox{\hyperlink{structaws__channel__handler__vtable}{aws\+\_\+channel\+\_\+handler\+\_\+vtable}} \mbox{\hyperlink{websocket_8c_a3d072bbfe640bd5ac89cff6125cc7ffc}{s\+\_\+channel\+\_\+handler\+\_\+vtable}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{websocket_8c_a3d0f245fb8bd9ac04b1594c9ea48d4d2}\label{websocket_8c_a3d0f245fb8bd9ac04b1594c9ea48d4d2}} 
\index{websocket.c@{websocket.c}!aws\_http\_message\_new\_websocket\_handshake\_request@{aws\_http\_message\_new\_websocket\_handshake\_request}}
\index{aws\_http\_message\_new\_websocket\_handshake\_request@{aws\_http\_message\_new\_websocket\_handshake\_request}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_http\_message\_new\_websocket\_handshake\_request()}{aws\_http\_message\_new\_websocket\_handshake\_request()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__http__message}{aws\+\_\+http\+\_\+message}}$\ast$ aws\+\_\+http\+\_\+message\+\_\+new\+\_\+websocket\+\_\+handshake\+\_\+request (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__allocator}{aws\+\_\+allocator}} $\ast$}]{allocator,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}}}]{path,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}}}]{host }\end{DoxyParamCaption})}

Create request with all required fields for a websocket upgrade request. The method and path are set, and the the following headers are added\+:

Host\+: $<$host$>$ Upgrade\+: websocket Connection\+: Upgrade Sec-\/\+Web\+Socket-\/\+Key\+: \texorpdfstring{$<$}{<}base64 encoding of 16 random bytes\texorpdfstring{$>$}{>} Sec-\/\+Web\+Socket-\/\+Version\+: 13 \mbox{\Hypertarget{websocket_8c_adf620f87401022705aff0656f1b766a9}\label{websocket_8c_adf620f87401022705aff0656f1b766a9}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_close@{aws\_websocket\_close}}
\index{aws\_websocket\_close@{aws\_websocket\_close}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_close()}{aws\_websocket\_close()}}
{\footnotesize\ttfamily void aws\+\_\+websocket\+\_\+close (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{bool}]{free\+\_\+scarce\+\_\+resources\+\_\+immediately }\end{DoxyParamCaption})}

Close the websocket connection. It is safe to call this, even if the connection is already closed or closing. The websocket will attempt to send a CLOSE frame during normal shutdown. If {\ttfamily free\+\_\+scarce\+\_\+resources\+\_\+immediately} is true, the connection will be torn down as quickly as possible. This function may be called from any thread. \mbox{\Hypertarget{websocket_8c_a95db4a47f610f4678ecabf50ac4c98f5}\label{websocket_8c_a95db4a47f610f4678ecabf50ac4c98f5}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_convert\_to\_midchannel\_handler@{aws\_websocket\_convert\_to\_midchannel\_handler}}
\index{aws\_websocket\_convert\_to\_midchannel\_handler@{aws\_websocket\_convert\_to\_midchannel\_handler}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_convert\_to\_midchannel\_handler()}{aws\_websocket\_convert\_to\_midchannel\_handler()}}
{\footnotesize\ttfamily int aws\+\_\+websocket\+\_\+convert\+\_\+to\+\_\+midchannel\+\_\+handler (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})}

Convert the websocket into a mid-\/channel handler. The websocket will stop being usable via its public API and become just another handler in the channel. The caller will likely install a channel handler to the right. This must not be called in the middle of an incoming frame (between \char`\"{}frame begin\char`\"{} and \char`\"{}frame complete\char`\"{} callbacks). This MUST be called from the websocket\textquotesingle{}s thread.

If successful\+:
\begin{DoxyItemize}
\item Other than \mbox{\hyperlink{websocket_8h_ab0f2724e2bebd82a314e4d9c362d729a}{aws\+\_\+websocket\+\_\+release()}}, all calls to aws\+\_\+websocket\+\_\+x() functions are ignored.
\item The websocket will no longer invoke any \char`\"{}incoming frame\char`\"{} callbacks.
\item aws\+\_\+io\+\_\+messages written by a downstream handler will be wrapped in binary data frames and sent upstream. The data may be split/combined as it is sent along.
\item aws\+\_\+io\+\_\+messages read from upstream handlers will be scanned for binary data frames. The payloads of these frames will be sent downstream. The payloads may be split/combined as they are sent along.
\item An incoming close frame will automatically result in channel-\/shutdown.
\item \mbox{\hyperlink{websocket_8h_ab0f2724e2bebd82a314e4d9c362d729a}{aws\+\_\+websocket\+\_\+release()}} must still be called or the websocket and its channel will never be cleaned up.
\item The websocket will still invoke its \char`\"{}on connection shutdown\char`\"{} callback when channel shutdown completes.
\end{DoxyItemize}

If unsuccessful, NULL is returned and the websocket is unchanged. \mbox{\Hypertarget{websocket_8c_a050ed2dcb9c4c5b965b42ef88fd72555}\label{websocket_8c_a050ed2dcb9c4c5b965b42ef88fd72555}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_get\_channel@{aws\_websocket\_get\_channel}}
\index{aws\_websocket\_get\_channel@{aws\_websocket\_get\_channel}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_get\_channel()}{aws\_websocket\_get\_channel()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}}$\ast$ aws\+\_\+websocket\+\_\+get\+\_\+channel (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})}

Returns the websocket\textquotesingle{}s underlying I/O channel. \mbox{\Hypertarget{websocket_8c_a34011b0e248fb70fa2cdf6db3d814cbb}\label{websocket_8c_a34011b0e248fb70fa2cdf6db3d814cbb}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_handler\_new@{aws\_websocket\_handler\_new}}
\index{aws\_websocket\_handler\_new@{aws\_websocket\_handler\_new}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_handler\_new()}{aws\_websocket\_handler\_new()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}}$\ast$ aws\+\_\+websocket\+\_\+handler\+\_\+new (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__websocket__handler__options}{aws\+\_\+websocket\+\_\+handler\+\_\+options}} $\ast$}]{options }\end{DoxyParamCaption})}

Create a websocket channel-\/handler and insert it into the channel. \mbox{\Hypertarget{websocket_8c_a1b57b2a554f0ccf4ef6a85fdc8e111bc}\label{websocket_8c_a1b57b2a554f0ccf4ef6a85fdc8e111bc}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_increment\_read\_window@{aws\_websocket\_increment\_read\_window}}
\index{aws\_websocket\_increment\_read\_window@{aws\_websocket\_increment\_read\_window}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_increment\_read\_window()}{aws\_websocket\_increment\_read\_window()}}
{\footnotesize\ttfamily void aws\+\_\+websocket\+\_\+increment\+\_\+read\+\_\+window (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}

Manually increment the read window. The read window shrinks as payload data is received, and reading stops when its size reaches 0. Note that the read window can also be controlled from the \mbox{\hyperlink{websocket_8h_a96232fc291dd4d3715f64b1accf4be06}{aws\+\_\+websocket\+\_\+on\+\_\+incoming\+\_\+frame\+\_\+payload\+\_\+fn()}}, callback, by manipulating the {\ttfamily out\+\_\+increment\+\_\+window} argument. This function may be called from any thread. \mbox{\Hypertarget{websocket_8c_a06153a1145e982bea407655d07adff5c}\label{websocket_8c_a06153a1145e982bea407655d07adff5c}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_is\_data\_frame@{aws\_websocket\_is\_data\_frame}}
\index{aws\_websocket\_is\_data\_frame@{aws\_websocket\_is\_data\_frame}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_is\_data\_frame()}{aws\_websocket\_is\_data\_frame()}}
{\footnotesize\ttfamily bool aws\+\_\+websocket\+\_\+is\+\_\+data\+\_\+frame (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{opcode }\end{DoxyParamCaption})}

Return true if opcode is for a data frame, false if opcode if for a control frame. \mbox{\Hypertarget{websocket_8c_aa30d39a2766642e07f57378ade3390e5}\label{websocket_8c_aa30d39a2766642e07f57378ade3390e5}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_opcode\_str@{aws\_websocket\_opcode\_str}}
\index{aws\_websocket\_opcode\_str@{aws\_websocket\_opcode\_str}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_opcode\_str()}{aws\_websocket\_opcode\_str()}}
{\footnotesize\ttfamily const char$\ast$ aws\+\_\+websocket\+\_\+opcode\+\_\+str (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{opcode }\end{DoxyParamCaption})}

Returns printable name for opcode as c-\/string. \mbox{\Hypertarget{websocket_8c_a553e8220cbb71901bc2d74606d20e5f6}\label{websocket_8c_a553e8220cbb71901bc2d74606d20e5f6}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_random\_handshake\_key@{aws\_websocket\_random\_handshake\_key}}
\index{aws\_websocket\_random\_handshake\_key@{aws\_websocket\_random\_handshake\_key}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_random\_handshake\_key()}{aws\_websocket\_random\_handshake\_key()}}
{\footnotesize\ttfamily int aws\+\_\+websocket\+\_\+random\+\_\+handshake\+\_\+key (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{dst }\end{DoxyParamCaption})}

Generate value for a Sec-\/\+Web\+Socket-\/\+Key header and write it into {\ttfamily dst} buffer. The buffer should have at least AWS\+\_\+\+WEBSOCKET\+\_\+\+MAX\+\_\+\+HANDSHAKE\+\_\+\+KEY\+\_\+\+LENGTH space available.

This value is the base64 encoding of a random 16-\/byte value. RFC-\/6455 Section 4.\+1 \mbox{\Hypertarget{websocket_8c_af4208e11aa2c42c069aefdfa7def9e1c}\label{websocket_8c_af4208e11aa2c42c069aefdfa7def9e1c}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_release@{aws\_websocket\_release}}
\index{aws\_websocket\_release@{aws\_websocket\_release}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_release()}{aws\_websocket\_release()}}
{\footnotesize\ttfamily void aws\+\_\+websocket\+\_\+release (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})}

Users must release the websocket when they are done with it. The websocket\textquotesingle{}s memory cannot be reclaimed until this is done. If the websocket connection was not already shutting down, it will be shut down. Callbacks may continue firing after this is called, with \char`\"{}shutdown\char`\"{} being the final callback. This function may be called from any thread. \mbox{\Hypertarget{websocket_8c_a0bda921270f5fc6a4dd3668c57f0ec5b}\label{websocket_8c_a0bda921270f5fc6a4dd3668c57f0ec5b}} 
\index{websocket.c@{websocket.c}!aws\_websocket\_send\_frame@{aws\_websocket\_send\_frame}}
\index{aws\_websocket\_send\_frame@{aws\_websocket\_send\_frame}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{aws\_websocket\_send\_frame()}{aws\_websocket\_send\_frame()}}
{\footnotesize\ttfamily int aws\+\_\+websocket\+\_\+send\+\_\+frame (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{const struct \mbox{\hyperlink{structaws__websocket__send__frame__options}{aws\+\_\+websocket\+\_\+send\+\_\+frame\+\_\+options}} $\ast$}]{options }\end{DoxyParamCaption})}

Send a websocket frame. The {\ttfamily options} struct is copied. A callback will be invoked when the operation completes. This function may be called from any thread. \mbox{\Hypertarget{websocket_8c_a569af67ec44b4bc927e5ce36eb7efc68}\label{websocket_8c_a569af67ec44b4bc927e5ce36eb7efc68}} 
\index{websocket.c@{websocket.c}!s\_close\_timeout\_task@{s\_close\_timeout\_task}}
\index{s\_close\_timeout\_task@{s\_close\_timeout\_task}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_close\_timeout\_task()}{s\_close\_timeout\_task()}}
{\footnotesize\ttfamily static void s\+\_\+close\+\_\+timeout\+\_\+task (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$}]{task,  }\item[{void $\ast$}]{arg,  }\item[{enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}}}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_aa0ea97b981096f6780cd762bbc7fdea2}\label{websocket_8c_aa0ea97b981096f6780cd762bbc7fdea2}} 
\index{websocket.c@{websocket.c}!s\_complete\_incoming\_frame@{s\_complete\_incoming\_frame}}
\index{s\_complete\_incoming\_frame@{s\_complete\_incoming\_frame}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_complete\_incoming\_frame()}{s\_complete\_incoming\_frame()}}
{\footnotesize\ttfamily static void s\+\_\+complete\+\_\+incoming\+\_\+frame (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{int}]{error\+\_\+code,  }\item[{bool $\ast$}]{out\+\_\+callback\+\_\+result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a6940c7461d80cc9de795867aff632ef9}\label{websocket_8c_a6940c7461d80cc9de795867aff632ef9}} 
\index{websocket.c@{websocket.c}!s\_decoder\_on\_frame@{s\_decoder\_on\_frame}}
\index{s\_decoder\_on\_frame@{s\_decoder\_on\_frame}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_decoder\_on\_frame()}{s\_decoder\_on\_frame()}}
{\footnotesize\ttfamily static int s\+\_\+decoder\+\_\+on\+\_\+frame (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structaws__websocket__frame}{aws\+\_\+websocket\+\_\+frame}} $\ast$}]{frame,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a17cd0a7d438650b3213595558872981b}\label{websocket_8c_a17cd0a7d438650b3213595558872981b}} 
\index{websocket.c@{websocket.c}!s\_decoder\_on\_midchannel\_payload@{s\_decoder\_on\_midchannel\_payload}}
\index{s\_decoder\_on\_midchannel\_payload@{s\_decoder\_on\_midchannel\_payload}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_decoder\_on\_midchannel\_payload()}{s\_decoder\_on\_midchannel\_payload()}}
{\footnotesize\ttfamily static int s\+\_\+decoder\+\_\+on\+\_\+midchannel\+\_\+payload (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}}}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a757495d12576ff1d7ebc87db48a72f4b}\label{websocket_8c_a757495d12576ff1d7ebc87db48a72f4b}} 
\index{websocket.c@{websocket.c}!s\_decoder\_on\_payload@{s\_decoder\_on\_payload}}
\index{s\_decoder\_on\_payload@{s\_decoder\_on\_payload}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_decoder\_on\_payload()}{s\_decoder\_on\_payload()}}
{\footnotesize\ttfamily static int s\+\_\+decoder\+\_\+on\+\_\+payload (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}}}]{data,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a4055e6102d5747403ae764ccf23daec9}\label{websocket_8c_a4055e6102d5747403ae764ccf23daec9}} 
\index{websocket.c@{websocket.c}!s\_decoder\_on\_user\_payload@{s\_decoder\_on\_user\_payload}}
\index{s\_decoder\_on\_user\_payload@{s\_decoder\_on\_user\_payload}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_decoder\_on\_user\_payload()}{s\_decoder\_on\_user\_payload()}}
{\footnotesize\ttfamily static int s\+\_\+decoder\+\_\+on\+\_\+user\+\_\+payload (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{struct \mbox{\hyperlink{structaws__byte__cursor}{aws\+\_\+byte\+\_\+cursor}}}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_aa4597e3dd0ba4a327b0a26a18cce9a93}\label{websocket_8c_aa4597e3dd0ba4a327b0a26a18cce9a93}} 
\index{websocket.c@{websocket.c}!s\_destroy\_outgoing\_frame@{s\_destroy\_outgoing\_frame}}
\index{s\_destroy\_outgoing\_frame@{s\_destroy\_outgoing\_frame}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_destroy\_outgoing\_frame()}{s\_destroy\_outgoing\_frame()}}
{\footnotesize\ttfamily static void s\+\_\+destroy\+\_\+outgoing\+\_\+frame (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{struct \mbox{\hyperlink{structoutgoing__frame}{outgoing\+\_\+frame}} $\ast$}]{frame,  }\item[{int}]{error\+\_\+code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_ad36fc7c9b6a6512773b3692d72ef7a87}\label{websocket_8c_ad36fc7c9b6a6512773b3692d72ef7a87}} 
\index{websocket.c@{websocket.c}!s\_encoder\_stream\_outgoing\_payload@{s\_encoder\_stream\_outgoing\_payload}}
\index{s\_encoder\_stream\_outgoing\_payload@{s\_encoder\_stream\_outgoing\_payload}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_encoder\_stream\_outgoing\_payload()}{s\_encoder\_stream\_outgoing\_payload()}}
{\footnotesize\ttfamily static int s\+\_\+encoder\+\_\+stream\+\_\+outgoing\+\_\+payload (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{out\+\_\+buf,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a8027705024a3c56c63349b6cbd3deb89}\label{websocket_8c_a8027705024a3c56c63349b6cbd3deb89}} 
\index{websocket.c@{websocket.c}!s\_enqueue\_prioritized\_frame@{s\_enqueue\_prioritized\_frame}}
\index{s\_enqueue\_prioritized\_frame@{s\_enqueue\_prioritized\_frame}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_enqueue\_prioritized\_frame()}{s\_enqueue\_prioritized\_frame()}}
{\footnotesize\ttfamily static void s\+\_\+enqueue\+\_\+prioritized\+\_\+frame (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__linked__list}{aws\+\_\+linked\+\_\+list}} $\ast$}]{list,  }\item[{struct \mbox{\hyperlink{structoutgoing__frame}{outgoing\+\_\+frame}} $\ast$}]{to\+\_\+add }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a1796c833ec9fd71c5fc69324f8d6b62d}\label{websocket_8c_a1796c833ec9fd71c5fc69324f8d6b62d}} 
\index{websocket.c@{websocket.c}!s\_finish\_shutdown@{s\_finish\_shutdown}}
\index{s\_finish\_shutdown@{s\_finish\_shutdown}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_finish\_shutdown()}{s\_finish\_shutdown()}}
{\footnotesize\ttfamily static void s\+\_\+finish\+\_\+shutdown (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a43d3807a0d169ba7bd26392dd4ed4d33}\label{websocket_8c_a43d3807a0d169ba7bd26392dd4ed4d33}} 
\index{websocket.c@{websocket.c}!s\_handler\_destroy@{s\_handler\_destroy}}
\index{s\_handler\_destroy@{s\_handler\_destroy}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_handler\_destroy()}{s\_handler\_destroy()}}
{\footnotesize\ttfamily static void s\+\_\+handler\+\_\+destroy (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a017ea68f21f7106cebe2694c6c2be97b}\label{websocket_8c_a017ea68f21f7106cebe2694c6c2be97b}} 
\index{websocket.c@{websocket.c}!s\_handler\_increment\_read\_window@{s\_handler\_increment\_read\_window}}
\index{s\_handler\_increment\_read\_window@{s\_handler\_increment\_read\_window}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_handler\_increment\_read\_window()}{s\_handler\_increment\_read\_window()}}
{\footnotesize\ttfamily static int s\+\_\+handler\+\_\+increment\+\_\+read\+\_\+window (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$}]{slot,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a033c1a843b8a8c8aced31f19f7352249}\label{websocket_8c_a033c1a843b8a8c8aced31f19f7352249}} 
\index{websocket.c@{websocket.c}!s\_handler\_initial\_window\_size@{s\_handler\_initial\_window\_size}}
\index{s\_handler\_initial\_window\_size@{s\_handler\_initial\_window\_size}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_handler\_initial\_window\_size()}{s\_handler\_initial\_window\_size()}}
{\footnotesize\ttfamily static size\+\_\+t s\+\_\+handler\+\_\+initial\+\_\+window\+\_\+size (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a6aa3dbdbf1287961459f1cdce3d67b73}\label{websocket_8c_a6aa3dbdbf1287961459f1cdce3d67b73}} 
\index{websocket.c@{websocket.c}!s\_handler\_message\_overhead@{s\_handler\_message\_overhead}}
\index{s\_handler\_message\_overhead@{s\_handler\_message\_overhead}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_handler\_message\_overhead()}{s\_handler\_message\_overhead()}}
{\footnotesize\ttfamily static size\+\_\+t s\+\_\+handler\+\_\+message\+\_\+overhead (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_ad84adecd98cab3482fa0beae1100435d}\label{websocket_8c_ad84adecd98cab3482fa0beae1100435d}} 
\index{websocket.c@{websocket.c}!s\_handler\_process\_read\_message@{s\_handler\_process\_read\_message}}
\index{s\_handler\_process\_read\_message@{s\_handler\_process\_read\_message}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_handler\_process\_read\_message()}{s\_handler\_process\_read\_message()}}
{\footnotesize\ttfamily static int s\+\_\+handler\+\_\+process\+\_\+read\+\_\+message (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$}]{slot,  }\item[{struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$}]{message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_ae9a81c1bef30f4f9667cc6f18c3a186e}\label{websocket_8c_ae9a81c1bef30f4f9667cc6f18c3a186e}} 
\index{websocket.c@{websocket.c}!s\_handler\_process\_write\_message@{s\_handler\_process\_write\_message}}
\index{s\_handler\_process\_write\_message@{s\_handler\_process\_write\_message}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_handler\_process\_write\_message()}{s\_handler\_process\_write\_message()}}
{\footnotesize\ttfamily static int s\+\_\+handler\+\_\+process\+\_\+write\+\_\+message (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$}]{slot,  }\item[{struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$}]{message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a20ea43d01e1f0ca25cd6edcfd02c423d}\label{websocket_8c_a20ea43d01e1f0ca25cd6edcfd02c423d}} 
\index{websocket.c@{websocket.c}!s\_handler\_shutdown@{s\_handler\_shutdown}}
\index{s\_handler\_shutdown@{s\_handler\_shutdown}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_handler\_shutdown()}{s\_handler\_shutdown()}}
{\footnotesize\ttfamily static int s\+\_\+handler\+\_\+shutdown (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__handler}{aws\+\_\+channel\+\_\+handler}} $\ast$}]{handler,  }\item[{struct \mbox{\hyperlink{structaws__channel__slot}{aws\+\_\+channel\+\_\+slot}} $\ast$}]{slot,  }\item[{enum \mbox{\hyperlink{channel_8h_a38e100b8bf2153399c980f5a33407cac}{aws\+\_\+channel\+\_\+direction}}}]{dir,  }\item[{int}]{error\+\_\+code,  }\item[{bool}]{free\+\_\+scarce\+\_\+resources\+\_\+immediately }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_add715d995ee4b7b9fa7f0df0750d9df6}\label{websocket_8c_add715d995ee4b7b9fa7f0df0750d9df6}} 
\index{websocket.c@{websocket.c}!s\_increment\_read\_window\_action@{s\_increment\_read\_window\_action}}
\index{s\_increment\_read\_window\_action@{s\_increment\_read\_window\_action}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_increment\_read\_window\_action()}{s\_increment\_read\_window\_action()}}
{\footnotesize\ttfamily static void s\+\_\+increment\+\_\+read\+\_\+window\+\_\+action (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_ab7c57cb27e8e4f21d48be7bb417aa2e1}\label{websocket_8c_ab7c57cb27e8e4f21d48be7bb417aa2e1}} 
\index{websocket.c@{websocket.c}!s\_increment\_read\_window\_task@{s\_increment\_read\_window\_task}}
\index{s\_increment\_read\_window\_task@{s\_increment\_read\_window\_task}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_increment\_read\_window\_task()}{s\_increment\_read\_window\_task()}}
{\footnotesize\ttfamily static void s\+\_\+increment\+\_\+read\+\_\+window\+\_\+task (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$}]{task,  }\item[{void $\ast$}]{arg,  }\item[{enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}}}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a452cec82ad71c3c416febfd8b9ee64b2}\label{websocket_8c_a452cec82ad71c3c416febfd8b9ee64b2}} 
\index{websocket.c@{websocket.c}!s\_io\_message\_write\_completed@{s\_io\_message\_write\_completed}}
\index{s\_io\_message\_write\_completed@{s\_io\_message\_write\_completed}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_io\_message\_write\_completed()}{s\_io\_message\_write\_completed()}}
{\footnotesize\ttfamily static void s\+\_\+io\+\_\+message\+\_\+write\+\_\+completed (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel}{aws\+\_\+channel}} $\ast$}]{channel,  }\item[{struct \mbox{\hyperlink{structaws__io__message}{aws\+\_\+io\+\_\+message}} $\ast$}]{message,  }\item[{int}]{err\+\_\+code,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a21b5f4ee9eec51e9fdc9ee038844580b}\label{websocket_8c_a21b5f4ee9eec51e9fdc9ee038844580b}} 
\index{websocket.c@{websocket.c}!s\_lock\_synced\_data@{s\_lock\_synced\_data}}
\index{s\_lock\_synced\_data@{s\_lock\_synced\_data}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_lock\_synced\_data()}{s\_lock\_synced\_data()}}
{\footnotesize\ttfamily static void s\+\_\+lock\+\_\+synced\+\_\+data (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_abd88a4ad7506ab49e1d82816e751324d}\label{websocket_8c_abd88a4ad7506ab49e1d82816e751324d}} 
\index{websocket.c@{websocket.c}!s\_midchannel\_send\_complete@{s\_midchannel\_send\_complete}}
\index{s\_midchannel\_send\_complete@{s\_midchannel\_send\_complete}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_midchannel\_send\_complete()}{s\_midchannel\_send\_complete()}}
{\footnotesize\ttfamily static void s\+\_\+midchannel\+\_\+send\+\_\+complete (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{int}]{error\+\_\+code,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a7274d83fceab078798773933a7bad39d}\label{websocket_8c_a7274d83fceab078798773933a7bad39d}} 
\index{websocket.c@{websocket.c}!s\_midchannel\_send\_payload@{s\_midchannel\_send\_payload}}
\index{s\_midchannel\_send\_payload@{s\_midchannel\_send\_payload}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_midchannel\_send\_payload()}{s\_midchannel\_send\_payload()}}
{\footnotesize\ttfamily static bool s\+\_\+midchannel\+\_\+send\+\_\+payload (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{struct \mbox{\hyperlink{structaws__byte__buf}{aws\+\_\+byte\+\_\+buf}} $\ast$}]{out\+\_\+buf,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_af1eb2af29fb4d490c731f495aac90e7a}\label{websocket_8c_af1eb2af29fb4d490c731f495aac90e7a}} 
\index{websocket.c@{websocket.c}!s\_move\_synced\_data\_to\_thread\_task@{s\_move\_synced\_data\_to\_thread\_task}}
\index{s\_move\_synced\_data\_to\_thread\_task@{s\_move\_synced\_data\_to\_thread\_task}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_move\_synced\_data\_to\_thread\_task()}{s\_move\_synced\_data\_to\_thread\_task()}}
{\footnotesize\ttfamily static void s\+\_\+move\+\_\+synced\+\_\+data\+\_\+to\+\_\+thread\+\_\+task (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$}]{task,  }\item[{void $\ast$}]{arg,  }\item[{enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}}}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_afbd5a05bfa28e312712831f7fb31d60a}\label{websocket_8c_afbd5a05bfa28e312712831f7fb31d60a}} 
\index{websocket.c@{websocket.c}!s\_schedule\_channel\_shutdown@{s\_schedule\_channel\_shutdown}}
\index{s\_schedule\_channel\_shutdown@{s\_schedule\_channel\_shutdown}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_schedule\_channel\_shutdown()}{s\_schedule\_channel\_shutdown()}}
{\footnotesize\ttfamily static void s\+\_\+schedule\+\_\+channel\+\_\+shutdown (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{int}]{error\+\_\+code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_aacc8081379059f5407c2841dfe645b73}\label{websocket_8c_aacc8081379059f5407c2841dfe645b73}} 
\index{websocket.c@{websocket.c}!s\_send\_frame@{s\_send\_frame}}
\index{s\_send\_frame@{s\_send\_frame}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_send\_frame()}{s\_send\_frame()}}
{\footnotesize\ttfamily static int s\+\_\+send\+\_\+frame (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{const struct \mbox{\hyperlink{structaws__websocket__send__frame__options}{aws\+\_\+websocket\+\_\+send\+\_\+frame\+\_\+options}} $\ast$}]{options,  }\item[{bool}]{from\+\_\+public\+\_\+api }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_ac9ce8dacd06b4a226b791955a4bfdf16}\label{websocket_8c_ac9ce8dacd06b4a226b791955a4bfdf16}} 
\index{websocket.c@{websocket.c}!s\_shutdown\_channel\_task@{s\_shutdown\_channel\_task}}
\index{s\_shutdown\_channel\_task@{s\_shutdown\_channel\_task}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_shutdown\_channel\_task()}{s\_shutdown\_channel\_task()}}
{\footnotesize\ttfamily static void s\+\_\+shutdown\+\_\+channel\+\_\+task (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$}]{task,  }\item[{void $\ast$}]{arg,  }\item[{enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}}}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a313a4597edfeab85ce1283766e2254a7}\label{websocket_8c_a313a4597edfeab85ce1283766e2254a7}} 
\index{websocket.c@{websocket.c}!s\_shutdown\_due\_to\_read\_err@{s\_shutdown\_due\_to\_read\_err}}
\index{s\_shutdown\_due\_to\_read\_err@{s\_shutdown\_due\_to\_read\_err}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_shutdown\_due\_to\_read\_err()}{s\_shutdown\_due\_to\_read\_err()}}
{\footnotesize\ttfamily static void s\+\_\+shutdown\+\_\+due\+\_\+to\+\_\+read\+\_\+err (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{int}]{error\+\_\+code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_ae73de53f3991bd02c6dafdaed36b89b7}\label{websocket_8c_ae73de53f3991bd02c6dafdaed36b89b7}} 
\index{websocket.c@{websocket.c}!s\_shutdown\_due\_to\_write\_err@{s\_shutdown\_due\_to\_write\_err}}
\index{s\_shutdown\_due\_to\_write\_err@{s\_shutdown\_due\_to\_write\_err}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_shutdown\_due\_to\_write\_err()}{s\_shutdown\_due\_to\_write\_err()}}
{\footnotesize\ttfamily static void s\+\_\+shutdown\+\_\+due\+\_\+to\+\_\+write\+\_\+err (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{int}]{error\+\_\+code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a0f70cd77d486b2868ce2e4f067a16499}\label{websocket_8c_a0f70cd77d486b2868ce2e4f067a16499}} 
\index{websocket.c@{websocket.c}!s\_stop\_writing@{s\_stop\_writing}}
\index{s\_stop\_writing@{s\_stop\_writing}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_stop\_writing()}{s\_stop\_writing()}}
{\footnotesize\ttfamily static void s\+\_\+stop\+\_\+writing (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket,  }\item[{int}]{send\+\_\+frame\+\_\+error\+\_\+code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_a974d88d1a41ca4181d4fda9a9470b992}\label{websocket_8c_a974d88d1a41ca4181d4fda9a9470b992}} 
\index{websocket.c@{websocket.c}!s\_try\_write\_outgoing\_frames@{s\_try\_write\_outgoing\_frames}}
\index{s\_try\_write\_outgoing\_frames@{s\_try\_write\_outgoing\_frames}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_try\_write\_outgoing\_frames()}{s\_try\_write\_outgoing\_frames()}}
{\footnotesize\ttfamily static void s\+\_\+try\+\_\+write\+\_\+outgoing\+\_\+frames (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_aba8746b725b14bbf93676b2ce777b981}\label{websocket_8c_aba8746b725b14bbf93676b2ce777b981}} 
\index{websocket.c@{websocket.c}!s\_unlock\_synced\_data@{s\_unlock\_synced\_data}}
\index{s\_unlock\_synced\_data@{s\_unlock\_synced\_data}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_unlock\_synced\_data()}{s\_unlock\_synced\_data()}}
{\footnotesize\ttfamily static void s\+\_\+unlock\+\_\+synced\+\_\+data (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__websocket}{aws\+\_\+websocket}} $\ast$}]{websocket }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{websocket_8c_aaa23cef66398d52af29e611e09e741a5}\label{websocket_8c_aaa23cef66398d52af29e611e09e741a5}} 
\index{websocket.c@{websocket.c}!s\_waiting\_on\_payload\_stream\_task@{s\_waiting\_on\_payload\_stream\_task}}
\index{s\_waiting\_on\_payload\_stream\_task@{s\_waiting\_on\_payload\_stream\_task}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_waiting\_on\_payload\_stream\_task()}{s\_waiting\_on\_payload\_stream\_task()}}
{\footnotesize\ttfamily static void s\+\_\+waiting\+\_\+on\+\_\+payload\+\_\+stream\+\_\+task (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structaws__channel__task}{aws\+\_\+channel\+\_\+task}} $\ast$}]{task,  }\item[{void $\ast$}]{arg,  }\item[{enum \mbox{\hyperlink{task__scheduler_8h_ab115fdd804adabe90197d5ae212d032e}{aws\+\_\+task\+\_\+status}}}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{websocket_8c_a3d072bbfe640bd5ac89cff6125cc7ffc}\label{websocket_8c_a3d072bbfe640bd5ac89cff6125cc7ffc}} 
\index{websocket.c@{websocket.c}!s\_channel\_handler\_vtable@{s\_channel\_handler\_vtable}}
\index{s\_channel\_handler\_vtable@{s\_channel\_handler\_vtable}!websocket.c@{websocket.c}}
\doxysubsubsection{\texorpdfstring{s\_channel\_handler\_vtable}{s\_channel\_handler\_vtable}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structaws__channel__handler__vtable}{aws\+\_\+channel\+\_\+handler\+\_\+vtable}} s\+\_\+channel\+\_\+handler\+\_\+vtable\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{    .process\_read\_message = \mbox{\hyperlink{websocket_8c_ad84adecd98cab3482fa0beae1100435d}{s\_handler\_process\_read\_message}},}
\DoxyCodeLine{    .process\_write\_message = \mbox{\hyperlink{websocket_8c_ae9a81c1bef30f4f9667cc6f18c3a186e}{s\_handler\_process\_write\_message}},}
\DoxyCodeLine{    .increment\_read\_window = \mbox{\hyperlink{websocket_8c_a017ea68f21f7106cebe2694c6c2be97b}{s\_handler\_increment\_read\_window}},}
\DoxyCodeLine{    .shutdown = \mbox{\hyperlink{websocket_8c_a20ea43d01e1f0ca25cd6edcfd02c423d}{s\_handler\_shutdown}},}
\DoxyCodeLine{    .initial\_window\_size = \mbox{\hyperlink{websocket_8c_a033c1a843b8a8c8aced31f19f7352249}{s\_handler\_initial\_window\_size}},}
\DoxyCodeLine{    .message\_overhead = \mbox{\hyperlink{websocket_8c_a6aa3dbdbf1287961459f1cdce3d67b73}{s\_handler\_message\_overhead}},}
\DoxyCodeLine{    .destroy = \mbox{\hyperlink{websocket_8c_a43d3807a0d169ba7bd26392dd4ed4d33}{s\_handler\_destroy}},}
\DoxyCodeLine{\}}

\end{DoxyCode}
